(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function F(){}const We=t=>t;function Xt(t,e){for(const n in e)t[n]=e[n];return t}function Ri(t){return t()}function Gn(){return Object.create(null)}function me(t){t.forEach(Ri)}function At(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ht;function ke(t,e){return Ht||(Ht=document.createElement("a")),Ht.href=e,t===Ht.href}function Zi(t){return Object.keys(t).length===0}function ji(t,...e){if(t==null)return F;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Li(t){let e;return ji(t,n=>e=n)(),e}function qe(t,e,n){t.$$.on_destroy.push(ji(e,n))}function es(t,e,n,i){if(t){const s=Mi(t,e,n,i);return t[0](s)}}function Mi(t,e,n,i){return t[1]&&i?Xt(n.ctx.slice(),t[1](i(e))):n.ctx}function ts(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let l=0;l<o;l+=1)r[l]=e.dirty[l]|s[l];return r}return e.dirty|s}return e.dirty}function ns(t,e,n,i,s,r){if(s){const o=Mi(e,n,i,r);t.p(o,s)}}function is(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Vn(t){return t??""}function Wn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Pi=typeof window<"u";let rn=Pi?()=>window.performance.now():()=>Date.now(),Rn=Pi?t=>requestAnimationFrame(t):F;const rt=new Set;function Ni(t){rt.forEach(e=>{e.c(t)||(rt.delete(e),e.f())}),rt.size!==0&&Rn(Ni)}function ln(t){let e;return rt.size===0&&Rn(Ni),{promise:new Promise(n=>{rt.add(e={c:t,f:n})}),abort(){rt.delete(e)}}}function m(t,e){t.appendChild(e)}function qi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ss(t){const e=g("style");return os(qi(t),e),e.sheet}function os(t,e){return m(t.head||t,e),e.sheet}function x(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function Hi(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function rs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function te(t){return document.createTextNode(t)}function R(){return te(" ")}function $t(){return te("")}function J(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ls(t){return t===""?null:+t}function as(t){return Array.from(t.childNodes)}function He(t,e){e=""+e,t.data!==e&&(t.data=e)}function Jn(t,e){t.value=e??""}function Qe(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function we(t,e,n){t.classList[n?"add":"remove"](e)}function cs(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}class us{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=rs(n.nodeName):this.e=g(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)x(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach($)}}function Yt(t,e){return new t(e)}const Kt=new Map;let Qt=0;function fs(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ds(t,e){const n={stylesheet:ss(e),rules:{}};return Kt.set(t,n),n}function jn(t,e,n,i,s,r,o,l=0){const a=16.666/i;let c=`{
`;for(let w=0;w<=1;w+=a){const E=e+(n-e)*r(w);c+=w*100+`%{${o(E,1-E)}}
`}const f=c+`100% {${o(n,1-n)}}
}`,p=`__svelte_${fs(f)}_${l}`,_=qi(t),{stylesheet:h,rules:d}=Kt.get(_)||ds(_,t);d[p]||(d[p]=!0,h.insertRule(`@keyframes ${p} ${f}`,h.cssRules.length));const C=t.style.animation||"";return t.style.animation=`${C?`${C}, `:""}${p} ${i}ms linear ${s}ms 1 both`,Qt+=1,p}function Zt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),Qt-=s,Qt||ps())}function ps(){Rn(()=>{Qt||(Kt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&$(e)}),Kt.clear())})}function ms(t,e,n,i){if(!e)return F;const s=t.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return F;const{delay:r=0,duration:o=300,easing:l=We,start:a=rn()+r,end:c=a+o,tick:f=F,css:p}=n(t,{from:e,to:s},i);let _=!0,h=!1,d;function C(){p&&(d=jn(t,0,1,o,r,l,p)),r||(h=!0)}function w(){p&&Zt(t,d),_=!1}return ln(E=>{if(!h&&E>=a&&(h=!0),h&&E>=c&&(f(1,0),w()),!_)return!1;if(h){const O=E-a,I=0+1*l(O/o);f(I,1-I)}return!0}),C(),f(0,1),w}function hs(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:i}=e,s=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,Di(t,s)}}function Di(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),s=i.transform==="none"?"":i.transform;t.style.transform=`${s} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let St;function yt(t){St=t}function Ui(){if(!St)throw new Error("Function called outside component initialization");return St}function _s(t){Ui().$$.on_mount.push(t)}function gs(t){Ui().$$.on_destroy.push(t)}const it=[],en=[];let lt=[];const yn=[],bs=Promise.resolve();let Sn=!1;function ws(){Sn||(Sn=!0,bs.then(zi))}function ut(t){lt.push(t)}function vs(t){yn.push(t)}const mn=new Set;let Ze=0;function zi(){if(Ze!==0)return;const t=St;do{try{for(;Ze<it.length;){const e=it[Ze];Ze++,yt(e),ks(e.$$)}}catch(e){throw it.length=0,Ze=0,e}for(yt(null),it.length=0,Ze=0;en.length;)en.pop()();for(let e=0;e<lt.length;e+=1){const n=lt[e];mn.has(n)||(mn.add(n),n())}lt.length=0}while(it.length);for(;yn.length;)yn.pop()();Sn=!1,mn.clear(),yt(t)}function ks(t){if(t.fragment!==null){t.update(),me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ut)}}function ys(t){const e=[],n=[];lt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),lt=e}let _t;function Fi(){return _t||(_t=Promise.resolve(),_t.then(()=>{_t=null})),_t}function tn(t,e,n){t.dispatchEvent(cs(`${e?"intro":"outro"}${n}`))}const Vt=new Set;let Me;function ye(){Me={r:0,c:[],p:Me}}function Se(){Me.r||me(Me.c),Me=Me.p}function H(t,e){t&&t.i&&(Vt.delete(t),t.i(e))}function z(t,e,n,i){if(t&&t.o){if(Vt.has(t))return;Vt.add(t),Me.c.push(()=>{Vt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Bi={duration:0};function Ss(t,e,n){const i={direction:"in"};let s=e(t,n,i),r=!1,o,l,a=0;function c(){o&&Zt(t,o)}function f(){const{delay:_=0,duration:h=300,easing:d=We,tick:C=F,css:w}=s||Bi;w&&(o=jn(t,0,1,h,_,d,w,a++)),C(0,1);const E=rn()+_,O=E+h;l&&l.abort(),r=!0,ut(()=>tn(t,!0,"start")),l=ln(I=>{if(r){if(I>=O)return C(1,0),tn(t,!0,"end"),c(),r=!1;if(I>=E){const B=d((I-E)/h);C(B,1-B)}}return r})}let p=!1;return{start(){p||(p=!0,Zt(t),At(s)?(s=s(i),Fi().then(f)):f())},invalidate(){p=!1},end(){r&&(c(),r=!1)}}}function Cs(t,e,n){const i={direction:"out"};let s=e(t,n,i),r=!0,o;const l=Me;l.r+=1;function a(){const{delay:c=0,duration:f=300,easing:p=We,tick:_=F,css:h}=s||Bi;h&&(o=jn(t,1,0,f,c,p,h));const d=rn()+c,C=d+f;ut(()=>tn(t,!1,"start")),ln(w=>{if(r){if(w>=C)return _(0,1),tn(t,!1,"end"),--l.r||me(l.c),!1;if(w>=d){const E=p((w-d)/f);_(1-E,E)}}return r})}return At(s)?Fi().then(()=>{s=s(i),a()}):a(),{end(c){c&&s.tick&&s.tick(1,0),r&&(o&&Zt(t,o),r=!1)}}}function Ts(t,e){z(t,1,1,()=>{e.delete(t.key)})}function As(t,e){t.f(),Ts(t,e)}function $s(t,e,n,i,s,r,o,l,a,c,f,p){let _=t.length,h=r.length,d=_;const C={};for(;d--;)C[t[d].key]=d;const w=[],E=new Map,O=new Map,I=[];for(d=h;d--;){const A=p(s,r,d),L=n(A);let G=o.get(L);G?i&&I.push(()=>G.p(A,e)):(G=c(L,A),G.c()),E.set(L,w[d]=G),L in C&&O.set(L,Math.abs(d-C[L]))}const B=new Set,P=new Set;function j(A){H(A,1),A.m(l,f),o.set(A.key,A),f=A.first,h--}for(;_&&h;){const A=w[h-1],L=t[_-1],G=A.key,U=L.key;A===L?(f=A.first,_--,h--):E.has(U)?!o.has(G)||B.has(G)?j(A):P.has(U)?_--:O.get(G)>O.get(U)?(P.add(G),j(A)):(B.add(U),_--):(a(L,o),_--)}for(;_--;){const A=t[_];E.has(A.key)||a(A,o)}for(;h;)j(w[h-1]);return me(I),w}function Es(t,e){const n={},i={},s={$$scope:1};let r=t.length;for(;r--;){const o=t[r],l=e[r];if(l){for(const a in o)a in l||(i[a]=1);for(const a in l)s[a]||(n[a]=l[a],s[a]=1);t[r]=l}else for(const a in o)s[a]=1}for(const o in i)o in n||(n[o]=void 0);return n}function Os(t){return typeof t=="object"&&t!==null?t:{}}function Xn(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ae(t){t&&t.c()}function ne(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||ut(()=>{const o=t.$$.on_mount.map(Ri).filter(At);t.$$.on_destroy?t.$$.on_destroy.push(...o):me(o),t.$$.on_mount=[]}),r.forEach(ut)}function ie(t,e){const n=t.$$;n.fragment!==null&&(ys(n.after_update),me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xs(t,e){t.$$.dirty[0]===-1&&(it.push(t),ws(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,i,s,r,o,l=[-1]){const a=St;yt(t);const c=t.$$={fragment:null,ctx:[],props:r,update:F,not_equal:s,bound:Gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Gn(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(p,_,...h)=>{const d=h.length?h[0]:_;return c.ctx&&s(c.ctx[p],c.ctx[p]=d)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](d),f&&xs(t,p)),_}):[],c.update(),f=!0,me(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const p=as(e.target);c.fragment&&c.fragment.l(p),p.forEach($)}else c.fragment&&c.fragment.c();e.intro&&H(t.$$.fragment),ne(t,e.target,e.anchor,e.customElement),zi()}yt(a)}class _e{$destroy(){ie(this,1),this.$destroy=F}$on(e,n){if(!At(n))return F;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Zi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const et=[];function Is(t,e){return{subscribe:pt(t,e).subscribe}}function pt(t,e=F){let n;const i=new Set;function s(l){if(fe(t,l)&&(t=l,n)){const a=!et.length;for(const c of i)c[1](),et.push(c,t);if(a){for(let c=0;c<et.length;c+=2)et[c][0](et[c+1]);et.length=0}}}function r(l){s(l(t))}function o(l,a=F){const c=[l,a];return i.add(c),i.size===1&&(n=e(s)||F),l(t),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function Gi(t){const e=t-1;return e*e*e+1}function Yn(t){return Object.prototype.toString.call(t)==="[object Date]"}function Cn(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((s,r)=>Cn(t[r],s));return s=>i.map(r=>r(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Yn(t)&&Yn(e)){t=t.getTime(),e=e.getTime();const r=e-t;return o=>new Date(t+o*r)}const i=Object.keys(e),s={};return i.forEach(r=>{s[r]=Cn(t[r],e[r])}),r=>{const o={};return i.forEach(l=>{o[l]=s[l](r)}),o}}if(n==="number"){const i=e-t;return s=>t+s*i}throw new Error(`Cannot interpolate ${n} values`)}function Vi(t,e={}){const n=pt(t);let i,s=t;function r(o,l){if(t==null)return n.set(t=o),Promise.resolve();s=o;let a=i,c=!1,{delay:f=0,duration:p=400,easing:_=We,interpolate:h=Cn}=Xt(Xt({},e),l);if(p===0)return a&&(a.abort(),a=null),n.set(t=s),Promise.resolve();const d=rn()+f;let C;return i=ln(w=>{if(w<d)return!0;c||(C=h(t,o),typeof p=="function"&&(p=p(t,o)),c=!0),a&&(a.abort(),a=null);const E=w-d;return E>p?(n.set(t=o),!1):(n.set(t=C(_(E/p))),!0)}),i.promise}return{set:r,update:(o,l)=>r(o(s,t),l),subscribe:n.subscribe}}var hn={};function Kn(t){return t==="local"?localStorage:sessionStorage}function Rs(t,e,n){const i=(n==null?void 0:n.serializer)??JSON,s=(n==null?void 0:n.storage)??"local",r=typeof window<"u"&&typeof document<"u";function o(l,a){r&&Kn(s).setItem(l,i.stringify(a))}if(!hn[t]){const l=pt(e,f=>{const p=r?Kn(s).getItem(t):null;if(p&&f(i.parse(p)),r){const _=h=>{h.key===t&&f(h.newValue?i.parse(h.newValue):null)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)}}),{subscribe:a,set:c}=l;hn[t]={set(f){o(t,f),c(f)},update(f){const p=f(Li(l));o(t,p),c(p)},subscribe:a}}return hn[t]}let Fe=Rs("settings",{roundedCorners:!1,volume:1,debugSettings:!1}),Wi=pt(!1);var js="2.0.0-beta.3",ft="",Qn="?",Tn="function",Pe="undefined",dt="object",An="string",Ct="major",y="model",b="name",k="type",T="vendor",v="version",re="architecture",st="console",D="mobile",V="tablet",ce="smarttv",Wt="wearable",Zn="xr",$n="embedded",ei="user-agent",En=500,Ln="brands",Be="formFactors",Mn="fullVersionList",at="platform",Pn="platformVersion",an="bitness",De="sec-ch-ua",Ls=De+"-full-version-list",Ms=De+"-arch",Ps=De+"-"+an,Ns=De+"-form-factors",qs=De+"-"+D,Hs=De+"-"+y,Ji=De+"-"+at,Ds=Ji+"-version",Xi=[Ln,Mn,D,y,at,Pn,re,Be,an],ue="browser",Ae="cpu",ve="device",$e="engine",pe="os",ct="result",Dt="Amazon",gt="Apple",ti="ASUS",ni="BlackBerry",Ut="Google",ii="Huawei",si="Lenovo",_n="LG",Jt="Microsoft",oi="Motorola",zt="Samsung",ri="Sharp",Ft="Sony",gn="Xiaomi",bn="Zebra",tt="Mobile ",nt=" Browser",Bt="Chrome",Us="Edge",bt="Firefox",wt="Opera",li="Facebook",ai="Sogou",On="Windows",zs=typeof window!==Pe,le=zs&&window.navigator?window.navigator:void 0,Le=le&&le.userAgentData?le.userAgentData:void 0,Fs=function(t,e){var n={},i=e;if(!nn(e)){i={};for(var s in e)for(var r in e[s])i[r]=e[s][r].concat(i[r]?i[r]:[])}for(var o in t)n[o]=i[o]&&i[o].length%2===0?i[o].concat(t[o]):t[o];return n},cn=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},xn=function(t,e){if(typeof t===dt&&t.length>0){for(var n in t)if(Ne(t[n])==Ne(e))return!0;return!1}return mt(t)?Ne(e).indexOf(Ne(t))!==-1:!1},nn=function(t,e){for(var n in t)return/^(browser|cpu|device|engine|os)$/.test(n)||(e?nn(t[n]):!1)},mt=function(t){return typeof t===An},wn=function(t){if(t){for(var e=[],n=Ve(/\\?\"/g,t).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var s=Tt(n[i]).split(";v=");e[i]={brand:s[0],version:s[1]}}else e[i]=Tt(n[i]);return e}},Ne=function(t){return mt(t)?t.toLowerCase():t},vn=function(t){return mt(t)?Ve(/[^\d\.]/g,t).split(".")[0]:void 0},Ee=function(t){for(var e in t){var n=t[e];typeof n==dt&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},Ve=function(t,e){return mt(e)?e.replace(t,ft):e},vt=function(t){return Ve(/\\?\"/g,t)},Tt=function(t,e){if(mt(t))return t=Ve(/^\s\s*/,t),typeof e===Pe?t:t.substring(0,En)},ci=function(t,e){if(!(!t||!e))for(var n=0,i,s,r,o,l,a;n<e.length&&!l;){var c=e[n],f=e[n+1];for(i=s=0;i<c.length&&!l&&c[i];)if(l=c[i++].exec(t),l)for(r=0;r<f.length;r++)a=l[++s],o=f[r],typeof o===dt&&o.length>0?o.length===2?typeof o[1]==Tn?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:o.length===3?typeof o[1]===Tn&&!(o[1].exec&&o[1].test)?this[o[0]]=a?o[1].call(this,a,o[2]):void 0:this[o[0]]=a?a.replace(o[1],o[2]):void 0:o.length===4&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;n+=2}},sn=function(t,e){for(var n in e)if(typeof e[n]===dt&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(xn(e[n][i],t))return n===Qn?void 0:n}else if(xn(e[n],t))return n===Qn?void 0:n;return e.hasOwnProperty("*")?e["*"]:t},ui={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},fi={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},di={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[b,tt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,v],[/opios[\/ ]+([\w\.]+)/i],[v,[b,wt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[b,wt+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[b,wt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[b,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,v],[/\bddg\/([\w\.]+)/i],[v,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[b,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[b,"Smart "+si+nt]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure"+nt],v],[/\bfocus\/([\w\.]+)/i],[v,[b,bt+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[b,wt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[b,wt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[b,"MIUI"+nt]],[/fxios\/([\w\.-]+)/i],[v,[b,tt+bt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360"+nt]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+nt],v],[/samsungbrowser\/([\w\.]+)/i],[v,[b,zt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[b,ai+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,ai+" Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[b,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,li],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[b,Bt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,Bt+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[b,"Android"+nt]],[/chrome\/([\w\.]+) mobile/i],[v,[b,tt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,v],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[v,[b,tt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[b,tt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[v,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[v,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[b,v],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[b,tt+bt],v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],v],[/(wolvic)\/([\w\.]+)/i],[b,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[b,bt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[b,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[v,/[^\d\.]+./,ft]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[re,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[re,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[re,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[re,"armhf"]],[/windows (ce|mobile); ppc;/i],[[re,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[re,/ower/,ft,Ne]],[/(sun4\w)[;\)]/i],[[re,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[re,Ne]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[T,zt],[k,V]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[y,[T,zt],[k,D]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[y,[T,gt],[k,D]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[T,gt],[k,V]],[/(macintosh);/i],[y,[T,gt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[T,ri],[k,D]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[y,[T,ii],[k,V]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[T,ii],[k,D]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[y,/_/g," "],[T,gn],[k,D]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[y,/_/g," "],[T,gn],[k,V]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[T,"OPPO"],[k,D]],[/\b(opd2\d{3}a?) bui/i],[y,[T,"OPPO"],[k,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[T,"Vivo"],[k,D]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[y,[T,"Realme"],[k,D]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[T,oi],[k,D]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[T,oi],[k,V]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[T,_n],[k,V]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[T,_n],[k,D]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[y,[T,si],[k,V]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[y,/_/g," "],[T,"Nokia"],[k,D]],[/(pixel c)\b/i],[y,[T,Ut],[k,V]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[T,Ut],[k,D]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[T,Ft],[k,D]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[T,Ft],[k,V]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[T,"OnePlus"],[k,D]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[T,Dt],[k,V]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[T,Dt],[k,D]],[/(playbook);[-\w\),; ]+(rim)/i],[y,T,[k,V]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[T,ni],[k,D]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[T,ti],[k,V]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[T,ti],[k,D]],[/(nexus 9)/i],[y,[T,"HTC"],[k,V]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[T,[y,/_/g," "],[k,D]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[T,"Acer"],[k,V]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[T,"Meizu"],[k,D]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[y,[T,"Ulefone"],[k,D]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[T,y,[k,D]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[T,y,[k,V]],[/(surface duo)/i],[y,[T,Jt],[k,V]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[T,"Fairphone"],[k,D]],[/(shield[\w ]+) b/i],[y,[T,"Nvidia"],[k,V]],[/(sprint) (\w+)/i],[T,y,[k,D]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[T,Jt],[k,D]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[T,bn],[k,V]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[T,bn],[k,D]],[/smart-tv.+(samsung)/i],[T,[k,ce]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[T,zt],[k,ce]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[T,_n],[k,ce]],[/(apple) ?tv/i],[T,[y,gt+" TV"],[k,ce]],[/crkey/i],[[y,Bt+"cast"],[T,Ut],[k,ce]],[/droid.+aft(\w+)( bui|\))/i],[y,[T,Dt],[k,ce]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[T,ri],[k,ce]],[/(bravia[\w ]+)( bui|\))/i],[y,[T,Ft],[k,ce]],[/(mitv-\w{5}) bui/i],[y,[T,gn],[k,ce]],[/Hbbtv.*(technisat) (.*);/i],[T,y,[k,ce]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[T,Tt],[y,Tt],[k,ce]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[k,ce]],[/(ouya)/i,/(nintendo) (\w+)/i],[T,y,[k,st]],[/droid.+; (shield) bui/i],[y,[T,"Nvidia"],[k,st]],[/(playstation \w+)/i],[y,[T,Ft],[k,st]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[T,Jt],[k,st]],[/((pebble))app/i],[T,y,[k,Wt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[y,[T,gt],[k,Wt]],[/droid.+; (wt63?0{2,3})\)/i],[y,[T,bn],[k,Wt]],[/droid.+; (glass) \d/i],[y,[T,Ut],[k,Zn]],[/(quest( \d| pro)?)/i],[y,[T,li],[k,Zn]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[T,[k,$n]],[/(aeobc)\b/i],[y,[T,Dt],[k,$n]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[y,[k,D]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[y,[k,V]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[k,V]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[k,D]],[/(android[-\w\. ]{0,9});.+buil/i],[y,[T,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[b,Us+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[b,[v,sn,ui]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,sn,ui],[b,On]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"macOS"],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,v],[/\(bb(10);/i],[v,[b,ni]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[b,bt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[b,Bt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,"Chrome OS"],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,v],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,v]]},Gt=function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Ee.call(t.init,[[ue,[b,v,Ct,k]],[Ae,[re]],[ve,[k,y,T]],[$e,[b,v]],[pe,[b,v]]]),Ee.call(t.isIgnore,[[ue,[v,Ct]],[$e,[v]],[pe,[v]]]),Ee.call(t.isIgnoreRgx,[[ue,/ ?browser$/i],[pe,/ ?os$/i]]),Ee.call(t.toString,[[ue,[b,v]],[Ae,[re]],[ve,[T,y]],[$e,[b,v]],[pe,[b,v]]]),t}(),Bs=function(t,e){var n=Gt.init[e],i=Gt.isIgnore[e]||0,s=Gt.isIgnoreRgx[e]||0,r=Gt.toString[e]||0;function o(){Ee.call(this,n)}return o.prototype.getItem=function(){return t},o.prototype.withClientHints=function(){return Le?Le.getHighEntropyValues(Xi).then(function(l){return t.setCH(new Yi(l,!1)).parseCH().get()}):t.parseCH().get()},o.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=ct&&(o.prototype.is=function(l){var a=!1;for(var c in this)if(this.hasOwnProperty(c)&&!xn(i,c)&&Ne(s?Ve(s,this[c]):this[c])==Ne(s?Ve(s,l):l)){if(a=!0,l!=Pe)break}else if(l==Pe&&a){a=!a;break}return a},o.prototype.toString=function(){var l=ft;for(var a in r)typeof this[r[a]]!==Pe&&(l+=(l?" ":ft)+this[r[a]]);return l||Pe}),Le||(o.prototype.then=function(l){var a=this,c=function(){for(var p in a)a.hasOwnProperty(p)&&(this[p]=a[p])};c.prototype={is:o.prototype.is,toString:o.prototype.toString};var f=new c;return l(f),f}),new o};function Yi(t,e){if(t=t||{},Ee.call(this,Xi),e)Ee.call(this,[[Ln,wn(t[De])],[Mn,wn(t[Ls])],[D,/\?1/.test(t[qs])],[y,vt(t[Hs])],[at,vt(t[Ji])],[Pn,vt(t[Ds])],[re,vt(t[Ms])],[Be,wn(t[Ns])],[an,vt(t[Ps])]]);else for(var n in t)this.hasOwnProperty(n)&&typeof t[n]!==Pe&&(this[n]=t[n])}function pi(t,e,n,i){return this.get=function(s){return s?this.data.hasOwnProperty(s)?this.data[s]:void 0:this.data},this.set=function(s,r){return this.data[s]=r,this},this.setCH=function(s){return this.uaCH=s,this},this.detectFeature=function(){if(le&&le.userAgent==this.ua)switch(this.itemType){case ue:le.brave&&typeof le.brave.isBrave==Tn&&this.set(b,"Brave");break;case ve:!this.get(k)&&Le&&Le[D]&&this.set(k,D),this.get(y)=="Macintosh"&&le&&typeof le.standalone!==Pe&&le.maxTouchPoints&&le.maxTouchPoints>2&&this.set(y,"iPad").set(k,V);break;case pe:!this.get(b)&&Le&&Le[at]&&this.set(b,Le[at]);break;case ct:var s=this.data,r=function(o){return s[o].getItem().detectFeature().get()};this.set(ue,r(ue)).set(Ae,r(Ae)).set(ve,r(ve)).set($e,r($e)).set(pe,r(pe))}return this},this.parseUA=function(){return this.itemType!=ct&&ci.call(this.data,this.ua,this.rgxMap),this.itemType==ue&&this.set(Ct,vn(this.get(v))),this},this.parseCH=function(){var s=this.uaCH,r=this.rgxMap;switch(this.itemType){case ue:var o=s[Mn]||s[Ln],l;if(o)for(var a in o){var c=Ve(/(Google|Microsoft) /,o[a].brand||o[a]),f=o[a].version;!/not.a.brand/i.test(c)&&(!l||/chrom/i.test(l)&&!/chromi/i.test(c))&&(this.set(b,c).set(v,f).set(Ct,vn(f)),l=c)}break;case Ae:var p=s[re];p&&(p&&s[an]=="64"&&(p+="64"),ci.call(this.data,p+";",r));break;case ve:if(s[D]&&this.set(k,D),s[y]&&this.set(y,s[y]),s[y]=="Xbox"&&this.set(k,st).set(T,Jt),s[Be]){var _;if(typeof s[Be]!="string")for(var h=0;!_&&h<s[Be].length;)_=sn(s[Be][h++],fi);else _=sn(s[Be],fi);this.set(k,_)}break;case pe:var d=s[at];if(d){var C=s[Pn];d==On&&(C=parseInt(vn(C),10)>=13?"11":"10"),this.set(b,d).set(v,C)}this.get(b)==On&&s[y]=="Xbox"&&this.set(b,"Xbox").set(v,void 0);break;case ct:var w=this.data,E=function(O){return w[O].getItem().setCH(s).parseCH().get()};this.set(ue,E(ue)).set(Ae,E(Ae)).set(ve,E(ve)).set($e,E($e)).set(pe,E(pe))}return this},Ee.call(this,[["itemType",t],["ua",e],["uaCH",i],["rgxMap",n],["data",Bs(this,t)]]),this}function Ce(t,e,n){if(typeof t===dt?(nn(t,!0)?(typeof e===dt&&(n=e),e=t):(n=t,e=void 0),t=void 0):typeof t===An&&!nn(e,!0)&&(n=e,e=void 0),!(this instanceof Ce))return new Ce(t,e,n).getResult();var i=typeof t===An?t:le&&le.userAgent?le.userAgent:n&&n[ei]?n[ei]:ft,s=new Yi(n,!0),r=e?Fs(di,e):di,o=function(l){return l==ct?function(){return new pi(l,i,r,s).set("ua",i).set(ue,this.getBrowser()).set(Ae,this.getCPU()).set(ve,this.getDevice()).set($e,this.getEngine()).set(pe,this.getOS()).get()}:function(){return new pi(l,i,r[l],s).parseUA().get()}};return Ee.call(this,[["getBrowser",o(ue)],["getCPU",o(Ae)],["getDevice",o(ve)],["getEngine",o($e)],["getOS",o(pe)],["getResult",o(ct)],["getUA",function(){return i}],["setUA",function(l){return mt(l)&&(i=l.length>En?Tt(l,En):l),this}]]).setUA(i),this}Ce.VERSION=js;Ce.BROWSER=cn([b,v,Ct,k]);Ce.CPU=cn([re]);Ce.DEVICE=cn([y,T,k,st,D,ce,V,Wt,$n]);Ce.ENGINE=Ce.OS=cn([b,v]);function Gs(t,{delay:e=0,duration:n=400,easing:i=We}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function Vs(t,{delay:e=0,duration:n=400,easing:i=Gi,x:s=0,y:r=0,opacity:o=0}={}){const l=getComputedStyle(t),a=+l.opacity,c=l.transform==="none"?"":l.transform,f=a*(1-o),[p,_]=Wn(s),[h,d]=Wn(r);return{delay:e,duration:n,easing:i,css:(C,w)=>`
			transform: ${c} translate(${(1-C)*p}${_}, ${(1-C)*h}${d});
			opacity: ${a-f*w}`}}function Ws(t,{from:e,to:n},i={}){const s=getComputedStyle(t),r=s.transform==="none"?"":s.transform,[o,l]=s.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/n.width-(n.left+o),c=e.top+e.height*l/n.height-(n.top+l),{delay:f=0,duration:p=h=>Math.sqrt(h)*120,easing:_=Gi}=i;return{delay:f,duration:At(p)?p(Math.sqrt(a*a+c*c)):p,easing:_,css:(h,d)=>{const C=d*a,w=d*c,E=h+d*e.width/n.width,O=h+d*e.height/n.height;return`transform: ${r} translate(${C}px, ${w}px) scale(${E}, ${O});`}}}const Js={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function Xs(){const{subscribe:t,update:e}=pt(new Array),n={};let i=0;function s(c){return c instanceof Object}function r(c="default",f={}){return n[c]=f,n}function o(c,f){const p={target:"default",...s(c)?c:{...f,msg:c}},_=n[p.target]||{},h={...Js,..._,...p,theme:{..._.theme,...p.theme},classes:[..._.classes||[],...p.classes||[]],id:++i};return e(d=>h.reversed?[...d,h]:[h,...d]),i}function l(c){e(f=>{if(!f.length||c===0)return[];if(typeof c=="function")return f.filter(_=>c(_));if(s(c))return f.filter(_=>_.target!==c.target);const p=c||Math.max(...f.map(_=>_.id));return f.filter(_=>_.id!==p)})}function a(c,f){const p=s(c)?c:{...f,id:c};e(_=>{const h=_.findIndex(d=>d.id===p.id);return h>-1&&(_[h]={..._[h],...p}),_})}return{subscribe:t,push:o,pop:l,set:a,_init:r}}const ee=Xs();function Ys(t){let e,n=t[0].msg+"",i;return{c(){e=new us(!1),i=$t(),e.a=i},m(s,r){e.m(n,s,r),x(s,i,r)},p(s,r){r&1&&n!==(n=s[0].msg+"")&&e.p(n)},i:F,o:F,d(s){s&&$(i),s&&e.d()}}}function Ks(t){let e,n,i;const s=[t[2]];var r=t[0].component.src;function o(l){let a={};for(let c=0;c<s.length;c+=1)a=Xt(a,s[c]);return{props:a}}return r&&(e=Yt(r,o())),{c(){e&&ae(e.$$.fragment),n=$t()},m(l,a){e&&ne(e,l,a),x(l,n,a),i=!0},p(l,a){const c=a&4?Es(s,[Os(l[2])]):{};if(a&1&&r!==(r=l[0].component.src)){if(e){ye();const f=e;z(f.$$.fragment,1,0,()=>{ie(f,1)}),Se()}r?(e=Yt(r,o()),ae(e.$$.fragment),H(e.$$.fragment,1),ne(e,n.parentNode,n)):e=null}else r&&e.$set(c)},i(l){i||(e&&H(e.$$.fragment,l),i=!0)},o(l){e&&z(e.$$.fragment,l),i=!1},d(l){l&&$(n),e&&ie(e,l)}}}function mi(t){let e,n,i;return{c(){e=g("div"),u(e,"class","_toastBtn pe svelte-95rq8t"),u(e,"role","button"),u(e,"tabindex","0")},m(s,r){x(s,e,r),n||(i=[J(e,"click",t[4]),J(e,"keydown",t[8])],n=!0)},p:F,d(s){s&&$(e),n=!1,me(i)}}}function Qs(t){let e,n,i,s,r,o,l,a,c,f;const p=[Ks,Ys],_=[];function h(C,w){return C[0].component?0:1}i=h(t),s=_[i]=p[i](t);let d=t[0].dismissable&&mi(t);return{c(){e=g("div"),n=g("div"),s.c(),r=R(),d&&d.c(),o=R(),l=g("progress"),u(n,"class","_toastMsg svelte-95rq8t"),we(n,"pe",t[0].component),u(l,"class","_toastBar svelte-95rq8t"),l.value=t[1],u(e,"role","status"),u(e,"class","_toastItem svelte-95rq8t"),we(e,"pe",t[0].pausable)},m(C,w){x(C,e,w),m(e,n),_[i].m(n,null),m(e,r),d&&d.m(e,null),m(e,o),m(e,l),a=!0,c||(f=[J(e,"mouseenter",t[9]),J(e,"mouseleave",t[6])],c=!0)},p(C,[w]){let E=i;i=h(C),i===E?_[i].p(C,w):(ye(),z(_[E],1,1,()=>{_[E]=null}),Se(),s=_[i],s?s.p(C,w):(s=_[i]=p[i](C),s.c()),H(s,1),s.m(n,null)),(!a||w&1)&&we(n,"pe",C[0].component),C[0].dismissable?d?d.p(C,w):(d=mi(C),d.c(),d.m(e,o)):d&&(d.d(1),d=null),(!a||w&2)&&(l.value=C[1]),(!a||w&1)&&we(e,"pe",C[0].pausable)},i(C){a||(H(s),a=!0)},o(C){z(s),a=!1},d(C){C&&$(e),_[i].d(),d&&d.d(),c=!1,me(f)}}}function kn(t,e="undefined"){return typeof t===e}function Zs(t,e,n){let i,{item:s}=e,r=s.initial,o=r,l=!1,a={},c;const f=Vi(s.initial,{duration:s.duration,easing:We});qe(t,f,O=>n(1,i=O));function p(){ee.pop(s.id)}function _(){(i===1||i===0)&&p()}function h(){!l&&i!==r&&(f.set(i,{duration:0}),l=!0)}function d(){if(l){const O=s.duration,I=O-O*((i-o)/(r-o));f.set(r,{duration:I}).then(_),l=!1}}function C(O=document){if(kn(O.hidden))return;const I=()=>O.hidden?h():d(),B="visibilitychange";O.addEventListener(B,I),c=()=>O.removeEventListener(B,I),I()}_s(C),gs(()=>{kn(s.onpop,"function")&&s.onpop(s.id),c&&c()});const w=O=>{O instanceof KeyboardEvent&&["Enter"," "].includes(O.key)&&p()},E=()=>{s.pausable&&h()};return t.$$set=O=>{"item"in O&&n(0,s=O.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(kn(s.progress)||n(0,s.next=s.progress,s)),t.$$.dirty&131&&r!==s.next&&(n(7,r=s.next),o=i,l=!1,f.set(r).then(_)),t.$$.dirty&1&&s.component){const{props:O={},sendIdTo:I}=s.component;n(2,a={...O,...I&&{[I]:s.id}})}},[s,i,a,f,p,h,d,r,w,E]}class eo extends _e{constructor(e){super(),he(this,e,Zs,Qs,fe,{item:0})}}function hi(t,e,n){const i=t.slice();return i[4]=e[n],i}function _i(t,e){let n,i,s,r,o,l,a,c,f=F,p;return i=new eo({props:{item:e[4]}}),{key:t,first:null,c(){var _;n=g("li"),ae(i.$$.fragment),s=R(),u(n,"class",r=Vn((_=e[4].classes)==null?void 0:_.join(" "))+" svelte-1u812xz"),u(n,"style",o=gi(e[4].theme)),this.first=n},m(_,h){x(_,n,h),ne(i,n,null),m(n,s),p=!0},p(_,h){var C;e=_;const d={};h&1&&(d.item=e[4]),i.$set(d),(!p||h&1&&r!==(r=Vn((C=e[4].classes)==null?void 0:C.join(" "))+" svelte-1u812xz"))&&u(n,"class",r),(!p||h&1&&o!==(o=gi(e[4].theme)))&&u(n,"style",o)},r(){c=n.getBoundingClientRect()},f(){hs(n),f(),Di(n,c)},a(){f(),f=ms(n,c,Ws,{duration:200})},i(_){p||(H(i.$$.fragment,_),ut(()=>{p&&(a&&a.end(1),l=Ss(n,Vs,e[4].intro),l.start())}),p=!0)},o(_){z(i.$$.fragment,_),l&&l.invalidate(),a=Cs(n,Gs,{}),p=!1},d(_){_&&$(n),ie(i),_&&a&&a.end()}}}function to(t){let e,n=[],i=new Map,s,r=t[0];const o=l=>l[4].id;for(let l=0;l<r.length;l+=1){let a=hi(t,r,l),c=o(a);i.set(c,n[l]=_i(c,a))}return{c(){e=g("ul");for(let l=0;l<n.length;l+=1)n[l].c();u(e,"class","_toastContainer svelte-1u812xz")},m(l,a){x(l,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);s=!0},p(l,[a]){if(a&1){r=l[0],ye();for(let c=0;c<n.length;c+=1)n[c].r();n=$s(n,a,o,1,l,r,i,e,As,_i,null,hi);for(let c=0;c<n.length;c+=1)n[c].a();Se()}},i(l){if(!s){for(let a=0;a<r.length;a+=1)H(n[a]);s=!0}},o(l){for(let a=0;a<n.length;a+=1)z(n[a]);s=!1},d(l){l&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function gi(t){return t?Object.keys(t).reduce((e,n)=>`${e}${n}:${t[n]};`,""):void 0}function no(t,e,n){let i;qe(t,ee,l=>n(3,i=l));let{options:s={}}=e,{target:r="default"}=e,o=[];return t.$$set=l=>{"options"in l&&n(1,s=l.options),"target"in l&&n(2,r=l.target)},t.$$.update=()=>{t.$$.dirty&6&&ee._init(r,s),t.$$.dirty&12&&n(0,o=i.filter(l=>l.target===r))},[o,s,r,i]}class io extends _e{constructor(e){super(),he(this,e,no,to,fe,{options:1,target:2})}}function un(t){if(localStorage.getItem("accessToken")==null||localStorage.getItem("refreshToken")==null)return!1;let e=localStorage.getItem("expiryTime"),n=localStorage.getItem("tokenGenerationTime");if(Date.now()-n>e*1e3){let s=new URLSearchParams;s.append("grant_type","refresh_token"),s.append("refresh_token",localStorage.getItem("refreshToken")),s.append("client_id","c32a475ce586434d9c6436b5fa71de71"),fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}).then(r=>(r.ok||ee.push("Error refreshing token"),r.json())).then(r=>{localStorage.setItem("expiryTime",r.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",r.access_token),localStorage.setItem("refreshToken",r.refresh_token),ee.push("Regenerated access token")})}return localStorage.getItem("accessToken")}async function so(t){const e=lo(128),n=await ao(e);localStorage.setItem("verifier",e),console.log(window.location.href.split(/[?#]/)[0]);const i=new URLSearchParams;i.append("client_id",t),i.append("response_type","code"),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("scope","user-read-playback-state user-modify-playback-state user-read-currently-playing streaming playlist-read-private playlist-read-collaborative user-library-modify user-library-read user-follow-read user-read-private user-read-email"),i.append("code_challenge_method","S256"),i.append("code_challenge",n),console.log(`https://accounts.spotify.com/authorize?${i.toString()}`),document.location=`https://accounts.spotify.com/authorize?${i.toString()}`}async function oo(t,e){const n=localStorage.getItem("verifier"),i=new URLSearchParams;i.append("client_id",t),i.append("grant_type","authorization_code"),i.append("code",e),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("code_verifier",n),await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then(s=>(s.ok||ee.push("HTTP status "+s.status),s.json())).then(s=>(localStorage.setItem("expiryTime",s.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),ee.push("Logged in!"),!0)).catch(s=>{ee.push("Error:",s)})}function ro(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("expiryTime"),localStorage.removeItem("tokenGenerationTime"),localStorage.removeItem("verifier"),ee.push("Logged out!"),setTimeout(()=>{window.location.reload()},1e3)}function lo(t){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}async function ao(t){const e=new TextEncoder().encode(t),n=await window.crypto.subtle.digest("SHA-256",e);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(n)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const ht={redirectToAuthCodeFlow:so,newAccessToken:oo,getAccessToken:un},kt={setRepeat:co,setShuffle:uo};async function co(t,e){await fetch(`https://api.spotify.com/v1/me/player/repeat?state=${t}&device_id=${e}`,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${ht.getAccessToken()}`}}).then(()=>!0)}async function uo(t,e){await fetch(`https://api.spotify.com/v1/me/player/shuffle?state=${t}&device_id=${e}`,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${ht.getAccessToken()}`}}).then(()=>!0)}async function fo(){return fetch("https://api.spotify.com/v1/me/player/queue",{method:"GET",headers:{Authorization:`Bearer ${ht.getAccessToken()}`}}).then(t=>(t.ok||console.error("Couldn't get queue from api!"),t.json())).then(t=>t.queue)}async function po(t){await fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ht.getAccessToken()}`},body:`{ "device_ids": ["${t}"], "play": false }`}).then(e=>{if(e.status==200||e.status==202)return!0;ee.push("Device handoff might not have succeeded. You might have do it from another client by using Spotify connect and choosing this device")})}let bi={track_window:{next_tracks:[]}},In,Ki;function mo(){const t=Ce(window.navigator.userAgent);return`${t.browser.name} · ${t.os.name}`}async function ho(){W=new Spotify.Player({name:`cleanplayer (${mo()}) `,getOAuthToken:t=>{t(un())},volume:Li(Fe).volume}),W.addListener("player_state_changed",t=>{JSON.stringify(t.track_window.next_tracks)!=JSON.stringify(bi.track_window.next_tracks)?(bi=t,setTimeout(async()=>{let e=await fo();Ki=e,In&&(console.log("Updated queue: ",e),In(e))},1e3)):console.log("Chose not to update queue")}),W.addListener("ready",({device_id:t})=>{Ge=t})}let _o=Is([],function(e){In=e,e(Ki)}),W,Ge;function wi(t){let e,n,i,s,r;return{c(){e=te(`ultra secret debug settings:
  `),n=g("div"),i=g("button"),i.textContent="access token log",u(n,"class","settingItem svelte-1j5hbpr")},m(o,l){x(o,e,l),x(o,n,l),m(n,i),s||(r=J(i,"click",t[4]),s=!0)},p:F,d(o){o&&$(e),o&&$(n),s=!1,r()}}}function go(t){let e,n,i,s,r,o,l,a,c,f,p,_,h,d,C,w,E,O,I,B,P=t[0]&&wi(t);return{c(){e=g("div"),n=g("div"),i=te(`Volume
    `),s=g("input"),r=R(),o=g("div"),l=te(`Rounded album art
    `),a=g("input"),f=R(),p=g("div"),_=g("button"),_.textContent="Log out",h=R(),d=g("div"),d.innerHTML=`<p>This application is fully open source on <a href="https://github.com/jakubiakdev/cleanplayer" class="svelte-1j5hbpr">Github</a></p> 
  <p>Please consider supporting me by <a href="https://ko-fi.com/jakubiakdev" target="_blank" class="svelte-1j5hbpr">buying me a coffee</a></p> 
  <p>© jakubiakdev 2023</p>`,C=R(),w=g("div"),w.innerHTML=`<p>All metadata and audio is from Spotify</p> 
  <p><a href="privacypolicy.txt" target="_blank" rel="noopener noreferrer" class="svelte-1j5hbpr">Privacy Policy</a></p>`,E=R(),P&&P.c(),O=$t(),u(s,"type","range"),u(s,"min","0"),u(s,"max","1"),u(s,"step","0.01"),u(n,"class","settingItem svelte-1j5hbpr"),u(a,"type","checkbox"),a.checked=c=t[1].roundedCorners,u(o,"class","settingItem svelte-1j5hbpr"),u(e,"class","container"),u(_,"class","svelte-1j5hbpr"),u(p,"class","settingItem logout svelte-1j5hbpr"),u(d,"class","info svelte-1j5hbpr"),u(w,"class","info svelte-1j5hbpr")},m(j,A){x(j,e,A),m(e,n),m(n,i),m(n,s),Jn(s,t[1].volume),m(e,r),m(e,o),m(o,l),m(o,a),x(j,f,A),x(j,p,A),m(p,_),x(j,h,A),x(j,d,A),x(j,C,A),x(j,w,A),x(j,E,A),P&&P.m(j,A),x(j,O,A),I||(B=[J(s,"change",t[3]),J(s,"input",t[3]),J(a,"change",t[2]),J(_,"click",ro)],I=!0)},p(j,[A]){A&2&&Jn(s,j[1].volume),A&2&&c!==(c=j[1].roundedCorners)&&(a.checked=c),j[0]?P?P.p(j,A):(P=wi(j),P.c(),P.m(O.parentNode,O)):P&&(P.d(1),P=null)},i:F,o:F,d(j){j&&$(e),j&&$(f),j&&$(p),j&&$(h),j&&$(d),j&&$(C),j&&$(w),j&&$(E),P&&P.d(j),j&&$(O),I=!1,me(B)}}}function bo(t,e,n){let i;qe(t,Fe,a=>n(1,i=a));let s=!1;Fe.subscribe(a=>{W.setVolume(a.volume),n(0,s=a.debugSettings)});function r(a){a.target.checked?Fe.update(c=>({...c,roundedCorners:!0})):Fe.update(c=>({...c,roundedCorners:!1}))}function o(){i.volume=ls(this.value),Fe.set(i)}return[s,i,r,o,()=>{console.log(un())}]}class wo extends _e{constructor(e){super(),he(this,e,bo,go,fe,{})}}function ot(t){return t.map(e=>e.height).indexOf(Math.max(...t.map(e=>e.height)))}function vo(t){let e,n,i,s,r,o,l=t[0].name+"",a,c,f,p=t[0].artists[0].name+"",_;return{c(){e=g("div"),n=g("img"),s=R(),r=g("div"),o=g("div"),a=te(l),c=R(),f=g("div"),_=te(p),ke(n.src,i=t[0].album.images[ot(t[0].album.images)].url)||u(n,"src",i),u(n,"alt",""),u(n,"class","svelte-1ynzq9s"),u(o,"class","name"),u(f,"class","artist svelte-1ynzq9s"),u(r,"class","info svelte-1ynzq9s"),u(e,"class","card svelte-1ynzq9s")},m(h,d){x(h,e,d),m(e,n),m(e,s),m(e,r),m(r,o),m(o,a),m(r,c),m(r,f),m(f,_)},p(h,[d]){d&1&&!ke(n.src,i=h[0].album.images[ot(h[0].album.images)].url)&&u(n,"src",i),d&1&&l!==(l=h[0].name+"")&&He(a,l),d&1&&p!==(p=h[0].artists[0].name+"")&&He(_,p)},i:F,o:F,d(h){h&&$(e)}}}function ko(t,e,n){let{song:i}=e;return t.$$set=s=>{"song"in s&&n(0,i=s.song)},[i]}class yo extends _e{constructor(e){super(),he(this,e,ko,vo,fe,{song:0})}}function vi(t,e,n){const i=t.slice();return i[1]=e[n],i}function So(t){let e;return{c(){e=g("p"),e.textContent="Nothing here yet..."},m(n,i){x(n,e,i)},p:F,i:F,o:F,d(n){n&&$(e)}}}function Co(t){let e,n,i=t[0],s=[];for(let o=0;o<i.length;o+=1)s[o]=ki(vi(t,i,o));const r=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=$t()},m(o,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(o,l);x(o,e,l),n=!0},p(o,l){if(l&1){i=o[0];let a;for(a=0;a<i.length;a+=1){const c=vi(o,i,a);s[a]?(s[a].p(c,l),H(s[a],1)):(s[a]=ki(c),s[a].c(),H(s[a],1),s[a].m(e.parentNode,e))}for(ye(),a=i.length;a<s.length;a+=1)r(a);Se()}},i(o){if(!n){for(let l=0;l<i.length;l+=1)H(s[l]);n=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)z(s[l]);n=!1},d(o){Hi(s,o),o&&$(e)}}}function ki(t){let e,n;return e=new yo({props:{song:t[1]}}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},p(i,s){const r={};s&1&&(r.song=i[1]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function To(t){let e,n,i,s;const r=[Co,So],o=[];function l(a,c){var f;return a[0]!=null&&((f=a[0])==null?void 0:f.length)>0?0:1}return e=l(t),n=o[e]=r[e](t),{c(){n.c(),i=$t()},m(a,c){o[e].m(a,c),x(a,i,c),s=!0},p(a,[c]){let f=e;e=l(a),e===f?o[e].p(a,c):(ye(),z(o[f],1,1,()=>{o[f]=null}),Se(),n=o[e],n?n.p(a,c):(n=o[e]=r[e](a),n.c()),H(n,1),n.m(i.parentNode,i))},i(a){s||(H(n),s=!0)},o(a){z(n),s=!1},d(a){o[e].d(a),a&&$(i)}}}function Ao(t,e,n){let i=[];return _o.subscribe(s=>{n(0,i=s)}),[i]}class $o extends _e{constructor(e){super(),he(this,e,Ao,To,fe,{})}}function Eo(t){let e,n;return e=new $o({}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function Oo(t){let e,n;return e=new wo({}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function xo(t){let e,n,i,s,r,o,l,a,c,f,p,_,h,d,C,w,E;const O=[Oo,Eo],I=[];function B(P,j){return P[0]=="settings"?0:P[0]=="queue"?1:-1}return~(h=B(t))&&(d=I[h]=O[h](t)),{c(){e=g("div"),n=g("div"),i=g("ul"),s=g("li"),r=g("button"),r.innerHTML=`<span class="material-symbols-rounded svelte-lhkqae">queue_music</span>
                Queue`,o=R(),l=g("hr"),a=R(),c=g("li"),f=g("button"),f.innerHTML=`<span class="material-symbols-rounded svelte-lhkqae">tune</span>
                Settings`,p=R(),_=g("div"),d&&d.c(),u(r,"class","svelte-lhkqae"),u(l,"class","svelte-lhkqae"),u(f,"class","svelte-lhkqae"),u(i,"class","svelte-lhkqae"),u(n,"class","itemList svelte-lhkqae"),u(_,"class","main svelte-lhkqae"),u(e,"class","container svelte-lhkqae")},m(P,j){x(P,e,j),m(e,n),m(n,i),m(i,s),m(s,r),m(i,o),m(i,l),m(i,a),m(i,c),m(c,f),m(e,p),m(e,_),~h&&I[h].m(_,null),C=!0,w||(E=[J(r,"click",t[1]),J(f,"click",t[2])],w=!0)},p(P,[j]){let A=h;h=B(P),h!==A&&(d&&(ye(),z(I[A],1,1,()=>{I[A]=null}),Se()),~h?(d=I[h],d||(d=I[h]=O[h](P),d.c()),H(d,1),d.m(_,null)):d=null)},i(P){C||(H(d),C=!0)},o(P){z(d),C=!1},d(P){P&&$(e),~h&&I[h].d(),w=!1,me(E)}}}function Io(t,e,n){let i="queue";return[i,()=>{n(0,i="queue")},()=>{n(0,i="settings")}]}class Ro extends _e{constructor(e){super(),he(this,e,Io,xo,fe,{})}}function jo(t){let e,n,i;const s=t[1].default,r=es(s,t,t[0],null);return{c(){e=g("div"),n=g("div"),r&&r.c(),u(n,"class","container svelte-qufn0i"),u(e,"class","background svelte-qufn0i")},m(o,l){x(o,e,l),m(e,n),r&&r.m(n,null),i=!0},p(o,[l]){r&&r.p&&(!i||l&1)&&ns(r,s,o,o[0],i?ts(s,o[0],l,null):is(o[0]),null)},i(o){i||(H(r,o),i=!0)},o(o){z(r,o),i=!1},d(o){o&&$(e),r&&r.d(o)}}}function Lo(t,e,n){let{$$slots:i={},$$scope:s}=e;return t.$$set=r=>{"$$scope"in r&&n(0,s=r.$$scope)},[s,i]}class Qi extends _e{constructor(e){super(),he(this,e,Lo,jo,fe,{})}}const on="/assets/Spotify-6089a3df.png";function yi(t){let e,n,i,s,r,o,l,a;return{c(){e=g("button"),n=te("Log in with Spotify"),i=g("img"),r=R(),o=g("div"),o.innerHTML=`<h1><a href="privacypolicy.txt" target="_blank" class="svelte-xagkxi">Privacy Policy</a></h1> 
        <p class="svelte-xagkxi">This application requires a Spotify Premium account</p>`,ke(i.src,s=on)||u(i,"src",s),u(i,"alt",""),u(i,"class","svelte-xagkxi"),u(e,"class","mainAction svelte-xagkxi"),u(o,"class","svelte-xagkxi")},m(c,f){x(c,e,f),m(e,n),m(e,i),x(c,r,f),x(c,o,f),l||(a=J(e,"click",t[1]),l=!0)},p:F,d(c){c&&$(e),c&&$(r),c&&$(o),l=!1,a()}}}function Si(t){let e,n,i,s,r;return{c(){e=g("h1"),e.textContent="Please wait...",n=R(),i=g("button"),i.textContent="Retry",u(e,"class","mainAction svelte-xagkxi"),u(i,"class","mainAction svelte-xagkxi")},m(o,l){x(o,e,l),x(o,n,l),x(o,i,l),s||(r=J(i,"click",t[1]),s=!0)},p:F,d(o){o&&$(e),o&&$(n),o&&$(i),s=!1,r()}}}function Mo(t){let e,n,i=t[0]=="bad"&&yi(t),s=t[0]=="waiting"&&Si(t);return{c(){e=g("div"),i&&i.c(),n=R(),s&&s.c(),u(e,"class","container svelte-xagkxi")},m(r,o){x(r,e,o),i&&i.m(e,null),m(e,n),s&&s.m(e,null)},p(r,o){r[0]=="bad"?i?i.p(r,o):(i=yi(r),i.c(),i.m(e,n)):i&&(i.d(1),i=null),r[0]=="waiting"?s?s.p(r,o):(s=Si(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(r){r&&$(e),i&&i.d(),s&&s.d()}}}function Po(t){let e,n;return e=new Qi({props:{$$slots:{default:[Mo]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},p(i,[s]){const r={};s&5&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function No(t,e,n){let{authState:i}=e;function s(){ht.redirectToAuthCodeFlow("c32a475ce586434d9c6436b5fa71de71")}return t.$$set=r=>{"authState"in r&&n(0,i=r.authState)},[i,s]}class qo extends _e{constructor(e){super(),he(this,e,No,Po,fe,{authState:0})}}function Ho(t){let e,n,i,s,r,o,l,a;return{c(){e=g("div"),n=g("button"),n.textContent="Enter the app",i=R(),s=g("p"),s.textContent="Clicking this button you will transfer your Spotify playback session to this app. You can select new music from your other client",r=R(),o=g("p"),o.textContent="For playback to work, you need to interact with this page before audio can start playing",u(n,"class","mainAction svelte-rtxgsv"),u(e,"class","container svelte-rtxgsv")},m(c,f){x(c,e,f),m(e,n),m(e,i),m(e,s),m(e,r),m(e,o),l||(a=J(n,"click",t[0]),l=!0)},p:F,d(c){c&&$(e),l=!1,a()}}}function Do(t){let e,n;return e=new Qi({props:{$$slots:{default:[Ho]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},p(i,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function Uo(t){return[async()=>{W.activateElement(),await po(Ge),Ce(window.navigator.userAgent).device.type=="mobile"&&document.body.requestFullscreen({navigationUI:"hide"}),Wi.set(!0)}]}class zo extends _e{constructor(e){super(),he(this,e,Uo,Do,fe,{})}}const Fo="/assets/SpotifyBlack-72c4f97f.png";function Bo(t=8){const e=new Uint8Array(t/2);return crypto.getRandomValues(e),Array.from(e,n=>("0"+n.toString(16)).slice(-2)).join("")}localStorage.getItem("userSocketHash")===null&&localStorage.setItem("userSocketHash",JSON.stringify(Bo()));const Go=JSON.parse(localStorage.getItem("userSocketHash"));let Vo=new WebSocket(`wss://amused-consideration-production.up.railway.app/ws/webclient/${Go}`),Nn=pt(Vo);function Ci(t,e,n){const i=t.slice();return i[17]=e[n],i}function Ti(t){let e,n;return e=new qo({props:{authState:t[2]}}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},p(i,s){const r={};s[0]&4&&(r.authState=i[2]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function Ai(t){let e,n;return e=new Ro({}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function $i(t){let e,n;return e=new zo({}),{c(){ae(e.$$.fragment)},m(i,s){ne(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function Ei(t){let e,n,i,s,r,o,l,a,c,f,p,_,h,d,C,w,E,O,I,B,P,j=t[3].track_window.current_track.artists,A=[];for(let L=0;L<j.length;L+=1)A[L]=Oi(Ci(t,j,L));return{c(){e=g("div"),n=g("div"),i=g("a"),s=g("img"),o=R(),l=g("span"),l.textContent="Song",a=R(),c=g("span"),c.textContent="open_in_new",p=R();for(let L=0;L<A.length;L+=1)A[L].c();_=R(),h=g("div"),d=g("a"),C=g("img"),E=R(),O=g("span"),O.textContent="Album",I=R(),B=g("span"),B.textContent="open_in_new",ke(s.src,r=on)||u(s,"src",r),u(s,"alt",""),u(s,"class","svelte-1a52jeh"),u(l,"class","text svelte-1a52jeh"),u(c,"class","material-symbols-rounded svelte-1a52jeh"),u(i,"href",f="https://open.spotify.com/track/"+t[3].track_window.current_track.id),u(i,"target","_blank"),u(i,"class","svelte-1a52jeh"),u(n,"class","item svelte-1a52jeh"),ke(C.src,w=on)||u(C,"src",w),u(C,"alt",""),u(C,"class","svelte-1a52jeh"),u(O,"class","text svelte-1a52jeh"),u(B,"class","material-symbols-rounded svelte-1a52jeh"),u(d,"href",P="https://open.spotify.com/album/"+t[3].track_window.current_track.album.uri.slice(14)),u(d,"target","_blank"),u(d,"class","svelte-1a52jeh"),u(h,"class","item svelte-1a52jeh"),u(e,"class","attributionMenu svelte-1a52jeh")},m(L,G){x(L,e,G),m(e,n),m(n,i),m(i,s),m(i,o),m(i,l),m(i,a),m(i,c),m(e,p);for(let U=0;U<A.length;U+=1)A[U]&&A[U].m(e,null);m(e,_),m(e,h),m(h,d),m(d,C),m(d,E),m(d,O),m(d,I),m(d,B)},p(L,G){if(G[0]&8&&f!==(f="https://open.spotify.com/track/"+L[3].track_window.current_track.id)&&u(i,"href",f),G[0]&8){j=L[3].track_window.current_track.artists;let U;for(U=0;U<j.length;U+=1){const ge=Ci(L,j,U);A[U]?A[U].p(ge,G):(A[U]=Oi(ge),A[U].c(),A[U].m(e,_))}for(;U<A.length;U+=1)A[U].d(1);A.length=j.length}G[0]&8&&P!==(P="https://open.spotify.com/album/"+L[3].track_window.current_track.album.uri.slice(14))&&u(d,"href",P)},d(L){L&&$(e),Hi(A,L)}}}function Oi(t){let e,n,i,s,r,o,l,a=t[17].name+"",c,f,p,_;return{c(){e=g("div"),n=g("a"),i=g("img"),r=R(),o=g("span"),l=te("Artist: "),c=te(a),f=R(),p=g("span"),p.textContent="open_in_new",ke(i.src,s=on)||u(i,"src",s),u(i,"alt",""),u(i,"class","svelte-1a52jeh"),u(o,"class","text svelte-1a52jeh"),u(p,"class","material-symbols-rounded svelte-1a52jeh"),u(n,"href",_="https://open.spotify.com/artist/"+t[17].uri.slice(15)),u(n,"target","_blank"),u(n,"class","svelte-1a52jeh"),u(e,"class","item svelte-1a52jeh")},m(h,d){x(h,e,d),m(e,n),m(n,i),m(n,r),m(n,o),m(o,l),m(o,c),m(n,f),m(n,p)},p(h,d){d[0]&8&&a!==(a=h[17].name+"")&&He(c,a),d[0]&8&&_!==(_="https://open.spotify.com/artist/"+h[17].uri.slice(15))&&u(n,"href",_)},d(h){h&&$(e)}}}function Wo(t){let e;return{c(){e=g("span"),e.textContent="repeat_one",u(e,"class","material-symbols-rounded turnedOn svelte-1a52jeh")},m(n,i){x(n,e,i)},d(n){n&&$(e)}}}function Jo(t){let e;return{c(){e=g("span"),e.textContent="repeat",u(e,"class","material-symbols-rounded turnedOn svelte-1a52jeh")},m(n,i){x(n,e,i)},d(n){n&&$(e)}}}function Xo(t){let e;return{c(){e=g("span"),e.textContent="repeat",u(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){x(n,e,i)},d(n){n&&$(e)}}}function xi(t){let e,n,i,s,r;return{c(){e=g("div"),n=g("span"),i=te(t[9]),s=R(),r=te(t[8]),u(n,"class","material-symbols-rounded"),u(e,"class","infoText svelte-1a52jeh")},m(o,l){x(o,e,l),m(e,n),m(n,i),m(e,s),m(e,r)},p(o,l){l[0]&512&&He(i,o[9]),l[0]&256&&He(r,o[8])},d(o){o&&$(e)}}}function Yo(t){let e;return{c(){e=g("span"),e.textContent="play_circle",u(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){x(n,e,i)},d(n){n&&$(e)}}}function Ko(t){let e;return{c(){e=g("span"),e.textContent="pause_circle",u(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){x(n,e,i)},d(n){n&&$(e)}}}function Qo(t){let e,n,i,s,r,o,l,a,c,f,p,_,h,d,C,w,E,O,I,B,P,j,A,L,G,U,ge,Et,Oe,de,Je,Ot,Te,xe,Xe,q,X,M,be,xt,Ye,It,fn,qn,Rt,dn,Hn,Ie,Ue,jt,Lt,Dn,Ke,Un,ze,Mt,Pt,Y,pn,zn,K=(t[2]=="bad"||t[2]=="waiting")&&Ti(t),Q=t[0]&&Ai(),Z=!t[15]&&t[2]=="good"&&$i(),se=t[1]&&Ei(t);r=new io({});function Fn(S,N){return S[12]==0?Xo:S[12]==1?Jo:Wo}let Nt=Fn(t),Re=Nt(t),oe=t[8]&&xi(t);function Bn(S,N){return S[10]?Ko:Yo}let qt=Bn(t),je=qt(t);return{c(){K&&K.c(),e=R(),Q&&Q.c(),n=R(),Z&&Z.c(),i=R(),se&&se.c(),s=R(),ae(r.$$.fragment),o=R(),l=g("div"),l.innerHTML=`<h1>This aspect ratio is not yet supported</h1> 
  <h3>Please resize the application window</h3>`,a=R(),c=g("div"),f=R(),p=g("div"),_=R(),h=g("div"),d=g("div"),C=g("button"),w=g("img"),O=R(),I=g("button"),B=g("span"),B.textContent="shuffle",j=R(),A=g("button"),Re.c(),G=R(),U=g("button"),ge=g("span"),ge.textContent="menu",Et=R(),Oe=g("div"),de=g("img"),Ot=R(),Te=g("div"),xe=g("div"),Xe=g("span"),Xe.textContent="album",q=R(),X=g("a"),M=te(t[6]),be=R(),oe&&oe.c(),xt=R(),Ye=g("div"),It=g("div"),fn=te(t[4]),qn=R(),Rt=g("div"),dn=te(t[17]),Hn=R(),Ie=g("div"),Ue=g("button"),jt=g("span"),jt.textContent="skip_previous",Dn=R(),Ke=g("button"),je.c(),Un=R(),ze=g("button"),Mt=g("span"),Mt.textContent="skip_next",u(l,"class","unsupportedSizeNotice svelte-1a52jeh"),u(c,"class","progress svelte-1a52jeh"),Qe(c,"width",t[16]+"vw"),u(p,"class","background svelte-1a52jeh"),Qe(p,"background-image","url("+t[5]+")"),ke(w.src,E=Fo)||u(w,"src",E),u(w,"alt","Open on Spotify"),u(w,"class","svelte-1a52jeh"),we(w,"imageTurnedOn",t[1]),u(C,"class","spotify svelte-1a52jeh"),u(B,"class","material-symbols-rounded svelte-1a52jeh"),we(B,"turnedOn",t[11]),u(I,"class","shuffle svelte-1a52jeh"),I.disabled=P=t[13].toggling_shuffle,u(A,"class","repeat svelte-1a52jeh"),A.disabled=L=t[13].toggling_repeat_context||t[13].toggling_repeat_track,u(ge,"class","material-symbols-rounded svelte-1a52jeh"),we(ge,"turnedOn",t[0]),u(U,"class","settings svelte-1a52jeh"),u(d,"class","sideActions svelte-1a52jeh"),ke(de.src,Je=t[5])||u(de,"src",Je),u(de,"alt",""),u(de,"class","albumArt svelte-1a52jeh"),Qe(de,"border-radius",t[14]),u(Xe,"class","material-symbols-rounded"),u(X,"href",t[7]),u(X,"class","clickable svelte-1a52jeh"),u(X,"target","_blank"),u(xe,"class","infoText svelte-1a52jeh"),u(Te,"class","albumInfo svelte-1a52jeh"),u(Oe,"class","albumContainer svelte-1a52jeh"),u(It,"class","title svelte-1a52jeh"),u(Rt,"class","artist svelte-1a52jeh"),u(Ye,"class","trackInfo svelte-1a52jeh"),u(jt,"class","material-symbols-rounded svelte-1a52jeh"),u(Ue,"class","side svelte-1a52jeh"),Ue.disabled=Lt=t[13].skipping_prev,u(Ke,"class","play svelte-1a52jeh"),u(Mt,"class","material-symbols-rounded svelte-1a52jeh"),u(ze,"class","side svelte-1a52jeh"),ze.disabled=Pt=t[13].skipping_next,u(Ie,"class","controls svelte-1a52jeh"),u(h,"class","playerContainer svelte-1a52jeh")},m(S,N){K&&K.m(S,N),x(S,e,N),Q&&Q.m(S,N),x(S,n,N),Z&&Z.m(S,N),x(S,i,N),se&&se.m(S,N),x(S,s,N),ne(r,S,N),x(S,o,N),x(S,l,N),x(S,a,N),x(S,c,N),x(S,f,N),x(S,p,N),x(S,_,N),x(S,h,N),m(h,d),m(d,C),m(C,w),m(d,O),m(d,I),m(I,B),m(d,j),m(d,A),Re.m(A,null),m(d,G),m(d,U),m(U,ge),m(h,Et),m(h,Oe),m(Oe,de),m(Oe,Ot),m(Oe,Te),m(Te,xe),m(xe,Xe),m(xe,q),m(xe,X),m(X,M),m(Te,be),oe&&oe.m(Te,null),m(h,xt),m(h,Ye),m(Ye,It),m(It,fn),m(Ye,qn),m(Ye,Rt),m(Rt,dn),m(h,Hn),m(h,Ie),m(Ie,Ue),m(Ue,jt),m(Ie,Dn),m(Ie,Ke),je.m(Ke,null),m(Ie,Un),m(Ie,ze),m(ze,Mt),Y=!0,pn||(zn=[J(w,"click",t[23]),J(I,"click",t[20]),J(A,"click",t[21]),J(U,"click",t[24]),J(Ue,"click",t[25]),J(Ke,"click",t[19]),J(ze,"click",t[26])],pn=!0)},p(S,N){S[2]=="bad"||S[2]=="waiting"?K?(K.p(S,N),N[0]&4&&H(K,1)):(K=Ti(S),K.c(),H(K,1),K.m(e.parentNode,e)):K&&(ye(),z(K,1,1,()=>{K=null}),Se()),S[0]?Q?N[0]&1&&H(Q,1):(Q=Ai(),Q.c(),H(Q,1),Q.m(n.parentNode,n)):Q&&(ye(),z(Q,1,1,()=>{Q=null}),Se()),!S[15]&&S[2]=="good"?Z?N[0]&32772&&H(Z,1):(Z=$i(),Z.c(),H(Z,1),Z.m(i.parentNode,i)):Z&&(ye(),z(Z,1,1,()=>{Z=null}),Se()),S[1]?se?se.p(S,N):(se=Ei(S),se.c(),se.m(s.parentNode,s)):se&&(se.d(1),se=null),(!Y||N[0]&65536)&&Qe(c,"width",S[16]+"vw"),(!Y||N[0]&32)&&Qe(p,"background-image","url("+S[5]+")"),(!Y||N[0]&2)&&we(w,"imageTurnedOn",S[1]),(!Y||N[0]&2048)&&we(B,"turnedOn",S[11]),(!Y||N[0]&8192&&P!==(P=S[13].toggling_shuffle))&&(I.disabled=P),Nt!==(Nt=Fn(S))&&(Re.d(1),Re=Nt(S),Re&&(Re.c(),Re.m(A,null))),(!Y||N[0]&8192&&L!==(L=S[13].toggling_repeat_context||S[13].toggling_repeat_track))&&(A.disabled=L),(!Y||N[0]&1)&&we(ge,"turnedOn",S[0]),(!Y||N[0]&32&&!ke(de.src,Je=S[5]))&&u(de,"src",Je),(!Y||N[0]&16384)&&Qe(de,"border-radius",S[14]),(!Y||N[0]&64)&&He(M,S[6]),(!Y||N[0]&128)&&u(X,"href",S[7]),S[8]?oe?oe.p(S,N):(oe=xi(S),oe.c(),oe.m(Te,null)):oe&&(oe.d(1),oe=null),(!Y||N[0]&16)&&He(fn,S[4]),(!Y||N[0]&131072)&&He(dn,S[17]),(!Y||N[0]&8192&&Lt!==(Lt=S[13].skipping_prev))&&(Ue.disabled=Lt),qt!==(qt=Bn(S))&&(je.d(1),je=qt(S),je&&(je.c(),je.m(Ke,null))),(!Y||N[0]&8192&&Pt!==(Pt=S[13].skipping_next))&&(ze.disabled=Pt)},i(S){Y||(H(K),H(Q),H(Z),H(r.$$.fragment,S),Y=!0)},o(S){z(K),z(Q),z(Z),z(r.$$.fragment,S),Y=!1},d(S){K&&K.d(S),S&&$(e),Q&&Q.d(S),S&&$(n),Z&&Z.d(S),S&&$(i),se&&se.d(S),S&&$(s),ie(r,S),S&&$(o),S&&$(l),S&&$(a),S&&$(c),S&&$(f),S&&$(p),S&&$(_),S&&$(h),Re.d(),oe&&oe.d(),je.d(),pn=!1,me(zn)}}}function Zo(t,e,n){let i,s,r;qe(t,Nn,q=>n(30,i=q)),qe(t,Wi,q=>n(15,s=q));let o=i,{socketConnection:l}=e,a=!1,c=!1,f;localStorage.getItem("accessToken")?f="waiting":f="bad";let p={},_="",h="",d="",C="",w="#",E="",O="",I=!1;const B=Vi(0,{duration:1e3,easing:We});qe(t,B,q=>n(16,r=q));let P=1e5,j=0,A=!1,L=!1,G={pausing:!1,peeking_next:!1,peeking_prev:!1,resuming:!1,seeking:!1,skipping_next:!1,skipping_prev:!1},U;Fe.subscribe(q=>{q.roundedCorners?n(14,U="2ch"):n(14,U=0)});function ge(){I?W.pause().then(()=>{n(10,I=!1)}):W.resume().then(()=>{n(10,I=!0)})}async function Et(){A==!0?(await kt.setShuffle(!1,Ge),n(11,A=!1)):(await kt.setShuffle(!0,Ge),n(11,A=!0))}async function Oe(){L==0?(await kt.setRepeat("context",Ge),n(12,L=1)):L==1?(await kt.setRepeat("track",Ge),n(12,L=2)):n(12,L=2)&&(await kt.setRepeat("off",Ge),n(12,L=0))}setInterval(de,1e3);function de(){I&&(j=j+1e3,B.set(j*100/P))}function Je(q){const X=p;if(n(3,p=q),W.pause().then(()=>{n(10,I=!1)}),q&&(X===null||X.track_window.current_track.id!==q.track_window.current_track.id)){let M=q.track_window.current_track;q.paused;let be={id:M.id,artist:M.artists[0].name,name:M.name,albumName:M.album.name,albumArt:q.track_window.current_track.album.images[ot(q.track_window.current_track.album.images)].url};o.send(JSON.stringify(be))}n(4,_=q.track_window.current_track.name),n(17,h=q.track_window.current_track.artists.map(M=>M.name).join(", ")),n(5,d=q.track_window.current_track.album.images[ot(q.track_window.current_track.album.images)].url),n(6,C=q.track_window.current_track.album.name),n(7,w=`https://open.spotify.com/album/${q.track_window.current_track.album.uri.slice(14)}`),n(8,E=""),n(9,O=""),q.context.uri.startsWith("spotify:playlist")&&(n(9,O="library_music"),n(8,E=q.context.metadata.context_description)),q.context.uri.startsWith("spotify:user")&&(n(9,O="favorite"),n(8,E="Liked Songs")),P=q.duration,j=q.position,n(11,A=q.shuffle),n(12,L=q.repeat_mode),n(13,G=q.disallows)}o.onmessage=function(q){let X=q.data;if(console.log("message sent from lua"+X),X==="nextSong")W.nextTrack().then(()=>{console.log("track has been skipped",error)}).catch(M=>{console.error("Error skipping tracks",M)});else if(X==="prevSong")W.previousTrack().then(()=>{console.log("going to last track",error)}).catch(M=>{console.error("Error going back",M)});else if(X==="luaConnected"){if(JSON.stringify(p)!=="{}"){let M=p.track_window.current_track,be={id:M.id,artist:M.artists[0].name,name:M.name,albumName:M.album.name,albumArt:p.track_window.current_track.album.images[ot(p.track_window.current_track.album.images)].url};o.send(JSON.stringify(be))}n(22,l=!0)}else if(X=="luaDisconnect"){console.log("caught lua disconnect"),localStorage.setItem("luaSocketConnected",JSON.stringify(!1));let M=p.track_window.current_track,be={id:M.id,artist:M.artists[0].name,name:M.name,albumName:M.album.name,albumArt:p.track_window.current_track.album.images[ot(p.track_window.current_track.album.images)].url};localStorage.setItem("storedTrack",JSON.stringify(be)),n(22,l=!1)}},window.onSpotifyWebPlaybackSDKReady=async function(){const q=new URLSearchParams(window.location.search).get("code");q&&(await ht.newAccessToken("c32a475ce586434d9c6436b5fa71de71",q),window.history.replaceState({},document.title,window.location.origin+window.location.pathname),n(2,f="waiting"));let X=un();X==!1||X==null?n(2,f="bad"):(ho(),W.addListener("ready",({device_id:M})=>{console.log("Ready with Device ID",M),ee.push(`Ready with Device ID ${M}`),n(2,f="good")}),W.addListener("not_ready",({device_id:M})=>{console.log("Device ID has gone offline",M),ee.push(`Device ID has gone offline ${M}`)}),W.addListener("initialization_error",({message:M})=>{console.error(M),ee.push(`Spotify initialization error: ${M}`)}),W.addListener("authentication_error",({message:M})=>{console.error(M),ee.push(`Spotify authentication error: ${M}`),n(2,f="bad")}),W.addListener("account_error",({message:M})=>{console.error(M),ee.push(`Spotify account error: ${M}`),n(2,f="bad")}),W.connect().then(M=>{if(M){console.log("The Web Playback SDK successfully connected to Spotify!"),ee.push("Successfully connected to Spotify");return}const be=localStorage.getItem("storedTrack");if(be){let xt=JSON.parse(be);o.send(JSON.stringify(xt))}}),W.addListener("player_state_changed",M=>{Je(M)}))};const Ot=()=>{n(1,c=!c)},Te=()=>{n(0,a=!a)},xe=()=>{W.previousTrack(),W.pause().then(()=>{n(10,I=!1)})},Xe=()=>{W.nextTrack(),W.pause().then(()=>{n(10,I=!1)})};return t.$$set=q=>{"socketConnection"in q&&n(22,l=q.socketConnection)},[a,c,f,p,_,d,C,w,E,O,I,A,L,G,U,s,r,h,B,ge,Et,Oe,l,Ot,Te,xe,Xe]}class er extends _e{constructor(e){super(),he(this,e,Zo,Qo,fe,{socketConnection:22},null,[-1,-1])}}function tr(t){let e,n,i,s,r,o,l,a,c,f,p,_;return{c(){e=g("div"),n=g("div"),i=g("h1"),i.textContent="Getting started",s=R(),r=g("div"),o=g("p"),o.textContent="> wget https://cloud-catcher.squiddev.cc/cloud.lua",l=R(),a=g("p"),a.textContent=`> spotify.lua ${t[0]}`,c=R(),f=g("div"),f.innerHTML='<p class="svelte-1emd8dp">For more information, as well as source code and screenshots, see the <a href="https://github.com/SquidDev-CC/cloud-catcher" class="svelte-1emd8dp">GitHub repository</a>.</p>',p=R(),_=g("div"),_.innerHTML=`<h2 class="svelte-1emd8dp">Getting started</h2> 
    <p class="svelte-1emd8dp">You will require:</p> 
    <ul class="svelte-1emd8dp"><li class="svelte-1emd8dp">An internet connection</li> 
      <li class="svelte-1emd8dp"><a href="https://tweaked.cc" class="svelte-1emd8dp">CC: Tweaked</a></li></ul> 
    <p class="svelte-1emd8dp">Then just follow the instructions at the top!</p>`,u(i,"class","svelte-1emd8dp"),u(o,"class","svelte-1emd8dp"),u(a,"class","svelte-1emd8dp"),u(r,"class","code-block svelte-1emd8dp"),u(n,"class","getting-started svelte-1emd8dp"),u(f,"class","content"),u(_,"class","getting-started svelte-1emd8dp"),u(e,"class","container svelte-1emd8dp")},m(h,d){x(h,e,d),m(e,n),m(n,i),m(n,s),m(n,r),m(r,o),m(r,l),m(r,a),m(e,c),m(e,f),m(e,p),m(e,_)},p:F,i:F,o:F,d(h){h&&$(e)}}}function nr(t,e,n){qe(t,Nn,r=>n(2,r));const i=JSON.parse(localStorage.getItem("userSocketHash"));let{socketConnection:s}=e;return t.$$set=r=>{"socketConnection"in r&&n(1,s=r.socketConnection)},[i,s]}class Ii extends _e{constructor(e){super(),he(this,e,nr,tr,fe,{socketConnection:1})}}function ir(t){let e,n,i,s,r,o,l,a,c,f,p,_;function h(w){t[2](w)}var d=t[1];function C(w){let E={};return w[0]!==void 0&&(E.socketConnection=w[0]),{props:E}}return d&&(e=Yt(d,C(t)),en.push(()=>Xn(e,"socketConnection",h))),{c(){e&&ae(e.$$.fragment),i=R(),s=g("link"),r=g("link"),o=g("link"),l=g("style"),l.textContent=`body {
      padding: 0;
      margin: 0;
      font-family: "Libre Franklin", sans-serif;
      color: #fbfcfc;
      /* font-family: Arial, Helvetica, sans-serif; */
    }
  `,a=g("script"),f=g("link"),p=g("style"),p.textContent=`.material-symbols-outlined {
      font-variation-settings:
        "FILL" 0,
        "wght" 300,
        "GRAD" 0,
        "opsz" 48;
    }`,u(s,"rel","preconnect"),u(s,"href","https://fonts.googleapis.com"),u(r,"rel","preconnect"),u(r,"href","https://fonts.gstatic.com"),u(r,"crossorigin",""),u(o,"href","https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@300&display=swap"),u(o,"rel","stylesheet"),ke(a.src,c="https://sdk.scdn.co/spotify-player.js")||u(a,"src",c),u(f,"rel","stylesheet"),u(f,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,300,0,0")},m(w,E){e&&ne(e,w,E),x(w,i,E),m(document.head,s),m(document.head,r),m(document.head,o),m(document.head,l),m(document.head,a),m(document.head,f),m(document.head,p),_=!0},p(w,[E]){const O={};if(!n&&E&1&&(n=!0,O.socketConnection=w[0],vs(()=>n=!1)),E&2&&d!==(d=w[1])){if(e){ye();const I=e;z(I.$$.fragment,1,0,()=>{ie(I,1)}),Se()}d?(e=Yt(d,C(w)),en.push(()=>Xn(e,"socketConnection",h)),ae(e.$$.fragment),H(e.$$.fragment,1),ne(e,i.parentNode,i)):e=null}else d&&e.$set(O)},i(w){_||(e&&H(e.$$.fragment,w),_=!0)},o(w){e&&z(e.$$.fragment,w),_=!1},d(w){e&&ie(e,w),w&&$(i),$(s),$(r),$(o),$(l),$(a),$(f),$(p)}}}function sr(t,e,n){qe(t,Nn,o=>n(3,o)),localStorage.getItem("luaSocketConnected")===null&&localStorage.setItem("luaSocketConnected",JSON.stringify(!1));let i=JSON.parse(localStorage.getItem("luaSocketConnected")),s=Ii;function r(o){i=o,n(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&n(1,s=i?er:Ii)},[i,s,r]}class or extends _e{constructor(e){super(),he(this,e,sr,ir,fe,{})}}new or({target:document.getElementById("app")});
