(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function H(){}const Ae=t=>t;function mt(t,e){for(const n in e)t[n]=e[n];return t}function Mn(t){return t()}function en(){return Object.create(null)}function re(t){t.forEach(Mn)}function et(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let nt;function Nt(t,e){return nt||(nt=document.createElement("a")),nt.href=e,t===nt.href}function ii(t){return Object.keys(t).length===0}function Pn(t,...e){if(t==null)return H;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Nn(t){let e;return Pn(t,n=>e=n)(),e}function Me(t,e,n){t.$$.on_destroy.push(Pn(e,n))}function oi(t,e,n,i){if(t){const o=Hn(t,e,n,i);return t[0](o)}}function Hn(t,e,n,i){return t[1]&&i?mt(n.ctx.slice(),t[1](i(e))):n.ctx}function si(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],r=Math.max(e.dirty.length,o.length);for(let a=0;a<r;a+=1)s[a]=e.dirty[a]|o[a];return s}return e.dirty|o}return e.dirty}function ri(t,e,n,i,o,s){if(o){const r=Hn(e,n,i,s);t.p(r,o)}}function ai(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function tn(t){return t??""}function nn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Dn=typeof window<"u";let St=Dn?()=>window.performance.now():()=>Date.now(),Wt=Dn?t=>requestAnimationFrame(t):H;const Pe=new Set;function Un(t){Pe.forEach(e=>{e.c(t)||(Pe.delete(e),e.f())}),Pe.size!==0&&Wt(Un)}function Et(t){let e;return Pe.size===0&&Wt(Un),{promise:new Promise(n=>{Pe.add(e={c:t,f:n})}),abort(){Pe.delete(e)}}}function x(t,e){t.appendChild(e)}function qn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function li(t){const e=A("style");return ci(qn(t),e),e.sheet}function ci(t,e){return x(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function A(t){return document.createElement(t)}function ui(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _e(t){return document.createTextNode(t)}function P(){return _e(" ")}function Jt(){return _e("")}function fe(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fi(t){return Array.from(t.childNodes)}function Xe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Re(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function it(t,e,n){t.classList[n?"add":"remove"](e)}function di(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,i,e),o}class pi{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=ui(n.nodeName):this.e=A(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)L(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(R)}}function ht(t,e){return new t(e)}const wt=new Map;let gt=0;function mi(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function hi(t,e){const n={stylesheet:li(e),rules:{}};return wt.set(t,n),n}function Xt(t,e,n,i,o,s,r,a=0){const l=16.666/i;let c=`{
`;for(let E=0;E<=1;E+=l){const k=e+(n-e)*s(E);c+=E*100+`%{${r(k,1-k)}}
`}const d=c+`100% {${r(n,1-n)}}
}`,u=`__svelte_${mi(d)}_${a}`,f=qn(t),{stylesheet:h,rules:p}=wt.get(f)||hi(f,t);p[u]||(p[u]=!0,h.insertRule(`@keyframes ${u} ${d}`,h.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${u} ${i}ms linear ${o}ms 1 both`,gt+=1,u}function _t(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),gt-=o,gt||wi())}function wi(){Wt(()=>{gt||(wt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&R(e)}),wt.clear())})}function gi(t,e,n,i){if(!e)return H;const o=t.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return H;const{delay:s=0,duration:r=300,easing:a=Ae,start:l=St()+s,end:c=l+r,tick:d=H,css:u}=n(t,{from:e,to:o},i);let f=!0,h=!1,p;function v(){u&&(p=Xt(t,0,1,r,s,a,u)),s||(h=!0)}function E(){u&&_t(t,p),f=!1}return Et(k=>{if(!h&&k>=l&&(h=!0),h&&k>=c&&(d(1,0),E()),!f)return!1;if(h){const I=k-l,T=0+1*a(I/r);d(T,1-T)}return!0}),v(),d(0,1),E}function _i(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:i}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,zn(t,o)}}function zn(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),o=i.transform==="none"?"":i.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let Ke;function Ye(t){Ke=t}function Fn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function bi(t){Fn().$$.on_mount.push(t)}function yi(t){Fn().$$.on_destroy.push(t)}const Ie=[],bt=[];let Ne=[];const Ht=[],vi=Promise.resolve();let Dt=!1;function ki(){Dt||(Dt=!0,vi.then(Bn))}function Ue(t){Ne.push(t)}function Si(t){Ht.push(t)}const $t=new Set;let Te=0;function Bn(){if(Te!==0)return;const t=Ke;do{try{for(;Te<Ie.length;){const e=Ie[Te];Te++,Ye(e),Ei(e.$$)}}catch(e){throw Ie.length=0,Te=0,e}for(Ye(null),Ie.length=0,Te=0;bt.length;)bt.pop()();for(let e=0;e<Ne.length;e+=1){const n=Ne[e];$t.has(n)||($t.add(n),n())}Ne.length=0}while(Ie.length);for(;Ht.length;)Ht.pop()();Dt=!1,$t.clear(),Ye(t)}function Ei(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ue)}}function xi(t){const e=[],n=[];Ne.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Ne=e}let je;function jn(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function yt(t,e,n){t.dispatchEvent(di(`${e?"intro":"outro"}${n}`))}const ft=new Set;let he;function Se(){he={r:0,c:[],p:he}}function Ee(){he.r||re(he.c),he=he.p}function N(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function F(t,e,n,i){if(t&&t.o){if(ft.has(t))return;ft.add(t),he.c.push(()=>{ft.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Vn={duration:0};function Ai(t,e,n){const i={direction:"in"};let o=e(t,n,i),s=!1,r,a,l=0;function c(){r&&_t(t,r)}function d(){const{delay:f=0,duration:h=300,easing:p=Ae,tick:v=H,css:E}=o||Vn;E&&(r=Xt(t,0,1,h,f,p,E,l++)),v(0,1);const k=St()+f,I=k+h;a&&a.abort(),s=!0,Ue(()=>yt(t,!0,"start")),a=Et(T=>{if(s){if(T>=I)return v(1,0),yt(t,!0,"end"),c(),s=!1;if(T>=k){const D=p((T-k)/h);v(D,1-D)}}return s})}let u=!1;return{start(){u||(u=!0,_t(t),et(o)?(o=o(i),jn().then(d)):d())},invalidate(){u=!1},end(){s&&(c(),s=!1)}}}function Ti(t,e,n){const i={direction:"out"};let o=e(t,n,i),s=!0,r;const a=he;a.r+=1;function l(){const{delay:c=0,duration:d=300,easing:u=Ae,tick:f=H,css:h}=o||Vn;h&&(r=Xt(t,1,0,d,c,u,h));const p=St()+c,v=p+d;Ue(()=>yt(t,!1,"start")),Et(E=>{if(s){if(E>=v)return f(0,1),yt(t,!1,"end"),--a.r||re(a.c),!1;if(E>=p){const k=u((E-p)/d);f(1-k,k)}}return s})}return et(o)?jn().then(()=>{o=o(i),l()}):l(),{end(c){c&&o.tick&&o.tick(1,0),s&&(r&&_t(t,r),s=!1)}}}function $i(t,e){F(t,1,1,()=>{e.delete(t.key)})}function Ci(t,e){t.f(),$i(t,e)}function Oi(t,e,n,i,o,s,r,a,l,c,d,u){let f=t.length,h=s.length,p=f;const v={};for(;p--;)v[t[p].key]=p;const E=[],k=new Map,I=new Map,T=[];for(p=h;p--;){const b=u(o,s,p),C=n(b);let B=r.get(C);B?i&&T.push(()=>B.p(b,e)):(B=c(C,b),B.c()),k.set(C,E[p]=B),C in v&&I.set(C,Math.abs(p-v[C]))}const D=new Set,U=new Set;function K(b){N(b,1),b.m(a,d),r.set(b.key,b),d=b.first,h--}for(;f&&h;){const b=E[h-1],C=t[f-1],B=b.key,pe=C.key;b===C?(d=b.first,f--,h--):k.has(pe)?!r.has(B)||D.has(B)?K(b):U.has(pe)?f--:I.get(B)>I.get(pe)?(U.add(B),K(b)):(D.add(pe),f--):(l(C,r),f--)}for(;f--;){const b=t[f];k.has(b.key)||l(b,r)}for(;h;)K(E[h-1]);return re(T),E}function Ii(t,e){const n={},i={},o={$$scope:1};let s=t.length;for(;s--;){const r=t[s],a=e[s];if(a){for(const l in r)l in a||(i[l]=1);for(const l in a)o[l]||(n[l]=a[l],o[l]=1);t[s]=a}else for(const l in r)o[l]=1}for(const r in i)r in n||(n[r]=void 0);return n}function Ri(t){return typeof t=="object"&&t!==null?t:{}}function on(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ie(t){t&&t.c()}function te(t,e,n,i){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),i||Ue(()=>{const r=t.$$.on_mount.map(Mn).filter(et);t.$$.on_destroy?t.$$.on_destroy.push(...r):re(r),t.$$.on_mount=[]}),s.forEach(Ue)}function ne(t,e){const n=t.$$;n.fragment!==null&&(xi(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Li(t,e){t.$$.dirty[0]===-1&&(Ie.push(t),ki(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,i,o,s,r,a=[-1]){const l=Ke;Ye(t);const c=t.$$={fragment:null,ctx:[],props:s,update:H,not_equal:o,bound:en(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:en(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(u,f,...h)=>{const p=h.length?h[0]:f;return c.ctx&&o(c.ctx[u],c.ctx[u]=p)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](p),d&&Li(t,u)),f}):[],c.update(),d=!0,re(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const u=fi(e.target);c.fragment&&c.fragment.l(u),u.forEach(R)}else c.fragment&&c.fragment.c();e.intro&&N(t.$$.fragment),te(t,e.target,e.anchor,e.customElement),Bn()}Ye(l)}class ye{$destroy(){ne(this,1),this.$destroy=H}$on(e,n){if(!et(n))return H;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!ii(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $e=[];function Mi(t,e){return{subscribe:Fe(t,e).subscribe}}function Fe(t,e=H){let n;const i=new Set;function o(a){if(de(t,a)&&(t=a,n)){const l=!$e.length;for(const c of i)c[1](),$e.push(c,t);if(l){for(let c=0;c<$e.length;c+=2)$e[c][0]($e[c+1]);$e.length=0}}}function s(a){o(a(t))}function r(a,l=H){const c=[a,l];return i.add(c),i.size===1&&(n=e(o)||H),a(t),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:r}}function Gn(t){const e=t-1;return e*e*e+1}function sn(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ut(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((o,s)=>Ut(t[s],o));return o=>i.map(s=>s(o))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(sn(t)&&sn(e)){t=t.getTime(),e=e.getTime();const s=e-t;return r=>new Date(t+r*s)}const i=Object.keys(e),o={};return i.forEach(s=>{o[s]=Ut(t[s],e[s])}),s=>{const r={};return i.forEach(a=>{r[a]=o[a](s)}),r}}if(n==="number"){const i=e-t;return o=>t+o*i}throw new Error(`Cannot interpolate ${n} values`)}function Wn(t,e={}){const n=Fe(t);let i,o=t;function s(r,a){if(t==null)return n.set(t=r),Promise.resolve();o=r;let l=i,c=!1,{delay:d=0,duration:u=400,easing:f=Ae,interpolate:h=Ut}=mt(mt({},e),a);if(u===0)return l&&(l.abort(),l=null),n.set(t=o),Promise.resolve();const p=St()+d;let v;return i=Et(E=>{if(E<p)return!0;c||(v=h(t,r),typeof u=="function"&&(u=u(t,r)),c=!0),l&&(l.abort(),l=null);const k=E-p;return k>u?(n.set(t=r),!1):(n.set(t=v(f(k/u))),!0)}),i.promise}return{set:s,update:(r,a)=>s(r(o,t),a),subscribe:n.subscribe}}var Ct={};function rn(t){return t==="local"?localStorage:sessionStorage}function Pi(t,e,n){const i=(n==null?void 0:n.serializer)??JSON,o=(n==null?void 0:n.storage)??"local",s=typeof window<"u"&&typeof document<"u";function r(a,l){s&&rn(o).setItem(a,i.stringify(l))}if(!Ct[t]){const a=Fe(e,d=>{const u=s?rn(o).getItem(t):null;if(u&&d(i.parse(u)),s){const f=h=>{h.key===t&&d(h.newValue?i.parse(h.newValue):null)};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)}}),{subscribe:l,set:c}=a;Ct[t]={set(d){r(t,d),c(d)},update(d){const u=d(Nn(a));r(t,u),c(u)},subscribe:l}}return Ct[t]}let Jn=Pi("settings",{roundedCorners:!1,volume:1,debugSettings:!1}),Xn=Fe(!1);var Ni="2.0.0-beta.3",qe="",an="?",qt="function",we="undefined",ze="object",zt="string",Qe="major",_="model",m="name",g="type",y="vendor",w="version",X="architecture",Le="console",M="mobile",z="tablet",Q="smarttv",dt="wearable",ln="xr",Ft="embedded",cn="user-agent",Bt=500,Yt="brands",ke="formFactors",Kt="fullVersionList",He="platform",Qt="platformVersion",xt="bitness",ve="sec-ch-ua",Hi=ve+"-full-version-list",Di=ve+"-arch",Ui=ve+"-"+xt,qi=ve+"-form-factors",zi=ve+"-"+M,Fi=ve+"-"+_,Yn=ve+"-"+He,Bi=Yn+"-version",Kn=[Yt,Kt,M,_,He,Qt,X,ke,xt],Z="browser",le="cpu",oe="device",ce="engine",ee="os",De="result",ot="Amazon",Ve="Apple",un="ASUS",fn="BlackBerry",st="Google",dn="Huawei",pn="Lenovo",Ot="LG",pt="Microsoft",mn="Motorola",rt="Samsung",hn="Sharp",at="Sony",It="Xiaomi",Rt="Zebra",Ce="Mobile ",Oe=" Browser",lt="Chrome",ji="Edge",Ge="Firefox",We="Opera",wn="Facebook",gn="Sogou",jt="Windows",Vi=typeof window!==we,Y=Vi&&window.navigator?window.navigator:void 0,me=Y&&Y.userAgentData?Y.userAgentData:void 0,Gi=function(t,e){var n={},i=e;if(!vt(e)){i={};for(var o in e)for(var s in e[o])i[s]=e[o][s].concat(i[s]?i[s]:[])}for(var r in t)n[r]=i[r]&&i[r].length%2===0?i[r].concat(t[r]):t[r];return n},At=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},Vt=function(t,e){if(typeof t===ze&&t.length>0){for(var n in t)if(ge(t[n])==ge(e))return!0;return!1}return Be(t)?ge(e).indexOf(ge(t))!==-1:!1},vt=function(t,e){for(var n in t)return/^(browser|cpu|device|engine|os)$/.test(n)||(e?vt(t[n]):!1)},Be=function(t){return typeof t===zt},Lt=function(t){if(t){for(var e=[],n=xe(/\\?\"/g,t).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var o=Ze(n[i]).split(";v=");e[i]={brand:o[0],version:o[1]}}else e[i]=Ze(n[i]);return e}},ge=function(t){return Be(t)?t.toLowerCase():t},Mt=function(t){return Be(t)?xe(/[^\d\.]/g,t).split(".")[0]:void 0},ue=function(t){for(var e in t){var n=t[e];typeof n==ze&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},xe=function(t,e){return Be(e)?e.replace(t,qe):e},Je=function(t){return xe(/\\?\"/g,t)},Ze=function(t,e){if(Be(t))return t=xe(/^\s\s*/,t),typeof e===we?t:t.substring(0,Bt)},_n=function(t,e){if(!(!t||!e))for(var n=0,i,o,s,r,a,l;n<e.length&&!a;){var c=e[n],d=e[n+1];for(i=o=0;i<c.length&&!a&&c[i];)if(a=c[i++].exec(t),a)for(s=0;s<d.length;s++)l=a[++o],r=d[s],typeof r===ze&&r.length>0?r.length===2?typeof r[1]==qt?this[r[0]]=r[1].call(this,l):this[r[0]]=r[1]:r.length===3?typeof r[1]===qt&&!(r[1].exec&&r[1].test)?this[r[0]]=l?r[1].call(this,l,r[2]):void 0:this[r[0]]=l?l.replace(r[1],r[2]):void 0:r.length===4&&(this[r[0]]=l?r[3].call(this,l.replace(r[1],r[2])):void 0):this[r]=l||void 0;n+=2}},kt=function(t,e){for(var n in e)if(typeof e[n]===ze&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(Vt(e[n][i],t))return n===an?void 0:n}else if(Vt(e[n],t))return n===an?void 0:n;return e.hasOwnProperty("*")?e["*"]:t},bn={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},yn={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},vn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[m,Ce+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,w],[/opios[\/ ]+([\w\.]+)/i],[w,[m,We+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[m,We+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[m,We]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[m,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,w],[/\bddg\/([\w\.]+)/i],[w,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[m,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[m,"Smart "+pn+Oe]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure"+Oe],w],[/\bfocus\/([\w\.]+)/i],[w,[m,Ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[m,We+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[m,We+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[m,"MIUI"+Oe]],[/fxios\/([\w\.-]+)/i],[w,[m,Ce+Ge]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360"+Oe]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+Oe],w],[/samsungbrowser\/([\w\.]+)/i],[w,[m,rt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],w],[/metasr[\/ ]?([\d\.]+)/i],[w,[m,gn+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,gn+" Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[m,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,wn],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[m,lt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,lt+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[m,"Android"+Oe]],[/chrome\/([\w\.]+) mobile/i],[w,[m,Ce+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,w],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[w,[m,Ce+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[m,Ce+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[w,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[w,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[m,w],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[m,Ce+Ge],w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],w],[/(wolvic)\/([\w\.]+)/i],[m,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[m,Ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[m,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[w,/[^\d\.]+./,qe]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[X,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[X,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[X,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[X,"armhf"]],[/windows (ce|mobile); ppc;/i],[[X,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[X,/ower/,qe,ge]],[/(sun4\w)[;\)]/i],[[X,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[X,ge]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[y,rt],[g,z]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[_,[y,rt],[g,M]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[_,[y,Ve],[g,M]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[y,Ve],[g,z]],[/(macintosh);/i],[_,[y,Ve]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[y,hn],[g,M]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[y,dn],[g,z]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[y,dn],[g,M]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[_,/_/g," "],[y,It],[g,M]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[y,It],[g,z]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[y,"OPPO"],[g,M]],[/\b(opd2\d{3}a?) bui/i],[_,[y,"OPPO"],[g,z]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[y,"Vivo"],[g,M]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[_,[y,"Realme"],[g,M]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[y,mn],[g,M]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[y,mn],[g,z]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[y,Ot],[g,z]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[y,Ot],[g,M]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[y,pn],[g,z]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[y,"Nokia"],[g,M]],[/(pixel c)\b/i],[_,[y,st],[g,z]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[y,st],[g,M]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[y,at],[g,M]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[y,at],[g,z]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[y,"OnePlus"],[g,M]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[y,ot],[g,z]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[y,ot],[g,M]],[/(playbook);[-\w\),; ]+(rim)/i],[_,y,[g,z]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[y,fn],[g,M]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[y,un],[g,z]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[y,un],[g,M]],[/(nexus 9)/i],[_,[y,"HTC"],[g,z]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[_,/_/g," "],[g,M]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[y,"Acer"],[g,z]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[y,"Meizu"],[g,M]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[_,[y,"Ulefone"],[g,M]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,_,[g,M]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[y,_,[g,z]],[/(surface duo)/i],[_,[y,pt],[g,z]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[y,"Fairphone"],[g,M]],[/(shield[\w ]+) b/i],[_,[y,"Nvidia"],[g,z]],[/(sprint) (\w+)/i],[y,_,[g,M]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[y,pt],[g,M]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[y,Rt],[g,z]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[y,Rt],[g,M]],[/smart-tv.+(samsung)/i],[y,[g,Q]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[y,rt],[g,Q]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,Ot],[g,Q]],[/(apple) ?tv/i],[y,[_,Ve+" TV"],[g,Q]],[/crkey/i],[[_,lt+"cast"],[y,st],[g,Q]],[/droid.+aft(\w+)( bui|\))/i],[_,[y,ot],[g,Q]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[y,hn],[g,Q]],[/(bravia[\w ]+)( bui|\))/i],[_,[y,at],[g,Q]],[/(mitv-\w{5}) bui/i],[_,[y,It],[g,Q]],[/Hbbtv.*(technisat) (.*);/i],[y,_,[g,Q]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,Ze],[_,Ze],[g,Q]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,Q]],[/(ouya)/i,/(nintendo) (\w+)/i],[y,_,[g,Le]],[/droid.+; (shield) bui/i],[_,[y,"Nvidia"],[g,Le]],[/(playstation \w+)/i],[_,[y,at],[g,Le]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[y,pt],[g,Le]],[/((pebble))app/i],[y,_,[g,dt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[_,[y,Ve],[g,dt]],[/droid.+; (wt63?0{2,3})\)/i],[_,[y,Rt],[g,dt]],[/droid.+; (glass) \d/i],[_,[y,st],[g,ln]],[/(quest( \d| pro)?)/i],[_,[y,wn],[g,ln]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[g,Ft]],[/(aeobc)\b/i],[_,[y,ot],[g,Ft]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[_,[g,M]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[g,z]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,z]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,M]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[m,ji+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,w],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[w,kt,bn]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,kt,bn],[m,jt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,"macOS"],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,w],[/\(bb(10);/i],[w,[m,fn]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[m,Ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[m,lt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,"Chrome OS"],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,w],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,w]]},ct=function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return ue.call(t.init,[[Z,[m,w,Qe,g]],[le,[X]],[oe,[g,_,y]],[ce,[m,w]],[ee,[m,w]]]),ue.call(t.isIgnore,[[Z,[w,Qe]],[ce,[w]],[ee,[w]]]),ue.call(t.isIgnoreRgx,[[Z,/ ?browser$/i],[ee,/ ?os$/i]]),ue.call(t.toString,[[Z,[m,w]],[le,[X]],[oe,[y,_]],[ce,[m,w]],[ee,[m,w]]]),t}(),Wi=function(t,e){var n=ct.init[e],i=ct.isIgnore[e]||0,o=ct.isIgnoreRgx[e]||0,s=ct.toString[e]||0;function r(){ue.call(this,n)}return r.prototype.getItem=function(){return t},r.prototype.withClientHints=function(){return me?me.getHighEntropyValues(Kn).then(function(a){return t.setCH(new Qn(a,!1)).parseCH().get()}):t.parseCH().get()},r.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=De&&(r.prototype.is=function(a){var l=!1;for(var c in this)if(this.hasOwnProperty(c)&&!Vt(i,c)&&ge(o?xe(o,this[c]):this[c])==ge(o?xe(o,a):a)){if(l=!0,a!=we)break}else if(a==we&&l){l=!l;break}return l},r.prototype.toString=function(){var a=qe;for(var l in s)typeof this[s[l]]!==we&&(a+=(a?" ":qe)+this[s[l]]);return a||we}),me||(r.prototype.then=function(a){var l=this,c=function(){for(var u in l)l.hasOwnProperty(u)&&(this[u]=l[u])};c.prototype={is:r.prototype.is,toString:r.prototype.toString};var d=new c;return a(d),d}),new r};function Qn(t,e){if(t=t||{},ue.call(this,Kn),e)ue.call(this,[[Yt,Lt(t[ve])],[Kt,Lt(t[Hi])],[M,/\?1/.test(t[zi])],[_,Je(t[Fi])],[He,Je(t[Yn])],[Qt,Je(t[Bi])],[X,Je(t[Di])],[ke,Lt(t[qi])],[xt,Je(t[Ui])]]);else for(var n in t)this.hasOwnProperty(n)&&typeof t[n]!==we&&(this[n]=t[n])}function kn(t,e,n,i){return this.get=function(o){return o?this.data.hasOwnProperty(o)?this.data[o]:void 0:this.data},this.set=function(o,s){return this.data[o]=s,this},this.setCH=function(o){return this.uaCH=o,this},this.detectFeature=function(){if(Y&&Y.userAgent==this.ua)switch(this.itemType){case Z:Y.brave&&typeof Y.brave.isBrave==qt&&this.set(m,"Brave");break;case oe:!this.get(g)&&me&&me[M]&&this.set(g,M),this.get(_)=="Macintosh"&&Y&&typeof Y.standalone!==we&&Y.maxTouchPoints&&Y.maxTouchPoints>2&&this.set(_,"iPad").set(g,z);break;case ee:!this.get(m)&&me&&me[He]&&this.set(m,me[He]);break;case De:var o=this.data,s=function(r){return o[r].getItem().detectFeature().get()};this.set(Z,s(Z)).set(le,s(le)).set(oe,s(oe)).set(ce,s(ce)).set(ee,s(ee))}return this},this.parseUA=function(){return this.itemType!=De&&_n.call(this.data,this.ua,this.rgxMap),this.itemType==Z&&this.set(Qe,Mt(this.get(w))),this},this.parseCH=function(){var o=this.uaCH,s=this.rgxMap;switch(this.itemType){case Z:var r=o[Kt]||o[Yt],a;if(r)for(var l in r){var c=xe(/(Google|Microsoft) /,r[l].brand||r[l]),d=r[l].version;!/not.a.brand/i.test(c)&&(!a||/chrom/i.test(a)&&!/chromi/i.test(c))&&(this.set(m,c).set(w,d).set(Qe,Mt(d)),a=c)}break;case le:var u=o[X];u&&(u&&o[xt]=="64"&&(u+="64"),_n.call(this.data,u+";",s));break;case oe:if(o[M]&&this.set(g,M),o[_]&&this.set(_,o[_]),o[_]=="Xbox"&&this.set(g,Le).set(y,pt),o[ke]){var f;if(typeof o[ke]!="string")for(var h=0;!f&&h<o[ke].length;)f=kt(o[ke][h++],yn);else f=kt(o[ke],yn);this.set(g,f)}break;case ee:var p=o[He];if(p){var v=o[Qt];p==jt&&(v=parseInt(Mt(v),10)>=13?"11":"10"),this.set(m,p).set(w,v)}this.get(m)==jt&&o[_]=="Xbox"&&this.set(m,"Xbox").set(w,void 0);break;case De:var E=this.data,k=function(I){return E[I].getItem().setCH(o).parseCH().get()};this.set(Z,k(Z)).set(le,k(le)).set(oe,k(oe)).set(ce,k(ce)).set(ee,k(ee))}return this},ue.call(this,[["itemType",t],["ua",e],["uaCH",i],["rgxMap",n],["data",Wi(this,t)]]),this}function se(t,e,n){if(typeof t===ze?(vt(t,!0)?(typeof e===ze&&(n=e),e=t):(n=t,e=void 0),t=void 0):typeof t===zt&&!vt(e,!0)&&(n=e,e=void 0),!(this instanceof se))return new se(t,e,n).getResult();var i=typeof t===zt?t:Y&&Y.userAgent?Y.userAgent:n&&n[cn]?n[cn]:qe,o=new Qn(n,!0),s=e?Gi(vn,e):vn,r=function(a){return a==De?function(){return new kn(a,i,s,o).set("ua",i).set(Z,this.getBrowser()).set(le,this.getCPU()).set(oe,this.getDevice()).set(ce,this.getEngine()).set(ee,this.getOS()).get()}:function(){return new kn(a,i,s[a],o).parseUA().get()}};return ue.call(this,[["getBrowser",r(Z)],["getCPU",r(le)],["getDevice",r(oe)],["getEngine",r(ce)],["getOS",r(ee)],["getResult",r(De)],["getUA",function(){return i}],["setUA",function(a){return Be(a)&&(i=a.length>Bt?Ze(a,Bt):a),this}]]).setUA(i),this}se.VERSION=Ni;se.BROWSER=At([m,w,Qe,g]);se.CPU=At([X]);se.DEVICE=At([_,y,g,Le,M,Q,z,dt,Ft]);se.ENGINE=se.OS=At([m,w]);function Ji(t,{delay:e=0,duration:n=400,easing:i=Ae}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*o}`}}function Xi(t,{delay:e=0,duration:n=400,easing:i=Gn,x:o=0,y:s=0,opacity:r=0}={}){const a=getComputedStyle(t),l=+a.opacity,c=a.transform==="none"?"":a.transform,d=l*(1-r),[u,f]=nn(o),[h,p]=nn(s);return{delay:e,duration:n,easing:i,css:(v,E)=>`
			transform: ${c} translate(${(1-v)*u}${f}, ${(1-v)*h}${p});
			opacity: ${l-d*E}`}}function Yi(t,{from:e,to:n},i={}){const o=getComputedStyle(t),s=o.transform==="none"?"":o.transform,[r,a]=o.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*r/n.width-(n.left+r),c=e.top+e.height*a/n.height-(n.top+a),{delay:d=0,duration:u=h=>Math.sqrt(h)*120,easing:f=Gn}=i;return{delay:d,duration:et(u)?u(Math.sqrt(l*l+c*c)):u,easing:f,css:(h,p)=>{const v=p*l,E=p*c,k=h+p*e.width/n.width,I=h+p*e.height/n.height;return`transform: ${s} translate(${v}px, ${E}px) scale(${k}, ${I});`}}}const Ki={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function Qi(){const{subscribe:t,update:e}=Fe(new Array),n={};let i=0;function o(c){return c instanceof Object}function s(c="default",d={}){return n[c]=d,n}function r(c,d){const u={target:"default",...o(c)?c:{...d,msg:c}},f=n[u.target]||{},h={...Ki,...f,...u,theme:{...f.theme,...u.theme},classes:[...f.classes||[],...u.classes||[]],id:++i};return e(p=>h.reversed?[...p,h]:[h,...p]),i}function a(c){e(d=>{if(!d.length||c===0)return[];if(typeof c=="function")return d.filter(f=>c(f));if(o(c))return d.filter(f=>f.target!==c.target);const u=c||Math.max(...d.map(f=>f.id));return d.filter(f=>f.id!==u)})}function l(c,d){const u=o(c)?c:{...d,id:c};e(f=>{const h=f.findIndex(p=>p.id===u.id);return h>-1&&(f[h]={...f[h],...u}),f})}return{subscribe:t,push:r,pop:a,set:l,_init:s}}const W=Qi();function Zi(t){let e,n=t[0].msg+"",i;return{c(){e=new pi(!1),i=Jt(),e.a=i},m(o,s){e.m(n,o,s),L(o,i,s)},p(o,s){s&1&&n!==(n=o[0].msg+"")&&e.p(n)},i:H,o:H,d(o){o&&R(i),o&&e.d()}}}function eo(t){let e,n,i;const o=[t[2]];var s=t[0].component.src;function r(a){let l={};for(let c=0;c<o.length;c+=1)l=mt(l,o[c]);return{props:l}}return s&&(e=ht(s,r())),{c(){e&&ie(e.$$.fragment),n=Jt()},m(a,l){e&&te(e,a,l),L(a,n,l),i=!0},p(a,l){const c=l&4?Ii(o,[Ri(a[2])]):{};if(l&1&&s!==(s=a[0].component.src)){if(e){Se();const d=e;F(d.$$.fragment,1,0,()=>{ne(d,1)}),Ee()}s?(e=ht(s,r()),ie(e.$$.fragment),N(e.$$.fragment,1),te(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(a){i||(e&&N(e.$$.fragment,a),i=!0)},o(a){e&&F(e.$$.fragment,a),i=!1},d(a){a&&R(n),e&&ne(e,a)}}}function Sn(t){let e,n,i;return{c(){e=A("div"),S(e,"class","_toastBtn pe svelte-95rq8t"),S(e,"role","button"),S(e,"tabindex","0")},m(o,s){L(o,e,s),n||(i=[fe(e,"click",t[4]),fe(e,"keydown",t[8])],n=!0)},p:H,d(o){o&&R(e),n=!1,re(i)}}}function to(t){let e,n,i,o,s,r,a,l,c,d;const u=[eo,Zi],f=[];function h(v,E){return v[0].component?0:1}i=h(t),o=f[i]=u[i](t);let p=t[0].dismissable&&Sn(t);return{c(){e=A("div"),n=A("div"),o.c(),s=P(),p&&p.c(),r=P(),a=A("progress"),S(n,"class","_toastMsg svelte-95rq8t"),it(n,"pe",t[0].component),S(a,"class","_toastBar svelte-95rq8t"),a.value=t[1],S(e,"role","status"),S(e,"class","_toastItem svelte-95rq8t"),it(e,"pe",t[0].pausable)},m(v,E){L(v,e,E),x(e,n),f[i].m(n,null),x(e,s),p&&p.m(e,null),x(e,r),x(e,a),l=!0,c||(d=[fe(e,"mouseenter",t[9]),fe(e,"mouseleave",t[6])],c=!0)},p(v,[E]){let k=i;i=h(v),i===k?f[i].p(v,E):(Se(),F(f[k],1,1,()=>{f[k]=null}),Ee(),o=f[i],o?o.p(v,E):(o=f[i]=u[i](v),o.c()),N(o,1),o.m(n,null)),(!l||E&1)&&it(n,"pe",v[0].component),v[0].dismissable?p?p.p(v,E):(p=Sn(v),p.c(),p.m(e,r)):p&&(p.d(1),p=null),(!l||E&2)&&(a.value=v[1]),(!l||E&1)&&it(e,"pe",v[0].pausable)},i(v){l||(N(o),l=!0)},o(v){F(o),l=!1},d(v){v&&R(e),f[i].d(),p&&p.d(),c=!1,re(d)}}}function Pt(t,e="undefined"){return typeof t===e}function no(t,e,n){let i,{item:o}=e,s=o.initial,r=s,a=!1,l={},c;const d=Wn(o.initial,{duration:o.duration,easing:Ae});Me(t,d,I=>n(1,i=I));function u(){W.pop(o.id)}function f(){(i===1||i===0)&&u()}function h(){!a&&i!==s&&(d.set(i,{duration:0}),a=!0)}function p(){if(a){const I=o.duration,T=I-I*((i-r)/(s-r));d.set(s,{duration:T}).then(f),a=!1}}function v(I=document){if(Pt(I.hidden))return;const T=()=>I.hidden?h():p(),D="visibilitychange";I.addEventListener(D,T),c=()=>I.removeEventListener(D,T),T()}bi(v),yi(()=>{Pt(o.onpop,"function")&&o.onpop(o.id),c&&c()});const E=I=>{I instanceof KeyboardEvent&&["Enter"," "].includes(I.key)&&u()},k=()=>{o.pausable&&h()};return t.$$set=I=>{"item"in I&&n(0,o=I.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(Pt(o.progress)||n(0,o.next=o.progress,o)),t.$$.dirty&131&&s!==o.next&&(n(7,s=o.next),r=i,a=!1,d.set(s).then(f)),t.$$.dirty&1&&o.component){const{props:I={},sendIdTo:T}=o.component;n(2,l={...I,...T&&{[T]:o.id}})}},[o,i,l,d,u,h,p,s,E,k]}class io extends ye{constructor(e){super(),be(this,e,no,to,de,{item:0})}}function En(t,e,n){const i=t.slice();return i[4]=e[n],i}function xn(t,e){let n,i,o,s,r,a,l,c,d=H,u;return i=new io({props:{item:e[4]}}),{key:t,first:null,c(){var f;n=A("li"),ie(i.$$.fragment),o=P(),S(n,"class",s=tn((f=e[4].classes)==null?void 0:f.join(" "))+" svelte-1u812xz"),S(n,"style",r=An(e[4].theme)),this.first=n},m(f,h){L(f,n,h),te(i,n,null),x(n,o),u=!0},p(f,h){var v;e=f;const p={};h&1&&(p.item=e[4]),i.$set(p),(!u||h&1&&s!==(s=tn((v=e[4].classes)==null?void 0:v.join(" "))+" svelte-1u812xz"))&&S(n,"class",s),(!u||h&1&&r!==(r=An(e[4].theme)))&&S(n,"style",r)},r(){c=n.getBoundingClientRect()},f(){_i(n),d(),zn(n,c)},a(){d(),d=gi(n,c,Yi,{duration:200})},i(f){u||(N(i.$$.fragment,f),Ue(()=>{u&&(l&&l.end(1),a=Ai(n,Xi,e[4].intro),a.start())}),u=!0)},o(f){F(i.$$.fragment,f),a&&a.invalidate(),l=Ti(n,Ji,{}),u=!1},d(f){f&&R(n),ne(i),f&&l&&l.end()}}}function oo(t){let e,n=[],i=new Map,o,s=t[0];const r=a=>a[4].id;for(let a=0;a<s.length;a+=1){let l=En(t,s,a),c=r(l);i.set(c,n[a]=xn(c,l))}return{c(){e=A("ul");for(let a=0;a<n.length;a+=1)n[a].c();S(e,"class","_toastContainer svelte-1u812xz")},m(a,l){L(a,e,l);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);o=!0},p(a,[l]){if(l&1){s=a[0],Se();for(let c=0;c<n.length;c+=1)n[c].r();n=Oi(n,l,r,1,a,s,i,e,Ci,xn,null,En);for(let c=0;c<n.length;c+=1)n[c].a();Ee()}},i(a){if(!o){for(let l=0;l<s.length;l+=1)N(n[l]);o=!0}},o(a){for(let l=0;l<n.length;l+=1)F(n[l]);o=!1},d(a){a&&R(e);for(let l=0;l<n.length;l+=1)n[l].d()}}}function An(t){return t?Object.keys(t).reduce((e,n)=>`${e}${n}:${t[n]};`,""):void 0}function so(t,e,n){let i;Me(t,W,a=>n(3,i=a));let{options:o={}}=e,{target:s="default"}=e,r=[];return t.$$set=a=>{"options"in a&&n(1,o=a.options),"target"in a&&n(2,s=a.target)},t.$$.update=()=>{t.$$.dirty&6&&W._init(s,o),t.$$.dirty&12&&n(0,r=i.filter(a=>a.target===s))},[r,o,s,i]}class ro extends ye{constructor(e){super(),be(this,e,so,oo,de,{options:1,target:2})}}function Zt(t){if(localStorage.getItem("accessToken")==null||localStorage.getItem("refreshToken")==null)return!1;let e=localStorage.getItem("expiryTime"),n=localStorage.getItem("tokenGenerationTime");if(Date.now()-n>e*1e3){let o=new URLSearchParams;o.append("grant_type","refresh_token"),o.append("refresh_token",localStorage.getItem("refreshToken")),o.append("client_id","c32a475ce586434d9c6436b5fa71de71"),fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o}).then(s=>(s.ok||W.push("Error refreshing token"),s.json())).then(s=>{localStorage.setItem("expiryTime",s.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),W.push("Regenerated access token")})}return localStorage.getItem("accessToken")}async function ao(t){const e=co(128),n=await uo(e);localStorage.setItem("verifier",e),console.log(window.location.href.split(/[?#]/)[0]);const i=new URLSearchParams;i.append("client_id",t),i.append("response_type","code"),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("scope","user-read-playback-state user-modify-playback-state user-read-currently-playing streaming playlist-read-private playlist-read-collaborative user-library-modify user-library-read user-follow-read user-read-private user-read-email"),i.append("code_challenge_method","S256"),i.append("code_challenge",n),console.log(`https://accounts.spotify.com/authorize?${i.toString()}`),document.location=`https://accounts.spotify.com/authorize?${i.toString()}`}async function lo(t,e){const n=localStorage.getItem("verifier"),i=new URLSearchParams;i.append("client_id",t),i.append("grant_type","authorization_code"),i.append("code",e),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("code_verifier",n),await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then(o=>(o.ok||W.push("HTTP status "+o.status),o.json())).then(o=>(localStorage.setItem("expiryTime",o.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",o.access_token),localStorage.setItem("refreshToken",o.refresh_token),W.push("Logged in!"),!0)).catch(o=>{W.push("Error:",o)})}function co(t){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}async function uo(t){const e=new TextEncoder().encode(t),n=await window.crypto.subtle.digest("SHA-256",e);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(n)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Tt={redirectToAuthCodeFlow:ao,newAccessToken:lo,getAccessToken:Zt};async function fo(){return fetch("https://api.spotify.com/v1/me/player/queue",{method:"GET",headers:{Authorization:`Bearer ${Tt.getAccessToken()}`}}).then(t=>(t.ok||console.error("Couldn't get queue from api!"),t.json())).then(t=>t.queue)}async function po(t){await fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Tt.getAccessToken()}`},body:`{ "device_ids": ["${t}"], "play": false }`}).then(e=>{if(e.status==200||e.status==202)return!0;W.push("Device handoff might not have succeeded. You might have do it from another client by using Spotify connect and choosing this device")})}let Tn={track_window:{next_tracks:[]}},Gt,Zn;function mo(){const t=se(window.navigator.userAgent);return`${t.browser.name} Â· ${t.os.name}`}async function ho(){j=new Spotify.Player({name:`cleanplayer (${mo()}) `,getOAuthToken:t=>{t(Zt())},volume:Nn(Jn).volume}),j.addListener("player_state_changed",t=>{JSON.stringify(t.track_window.next_tracks)!=JSON.stringify(Tn.track_window.next_tracks)?(Tn=t,setTimeout(async()=>{let e=await fo();Zn=e,Gt&&(console.log("Updated queue: ",e),Gt(e))},1e3)):console.log("Chose not to update queue")}),j.addListener("ready",({device_id:t})=>{ei=t})}Mi([],function(e){Gt=e,e(Zn)});let j,ei;function ut(t){return t.map(e=>e.height).indexOf(Math.max(...t.map(e=>e.height)))}function wo(t){let e,n,i;const o=t[1].default,s=oi(o,t,t[0],null);return{c(){e=A("div"),n=A("div"),s&&s.c(),S(n,"class","container svelte-qufn0i"),S(e,"class","background svelte-qufn0i")},m(r,a){L(r,e,a),x(e,n),s&&s.m(n,null),i=!0},p(r,[a]){s&&s.p&&(!i||a&1)&&ri(s,o,r,r[0],i?si(o,r[0],a,null):ai(r[0]),null)},i(r){i||(N(s,r),i=!0)},o(r){F(s,r),i=!1},d(r){r&&R(e),s&&s.d(r)}}}function go(t,e,n){let{$$slots:i={},$$scope:o}=e;return t.$$set=s=>{"$$scope"in s&&n(0,o=s.$$scope)},[o,i]}class ti extends ye{constructor(e){super(),be(this,e,go,wo,de,{})}}const _o="/assets/Spotify-6089a3df.png";function $n(t){let e,n,i,o,s,r,a,l;return{c(){e=A("button"),n=_e("Log in with Spotify"),i=A("img"),s=P(),r=A("div"),r.innerHTML=`<h1><a href="privacypolicy.txt" target="_blank" class="svelte-xagkxi">Privacy Policy</a></h1> 
        <p class="svelte-xagkxi">This application requires a Spotify Premium account</p>`,Nt(i.src,o=_o)||S(i,"src",o),S(i,"alt",""),S(i,"class","svelte-xagkxi"),S(e,"class","mainAction svelte-xagkxi"),S(r,"class","svelte-xagkxi")},m(c,d){L(c,e,d),x(e,n),x(e,i),L(c,s,d),L(c,r,d),a||(l=fe(e,"click",t[1]),a=!0)},p:H,d(c){c&&R(e),c&&R(s),c&&R(r),a=!1,l()}}}function Cn(t){let e,n,i,o,s;return{c(){e=A("h1"),e.textContent="Please wait...",n=P(),i=A("button"),i.textContent="Retry",S(e,"class","mainAction svelte-xagkxi"),S(i,"class","mainAction svelte-xagkxi")},m(r,a){L(r,e,a),L(r,n,a),L(r,i,a),o||(s=fe(i,"click",t[1]),o=!0)},p:H,d(r){r&&R(e),r&&R(n),r&&R(i),o=!1,s()}}}function bo(t){let e,n,i=t[0]=="bad"&&$n(t),o=t[0]=="waiting"&&Cn(t);return{c(){e=A("div"),i&&i.c(),n=P(),o&&o.c(),S(e,"class","container svelte-xagkxi")},m(s,r){L(s,e,r),i&&i.m(e,null),x(e,n),o&&o.m(e,null)},p(s,r){s[0]=="bad"?i?i.p(s,r):(i=$n(s),i.c(),i.m(e,n)):i&&(i.d(1),i=null),s[0]=="waiting"?o?o.p(s,r):(o=Cn(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(s){s&&R(e),i&&i.d(),o&&o.d()}}}function yo(t){let e,n;return e=new ti({props:{$$slots:{default:[bo]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},m(i,o){te(e,i,o),n=!0},p(i,[o]){const s={};o&5&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function vo(t,e,n){let{authState:i}=e;function o(){Tt.redirectToAuthCodeFlow("c32a475ce586434d9c6436b5fa71de71")}return t.$$set=s=>{"authState"in s&&n(0,i=s.authState)},[i,o]}class ko extends ye{constructor(e){super(),be(this,e,vo,yo,de,{authState:0})}}function So(t){let e,n,i,o,s,r,a,l;return{c(){e=A("div"),n=A("button"),n.textContent="Enter the app",i=P(),o=A("p"),o.textContent="Clicking this button you will transfer your Spotify playback session to this app. You can select new music from your other client",s=P(),r=A("p"),r.textContent="For playback to work, you need to interact with this page before audio can start playing",S(n,"class","mainAction svelte-rtxgsv"),S(e,"class","container svelte-rtxgsv")},m(c,d){L(c,e,d),x(e,n),x(e,i),x(e,o),x(e,s),x(e,r),a||(l=fe(n,"click",t[0]),a=!0)},p:H,d(c){c&&R(e),a=!1,l()}}}function Eo(t){let e,n;return e=new ti({props:{$$slots:{default:[So]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},m(i,o){te(e,i,o),n=!0},p(i,[o]){const s={};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function xo(t){return[async()=>{j.activateElement(),await po(ei),se(window.navigator.userAgent).device.type=="mobile"&&document.body.requestFullscreen({navigationUI:"hide"}),Xn.set(!0)}]}class Ao extends ye{constructor(e){super(),be(this,e,xo,Eo,de,{})}}function To(t=8){const e=new Uint8Array(t/2);return crypto.getRandomValues(e),Array.from(e,n=>("0"+n.toString(16)).slice(-2)).join("")}localStorage.getItem("userSocketHash")===null&&localStorage.setItem("userSocketHash",JSON.stringify(To()));const $o=JSON.parse(localStorage.getItem("userSocketHash"));let Co=new WebSocket(`wss://amused-consideration-production.up.railway.app/ws/webclient/${$o}`),ni=Fe(Co);function Oo(t){let e,n,i,o,s,r,a,l,c,d,u,f;return{c(){e=A("div"),n=A("div"),i=A("h1"),i.textContent="Getting started",o=P(),s=A("div"),r=A("p"),r.textContent="> wget https://cloud-catcher.squiddev.cc/cloud.lua",a=P(),l=A("p"),l.textContent=`> spotify.lua ${t[0]}`,c=P(),d=A("div"),d.innerHTML='<p class="svelte-1emd8dp">For more information, as well as source code and screenshots, see the <a href="https://github.com/SquidDev-CC/cloud-catcher" class="svelte-1emd8dp">GitHub repository</a>.</p>',u=P(),f=A("div"),f.innerHTML=`<h2 class="svelte-1emd8dp">Getting started</h2> 
    <p class="svelte-1emd8dp">You will require:</p> 
    <ul class="svelte-1emd8dp"><li class="svelte-1emd8dp">An internet connection</li> 
      <li class="svelte-1emd8dp"><a href="https://tweaked.cc" class="svelte-1emd8dp">CC: Tweaked</a></li></ul> 
    <p class="svelte-1emd8dp">Then just follow the instructions at the top!</p>`,S(i,"class","svelte-1emd8dp"),S(r,"class","svelte-1emd8dp"),S(l,"class","svelte-1emd8dp"),S(s,"class","code-block svelte-1emd8dp"),S(n,"class","getting-started svelte-1emd8dp"),S(d,"class","content"),S(f,"class","getting-started svelte-1emd8dp"),S(e,"class","container svelte-1emd8dp")},m(h,p){L(h,e,p),x(e,n),x(n,i),x(n,o),x(n,s),x(s,r),x(s,a),x(s,l),x(e,c),x(e,d),x(e,u),x(e,f)},p:H,i:H,o:H,d(h){h&&R(e)}}}function Io(t){return[JSON.parse(localStorage.getItem("userSocketHash"))]}class Ro extends ye{constructor(e){super(),be(this,e,Io,Oo,de,{})}}function On(t){let e,n;return e=new ko({props:{authState:t[0]}}),{c(){ie(e.$$.fragment)},m(i,o){te(e,i,o),n=!0},p(i,o){const s={};o&1&&(s.authState=i[0]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function In(t){let e,n;return e=new Ao({}),{c(){ie(e.$$.fragment)},m(i,o){te(e,i,o),n=!0},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Lo(t){let e,n,i,o,s,r,a,l,c,d,u,f,h,p,v,E,k,I,T,D,U,K,b,C,B,pe,O,V,$,ae,tt,J=t[6]&&Rn(t);return{c(){e=A("div"),n=A("img"),o=P(),s=A("div"),r=A("div"),a=A("span"),a.textContent="album",l=P(),c=A("a"),d=_e(t[4]),u=P(),J&&J.c(),f=P(),h=A("div"),p=A("div"),v=_e(t[2]),E=P(),k=A("div"),I=_e(t[14]),T=P(),D=A("div"),U=A("button"),K=A("span"),K.textContent="skip_previous",C=P(),B=A("button"),B.innerHTML='<span class="material-symbols-rounded svelte-18wo5m5">play_circle</span>',pe=P(),O=A("button"),V=A("span"),V.textContent="skip_next",Nt(n.src,i=t[3])||S(n,"src",i),S(n,"alt",""),S(n,"class","albumArt svelte-18wo5m5"),Re(n,"border-radius",t[10]),S(a,"class","material-symbols-rounded"),S(c,"href",t[5]),S(c,"class","clickable svelte-18wo5m5"),S(c,"target","_blank"),S(r,"class","infoText svelte-18wo5m5"),S(s,"class","albumInfo svelte-18wo5m5"),S(e,"class","albumContainer svelte-18wo5m5"),S(p,"class","title svelte-18wo5m5"),S(k,"class","artist svelte-18wo5m5"),S(h,"class","trackInfo svelte-18wo5m5"),S(K,"class","material-symbols-rounded svelte-18wo5m5"),S(U,"class","side svelte-18wo5m5"),U.disabled=b=t[9].skipping_prev,S(B,"class","play svelte-18wo5m5"),B.disabled=!0,S(V,"class","material-symbols-rounded svelte-18wo5m5"),S(O,"class","side svelte-18wo5m5"),O.disabled=$=t[9].skipping_next,S(D,"class","controls svelte-18wo5m5")},m(q,G){L(q,e,G),x(e,n),x(e,o),x(e,s),x(s,r),x(r,a),x(r,l),x(r,c),x(c,d),x(s,u),J&&J.m(s,null),L(q,f,G),L(q,h,G),x(h,p),x(p,v),x(h,E),x(h,k),x(k,I),L(q,T,G),L(q,D,G),x(D,U),x(U,K),x(D,C),x(D,B),x(D,pe),x(D,O),x(O,V),ae||(tt=[fe(U,"click",t[16]),fe(O,"click",t[17])],ae=!0)},p(q,G){G&8&&!Nt(n.src,i=q[3])&&S(n,"src",i),G&1024&&Re(n,"border-radius",q[10]),G&16&&Xe(d,q[4]),G&32&&S(c,"href",q[5]),q[6]?J?J.p(q,G):(J=Rn(q),J.c(),J.m(s,null)):J&&(J.d(1),J=null),G&4&&Xe(v,q[2]),G&16384&&Xe(I,q[14]),G&512&&b!==(b=q[9].skipping_prev)&&(U.disabled=b),G&512&&$!==($=q[9].skipping_next)&&(O.disabled=$)},i:H,o:H,d(q){q&&R(e),J&&J.d(),q&&R(f),q&&R(h),q&&R(T),q&&R(D),ae=!1,re(tt)}}}function Mo(t){let e,n;return e=new Ro({}),{c(){ie(e.$$.fragment)},m(i,o){te(e,i,o),n=!0},p:H,i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Rn(t){let e,n,i,o,s;return{c(){e=A("div"),n=A("span"),i=_e(t[7]),o=P(),s=_e(t[6]),S(n,"class","material-symbols-rounded"),S(e,"class","infoText svelte-18wo5m5")},m(r,a){L(r,e,a),x(e,n),x(n,i),x(e,o),x(e,s)},p(r,a){a&128&&Xe(i,r[7]),a&64&&Xe(s,r[6])},d(r){r&&R(e)}}}function Po(t){let e,n,i,o,s,r,a,l,c,d,u,f,h,p,v,E,k=(t[0]=="bad"||t[0]=="waiting")&&On(t),I=No,T=!t[12]&&t[0]=="good"&&In();s=new ro({});const D=[Mo,Lo],U=[];function K(b,C){return b[11]?1:0}return p=K(t),v=U[p]=D[p](t),{c(){k&&k.c(),e=P(),n=P(),T&&T.c(),i=P(),o=P(),ie(s.$$.fragment),r=P(),a=A("div"),a.innerHTML=`<h1>This aspect ratio is not yet supported</h1> 
    <h3>Please resize the application window</h3>`,l=P(),c=A("div"),d=P(),u=A("div"),f=P(),h=A("div"),v.c(),S(a,"class","unsupportedSizeNotice svelte-18wo5m5"),S(c,"class","progress svelte-18wo5m5"),Re(c,"width",t[13]+"vw"),S(u,"class","background svelte-18wo5m5"),Re(u,"background-image","url("+t[3]+")"),S(h,"class","playerContainer svelte-18wo5m5")},m(b,C){k&&k.m(b,C),L(b,e,C),L(b,n,C),T&&T.m(b,C),L(b,i,C),L(b,o,C),te(s,b,C),L(b,r,C),L(b,a,C),L(b,l,C),L(b,c,C),L(b,d,C),L(b,u,C),L(b,f,C),L(b,h,C),U[p].m(h,null),E=!0},p(b,[C]){b[0]=="bad"||b[0]=="waiting"?k?(k.p(b,C),C&1&&N(k,1)):(k=On(b),k.c(),N(k,1),k.m(e.parentNode,e)):k&&(Se(),F(k,1,1,()=>{k=null}),Ee()),!b[12]&&b[0]=="good"?T?C&4097&&N(T,1):(T=In(),T.c(),N(T,1),T.m(i.parentNode,i)):T&&(Se(),F(T,1,1,()=>{T=null}),Ee()),(!E||C&8192)&&Re(c,"width",b[13]+"vw"),(!E||C&8)&&Re(u,"background-image","url("+b[3]+")");let B=p;p=K(b),p===B?U[p].p(b,C):(Se(),F(U[B],1,1,()=>{U[B]=null}),Ee(),v=U[p],v?v.p(b,C):(v=U[p]=D[p](b),v.c()),N(v,1),v.m(h,null))},i(b){E||(N(k),N(I),N(T),N(s.$$.fragment,b),N(v),E=!0)},o(b){F(k),F(I),F(T),F(s.$$.fragment,b),F(v),E=!1},d(b){k&&k.d(b),b&&R(e),b&&R(n),T&&T.d(b),b&&R(i),b&&R(o),ne(s,b),b&&R(r),b&&R(a),b&&R(l),b&&R(c),b&&R(d),b&&R(u),b&&R(f),b&&R(h),U[p].d()}}}let No=!1;function Ho(t,e,n){let i,o,s;Me(t,ni,O=>n(22,i=O)),Me(t,Xn,O=>n(12,o=O));let r=i,a;localStorage.getItem("accessToken")?a="waiting":a="bad";let l={},c="",d="",u="",f="",h="#",p="",v="",E=!1;const k=Wn(0,{duration:1e3,easing:Ae});Me(t,k,O=>n(13,s=O));let I=1e5,T=0,D={pausing:!1,peeking_next:!1,peeking_prev:!1,resuming:!1,seeking:!1,skipping_next:!1,skipping_prev:!1},U;Jn.subscribe(O=>{O.roundedCorners?n(10,U="2ch"):n(10,U=0)}),setInterval(K,1e3);function K(){E&&(T=T+1e3,k.set(T*100/I))}function b(O){const V=l;if(n(1,l=O),j.pause().then(()=>{n(8,E=!1)}),O&&V!==null||V.track_window.current_track.id!==O.track_window.current_track.id){let $=O.track_window.current_track,ae={id:$.id,artist:$.artists[0].name,name:$.name,albumName:$.album.name,albumArt:O.track_window.current_track.album.images[ut(O.track_window.current_track.album.images)].url};try{r.send(JSON.stringify(ae))}catch(tt){console.log("Error sending data through websocket:",tt)}}n(2,c=O.track_window.current_track.name),n(14,d=O.track_window.current_track.artists.map($=>$.name).join(", ")),n(3,u=O.track_window.current_track.album.images[ut(O.track_window.current_track.album.images)].url),n(4,f=O.track_window.current_track.album.name),n(5,h=`https://open.spotify.com/album/${O.track_window.current_track.album.uri.slice(14)}`),n(6,p=""),n(7,v=""),O.context.uri.startsWith("spotify:playlist")&&(n(7,v="library_music"),n(6,p=O.context.metadata.context_description)),O.context.uri.startsWith("spotify:user")&&(n(7,v="favorite"),n(6,p="Liked Songs")),I=O.duration,T=O.position,O.shuffle,n(9,D=O.disallows)}let C=!1;return r.onmessage=function(O){let V=O.data;if(console.log("message sent from lua"+V),V==="nextSong")j.nextTrack().then(()=>{console.log("track has been skipped",error)}).catch($=>{console.error("Error skipping tracks",$)});else if(V==="prevSong")j.previousTrack().then(()=>{console.log("going to last track",error)}).catch($=>{console.error("Error going back",$)});else if(V==="luaConnected"){if(n(11,C=!0),JSON.stringify(l)!=="{}"){let $=l.track_window.current_track,ae={id:$.id,artist:$.artists[0].name,name:$.name,albumName:$.album.id,albumArt:l.track_window.current_track.album.images[ut(l.track_window.current_track.album.images)].url};r.send(JSON.stringify(ae))}}else if(V=="luaDisconnect"){console.log("caught lua disconnect"),n(11,C=!1);let $=l.track_window.current_track,ae={id:$.id,artist:$.artists[0].name,name:$.name,albumName:$.album.name,albumArt:l.track_window.current_track.album.images[ut(l.track_window.current_track.album.images)].url};localStorage.setItem("storedTrack",JSON.stringify(ae))}},window.onSpotifyWebPlaybackSDKReady=async function(){const O=new URLSearchParams(window.location.search).get("code");O&&(await Tt.newAccessToken("c32a475ce586434d9c6436b5fa71de71",O),window.history.replaceState({},document.title,window.location.origin+window.location.pathname),n(0,a="waiting"));let V=Zt();V==!1||V==null?(console.log("Access token not found"),n(0,a="bad")):(ho(),j.addListener("ready",({device_id:$})=>{console.log("Ready with Device ID",$),W.push(`Ready with Device ID ${$}`),n(0,a="good")}),j.addListener("not_ready",({device_id:$})=>{console.log("Device ID has gone offline",$),W.push(`Device ID has gone offline ${$}`)}),j.addListener("initialization_error",({message:$})=>{console.error($),W.push(`Spotify initialization error: ${$}`)}),j.addListener("authentication_error",({message:$})=>{console.error($),W.push(`Spotify authentication error: ${$}`),n(0,a="bad")}),j.addListener("account_error",({message:$})=>{console.error($),W.push(`Spotify account error: ${$}`),n(0,a="bad")}),j.connect().then($=>{if($){console.log("The Web Playback SDK successfully connected to Spotify!"),W.push("Successfully connected to Spotify");return}}),j.addListener("player_state_changed",$=>{b($)}))},[a,l,c,u,f,h,p,v,E,D,U,C,o,s,d,k,()=>{j.previousTrack(),j.pause().then(()=>{n(8,E=!1)})},()=>{j.nextTrack(),j.pause().then(()=>{n(8,E=!1)})}]}class Ln extends ye{constructor(e){super(),be(this,e,Ho,Po,de,{})}}function Do(t){let e,n,i,o;function s(l){t[1](l)}var r=Ln;function a(l){let c={};return l[0]!==void 0&&(c.socketConnection=l[0]),{props:c}}return r&&(e=ht(r,a(t)),bt.push(()=>on(e,"socketConnection",s))),{c(){e&&ie(e.$$.fragment),i=Jt()},m(l,c){e&&te(e,l,c),L(l,i,c),o=!0},p(l,[c]){const d={};if(!n&&c&1&&(n=!0,d.socketConnection=l[0],Si(()=>n=!1)),r!==(r=Ln)){if(e){Se();const u=e;F(u.$$.fragment,1,0,()=>{ne(u,1)}),Ee()}r?(e=ht(r,a(l)),bt.push(()=>on(e,"socketConnection",s)),ie(e.$$.fragment),N(e.$$.fragment,1),te(e,i.parentNode,i)):e=null}else r&&e.$set(d)},i(l){o||(e&&N(e.$$.fragment,l),o=!0)},o(l){e&&F(e.$$.fragment,l),o=!1},d(l){l&&R(i),e&&ne(e,l)}}}function Uo(t,e,n){let i;Me(t,ni,a=>n(3,i=a));let o=i;localStorage.getItem("luaSocketConnected")===null&&localStorage.setItem("luaSocketConnected",JSON.stringify(!1));let s=JSON.parse(localStorage.getItem("luaSocketConnected"));o.onmessage=function(a){let l=a.data;!s&&l=="luaConnected"&&(localStorage.setItem("luaSocketConnected",JSON.stringify(!0)),n(0,s=!0))};function r(a){s=a,n(0,s)}return[s,r]}class qo extends ye{constructor(e){super(),be(this,e,Uo,Do,de,{})}}new qo({target:document.getElementById("app")});
