(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function D(){}const Te=t=>t;function pt(t,e){for(const n in e)t[n]=e[n];return t}function Ln(t){return t()}function Qt(){return Object.create(null)}function se(t){t.forEach(Ln)}function tt(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let nt;function Mt(t,e){return nt||(nt=document.createElement("a")),nt.href=e,t===nt.href}function ti(t){return Object.keys(t).length===0}function Mn(t,...e){if(t==null)return D;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Pn(t){let e;return Mn(t,n=>e=n)(),e}function Xe(t,e,n){t.$$.on_destroy.push(Mn(e,n))}function ni(t,e,n,i){if(t){const r=Nn(t,e,n,i);return t[0](r)}}function Nn(t,e,n,i){return t[1]&&i?pt(n.ctx.slice(),t[1](i(e))):n.ctx}function ii(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let a=0;a<s;a+=1)o[a]=e.dirty[a]|r[a];return o}return e.dirty|r}return e.dirty}function ri(t,e,n,i,r,o){if(r){const s=Nn(e,n,i,o);t.p(s,r)}}function oi(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Zt(t){return t??""}function en(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Hn=typeof window<"u";let vt=Hn?()=>window.performance.now():()=>Date.now(),jt=Hn?t=>requestAnimationFrame(t):D;const Me=new Set;function Dn(t){Me.forEach(e=>{e.c(t)||(Me.delete(e),e.f())}),Me.size!==0&&jt(Dn)}function kt(t){let e;return Me.size===0&&jt(Dn),{promise:new Promise(n=>{Me.add(e={c:t,f:n})}),abort(){Me.delete(e)}}}function x(t,e){t.appendChild(e)}function Un(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function si(t){const e=A("style");return ai(Un(t),e),e.sheet}function ai(t,e){return x(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function A(t){return document.createElement(t)}function li(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _e(t){return document.createTextNode(t)}function P(){return _e(" ")}function Vt(){return _e("")}function fe(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ci(t){return Array.from(t.childNodes)}function Ye(t,e){e=""+e,t.data!==e&&(t.data=e)}function Re(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function it(t,e,n){t.classList[n?"add":"remove"](e)}function ui(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}class fi{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=li(n.nodeName):this.e=A(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)L(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(R)}}function mt(t,e){return new t(e)}const wt=new Map;let ht=0;function di(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function pi(t,e){const n={stylesheet:si(e),rules:{}};return wt.set(t,n),n}function Gt(t,e,n,i,r,o,s,a=0){const c=16.666/i;let l=`{
`;for(let E=0;E<=1;E+=c){const k=e+(n-e)*o(E);l+=E*100+`%{${s(k,1-k)}}
`}const d=l+`100% {${s(n,1-n)}}
}`,f=`__svelte_${di(d)}_${a}`,u=Un(t),{stylesheet:w,rules:m}=wt.get(u)||pi(u,t);m[f]||(m[f]=!0,w.insertRule(`@keyframes ${f} ${d}`,w.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${f} ${i}ms linear ${r}ms 1 both`,ht+=1,f}function gt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=n.length-i.length;r&&(t.style.animation=i.join(", "),ht-=r,ht||mi())}function mi(){jt(()=>{ht||(wt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&R(e)}),wt.clear())})}function wi(t,e,n,i){if(!e)return D;const r=t.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return D;const{delay:o=0,duration:s=300,easing:a=Te,start:c=vt()+o,end:l=c+s,tick:d=D,css:f}=n(t,{from:e,to:r},i);let u=!0,w=!1,m;function v(){f&&(m=Gt(t,0,1,s,o,a,f)),o||(w=!0)}function E(){f&&gt(t,m),u=!1}return kt(k=>{if(!w&&k>=c&&(w=!0),w&&k>=l&&(d(1,0),E()),!u)return!1;if(w){const C=k-c,$=0+1*a(C/s);d($,1-$)}return!0}),v(),d(0,1),E}function hi(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:i}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,qn(t,r)}}function qn(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),r=i.transform==="none"?"":i.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let Qe;function Ke(t){Qe=t}function zn(){if(!Qe)throw new Error("Function called outside component initialization");return Qe}function gi(t){zn().$$.on_mount.push(t)}function _i(t){zn().$$.on_destroy.push(t)}const Ie=[],tn=[];let Pe=[];const nn=[],bi=Promise.resolve();let Pt=!1;function yi(){Pt||(Pt=!0,bi.then(Fn))}function De(t){Pe.push(t)}const Tt=new Set;let Ae=0;function Fn(){if(Ae!==0)return;const t=Qe;do{try{for(;Ae<Ie.length;){const e=Ie[Ae];Ae++,Ke(e),vi(e.$$)}}catch(e){throw Ie.length=0,Ae=0,e}for(Ke(null),Ie.length=0,Ae=0;tn.length;)tn.pop()();for(let e=0;e<Pe.length;e+=1){const n=Pe[e];Tt.has(n)||(Tt.add(n),n())}Pe.length=0}while(Ie.length);for(;nn.length;)nn.pop()();Pt=!1,Tt.clear(),Ke(t)}function vi(t){if(t.fragment!==null){t.update(),se(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(De)}}function ki(t){const e=[],n=[];Pe.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Pe=e}let Be;function Bn(){return Be||(Be=Promise.resolve(),Be.then(()=>{Be=null})),Be}function _t(t,e,n){t.dispatchEvent(ui(`${e?"intro":"outro"}${n}`))}const ut=new Set;let we;function Se(){we={r:0,c:[],p:we}}function Ee(){we.r||se(we.c),we=we.p}function H(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function z(t,e,n,i){if(t&&t.o){if(ut.has(t))return;ut.add(t),we.c.push(()=>{ut.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const jn={duration:0};function Si(t,e,n){const i={direction:"in"};let r=e(t,n,i),o=!1,s,a,c=0;function l(){s&&gt(t,s)}function d(){const{delay:u=0,duration:w=300,easing:m=Te,tick:v=D,css:E}=r||jn;E&&(s=Gt(t,0,1,w,u,m,E,c++)),v(0,1);const k=vt()+u,C=k+w;a&&a.abort(),o=!0,De(()=>_t(t,!0,"start")),a=kt($=>{if(o){if($>=C)return v(1,0),_t(t,!0,"end"),l(),o=!1;if($>=k){const N=m(($-k)/w);v(N,1-N)}}return o})}let f=!1;return{start(){f||(f=!0,gt(t),tt(r)?(r=r(i),Bn().then(d)):d())},invalidate(){f=!1},end(){o&&(l(),o=!1)}}}function Ei(t,e,n){const i={direction:"out"};let r=e(t,n,i),o=!0,s;const a=we;a.r+=1;function c(){const{delay:l=0,duration:d=300,easing:f=Te,tick:u=D,css:w}=r||jn;w&&(s=Gt(t,1,0,d,l,f,w));const m=vt()+l,v=m+d;De(()=>_t(t,!1,"start")),kt(E=>{if(o){if(E>=v)return u(0,1),_t(t,!1,"end"),--a.r||se(a.c),!1;if(E>=m){const k=f((E-m)/d);u(1-k,k)}}return o})}return tt(r)?Bn().then(()=>{r=r(i),c()}):c(),{end(l){l&&r.tick&&r.tick(1,0),o&&(s&&gt(t,s),o=!1)}}}function xi(t,e){z(t,1,1,()=>{e.delete(t.key)})}function Ti(t,e){t.f(),xi(t,e)}function Ai(t,e,n,i,r,o,s,a,c,l,d,f){let u=t.length,w=o.length,m=u;const v={};for(;m--;)v[t[m].key]=m;const E=[],k=new Map,C=new Map,$=[];for(m=w;m--;){const b=f(r,o,m),O=n(b);let j=s.get(O);j?i&&$.push(()=>j.p(b,e)):(j=l(O,b),j.c()),k.set(O,E[m]=j),O in v&&C.set(O,Math.abs(m-v[O]))}const N=new Set,F=new Set;function G(b){H(b,1),b.m(a,d),s.set(b.key,b),d=b.first,w--}for(;u&&w;){const b=E[w-1],O=t[u-1],j=b.key,pe=O.key;b===O?(d=b.first,u--,w--):k.has(pe)?!s.has(j)||N.has(j)?G(b):F.has(pe)?u--:C.get(j)>C.get(pe)?(F.add(j),G(b)):(N.add(pe),u--):(c(O,s),u--)}for(;u--;){const b=t[u];k.has(b.key)||c(b,s)}for(;w;)G(E[w-1]);return se($),E}function $i(t,e){const n={},i={},r={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const c in s)c in a||(i[c]=1);for(const c in a)r[c]||(n[c]=a[c],r[c]=1);t[o]=a}else for(const c in s)r[c]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Ci(t){return typeof t=="object"&&t!==null?t:{}}function ie(t){t&&t.c()}function te(t,e,n,i){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),i||De(()=>{const s=t.$$.on_mount.map(Ln).filter(tt);t.$$.on_destroy?t.$$.on_destroy.push(...s):se(s),t.$$.on_mount=[]}),o.forEach(De)}function ne(t,e){const n=t.$$;n.fragment!==null&&(ki(n.after_update),se(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Oi(t,e){t.$$.dirty[0]===-1&&(Ie.push(t),yi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,i,r,o,s,a=[-1]){const c=Qe;Ke(t);const l=t.$$={fragment:null,ctx:[],props:o,update:D,not_equal:r,bound:Qt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Qt(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(l.root);let d=!1;if(l.ctx=n?n(t,e.props||{},(f,u,...w)=>{const m=w.length?w[0]:u;return l.ctx&&r(l.ctx[f],l.ctx[f]=m)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](m),d&&Oi(t,f)),u}):[],l.update(),d=!0,se(l.before_update),l.fragment=i?i(l.ctx):!1,e.target){if(e.hydrate){const f=ci(e.target);l.fragment&&l.fragment.l(f),f.forEach(R)}else l.fragment&&l.fragment.c();e.intro&&H(t.$$.fragment),te(t,e.target,e.anchor,e.customElement),Fn()}Ke(c)}class ye{$destroy(){ne(this,1),this.$destroy=D}$on(e,n){if(!tt(n))return D;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!ti(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $e=[];function Ii(t,e){return{subscribe:ze(t,e).subscribe}}function ze(t,e=D){let n;const i=new Set;function r(a){if(de(t,a)&&(t=a,n)){const c=!$e.length;for(const l of i)l[1](),$e.push(l,t);if(c){for(let l=0;l<$e.length;l+=2)$e[l][0]($e[l+1]);$e.length=0}}}function o(a){r(a(t))}function s(a,c=D){const l=[a,c];return i.add(l),i.size===1&&(n=e(r)||D),a(t),()=>{i.delete(l),i.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:s}}function Vn(t){const e=t-1;return e*e*e+1}function rn(t){return Object.prototype.toString.call(t)==="[object Date]"}function Nt(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((r,o)=>Nt(t[o],r));return r=>i.map(o=>o(r))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(rn(t)&&rn(e)){t=t.getTime(),e=e.getTime();const o=e-t;return s=>new Date(t+s*o)}const i=Object.keys(e),r={};return i.forEach(o=>{r[o]=Nt(t[o],e[o])}),o=>{const s={};return i.forEach(a=>{s[a]=r[a](o)}),s}}if(n==="number"){const i=e-t;return r=>t+r*i}throw new Error(`Cannot interpolate ${n} values`)}function Gn(t,e={}){const n=ze(t);let i,r=t;function o(s,a){if(t==null)return n.set(t=s),Promise.resolve();r=s;let c=i,l=!1,{delay:d=0,duration:f=400,easing:u=Te,interpolate:w=Nt}=pt(pt({},e),a);if(f===0)return c&&(c.abort(),c=null),n.set(t=r),Promise.resolve();const m=vt()+d;let v;return i=kt(E=>{if(E<m)return!0;l||(v=w(t,s),typeof f=="function"&&(f=f(t,s)),l=!0),c&&(c.abort(),c=null);const k=E-m;return k>f?(n.set(t=s),!1):(n.set(t=v(u(k/f))),!0)}),i.promise}return{set:o,update:(s,a)=>o(s(r,t),a),subscribe:n.subscribe}}var At={};function on(t){return t==="local"?localStorage:sessionStorage}function Ri(t,e,n){const i=(n==null?void 0:n.serializer)??JSON,r=(n==null?void 0:n.storage)??"local",o=typeof window<"u"&&typeof document<"u";function s(a,c){o&&on(r).setItem(a,i.stringify(c))}if(!At[t]){const a=ze(e,d=>{const f=o?on(r).getItem(t):null;if(f&&d(i.parse(f)),o){const u=w=>{w.key===t&&d(w.newValue?i.parse(w.newValue):null)};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)}}),{subscribe:c,set:l}=a;At[t]={set(d){s(t,d),l(d)},update(d){const f=d(Pn(a));s(t,f),l(f)},subscribe:c}}return At[t]}let Wn=Ri("settings",{roundedCorners:!1,volume:1,debugSettings:!1}),Jn=ze(!1);var Li="2.0.0-beta.3",Ue="",sn="?",Ht="function",he="undefined",qe="object",Dt="string",Ze="major",_="model",p="name",g="type",y="vendor",h="version",Y="architecture",Le="console",M="mobile",q="tablet",Q="smarttv",ft="wearable",an="xr",Ut="embedded",ln="user-agent",qt=500,Wt="brands",ke="formFactors",Jt="fullVersionList",Ne="platform",Xt="platformVersion",St="bitness",ve="sec-ch-ua",Mi=ve+"-full-version-list",Pi=ve+"-arch",Ni=ve+"-"+St,Hi=ve+"-form-factors",Di=ve+"-"+M,Ui=ve+"-"+_,Xn=ve+"-"+Ne,qi=Xn+"-version",Yn=[Wt,Jt,M,_,Ne,Xt,Y,ke,St],Z="browser",le="cpu",re="device",ce="engine",ee="os",He="result",rt="Amazon",je="Apple",cn="ASUS",un="BlackBerry",ot="Google",fn="Huawei",dn="Lenovo",$t="LG",dt="Microsoft",pn="Motorola",st="Samsung",mn="Sharp",at="Sony",Ct="Xiaomi",Ot="Zebra",Ce="Mobile ",Oe=" Browser",lt="Chrome",zi="Edge",Ve="Firefox",Ge="Opera",wn="Facebook",hn="Sogou",zt="Windows",Fi=typeof window!==he,K=Fi&&window.navigator?window.navigator:void 0,me=K&&K.userAgentData?K.userAgentData:void 0,Bi=function(t,e){var n={},i=e;if(!bt(e)){i={};for(var r in e)for(var o in e[r])i[o]=e[r][o].concat(i[o]?i[o]:[])}for(var s in t)n[s]=i[s]&&i[s].length%2===0?i[s].concat(t[s]):t[s];return n},Et=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},Ft=function(t,e){if(typeof t===qe&&t.length>0){for(var n in t)if(ge(t[n])==ge(e))return!0;return!1}return Fe(t)?ge(e).indexOf(ge(t))!==-1:!1},bt=function(t,e){for(var n in t)return/^(browser|cpu|device|engine|os)$/.test(n)||(e?bt(t[n]):!1)},Fe=function(t){return typeof t===Dt},It=function(t){if(t){for(var e=[],n=xe(/\\?\"/g,t).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var r=et(n[i]).split(";v=");e[i]={brand:r[0],version:r[1]}}else e[i]=et(n[i]);return e}},ge=function(t){return Fe(t)?t.toLowerCase():t},Rt=function(t){return Fe(t)?xe(/[^\d\.]/g,t).split(".")[0]:void 0},ue=function(t){for(var e in t){var n=t[e];typeof n==qe&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},xe=function(t,e){return Fe(e)?e.replace(t,Ue):e},We=function(t){return xe(/\\?\"/g,t)},et=function(t,e){if(Fe(t))return t=xe(/^\s\s*/,t),typeof e===he?t:t.substring(0,qt)},gn=function(t,e){if(!(!t||!e))for(var n=0,i,r,o,s,a,c;n<e.length&&!a;){var l=e[n],d=e[n+1];for(i=r=0;i<l.length&&!a&&l[i];)if(a=l[i++].exec(t),a)for(o=0;o<d.length;o++)c=a[++r],s=d[o],typeof s===qe&&s.length>0?s.length===2?typeof s[1]==Ht?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:s.length===3?typeof s[1]===Ht&&!(s[1].exec&&s[1].test)?this[s[0]]=c?s[1].call(this,c,s[2]):void 0:this[s[0]]=c?c.replace(s[1],s[2]):void 0:s.length===4&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):void 0):this[s]=c||void 0;n+=2}},yt=function(t,e){for(var n in e)if(typeof e[n]===qe&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(Ft(e[n][i],t))return n===sn?void 0:n}else if(Ft(e[n],t))return n===sn?void 0:n;return e.hasOwnProperty("*")?e["*"]:t},_n={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},bn={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},yn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[p,Ce+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,h],[/opios[\/ ]+([\w\.]+)/i],[h,[p,Ge+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[h,[p,Ge+" GX"]],[/\bopr\/([\w\.]+)/i],[h,[p,Ge]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[h,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,h],[/\bddg\/([\w\.]+)/i],[h,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[p,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[h,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[h,[p,"Smart "+dn+Oe]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure"+Oe],h],[/\bfocus\/([\w\.]+)/i],[h,[p,Ve+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[p,Ge+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[p,Ge+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[p,"MIUI"+Oe]],[/fxios\/([\w\.-]+)/i],[h,[p,Ce+Ve]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360"+Oe]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],h],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Oe],h],[/samsungbrowser\/([\w\.]+)/i],[h,[p,st+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],h],[/metasr[\/ ]?([\d\.]+)/i],[h,[p,hn+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,hn+" Mobile"],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,h],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,wn],h],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[p,lt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,lt+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[p,"Android"+Oe]],[/chrome\/([\w\.]+) mobile/i],[h,[p,Ce+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,h],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[h,[p,Ce+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[p,Ce+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[h,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[h,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[p,h],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[p,Ce+Ve],h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],h],[/(wolvic)\/([\w\.]+)/i],[p,h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[p,Ve+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[h,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[h,/[^\d\.]+./,Ue]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[Y,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[Y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Y,/ower/,Ue,ge]],[/(sun4\w)[;\)]/i],[[Y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Y,ge]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[y,st],[g,q]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[_,[y,st],[g,M]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[_,[y,je],[g,M]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[y,je],[g,q]],[/(macintosh);/i],[_,[y,je]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[y,mn],[g,M]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[y,fn],[g,q]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[y,fn],[g,M]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[_,/_/g," "],[y,Ct],[g,M]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[y,Ct],[g,q]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[y,"OPPO"],[g,M]],[/\b(opd2\d{3}a?) bui/i],[_,[y,"OPPO"],[g,q]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[y,"Vivo"],[g,M]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[_,[y,"Realme"],[g,M]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[y,pn],[g,M]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[y,pn],[g,q]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[y,$t],[g,q]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[y,$t],[g,M]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[y,dn],[g,q]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[y,"Nokia"],[g,M]],[/(pixel c)\b/i],[_,[y,ot],[g,q]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[y,ot],[g,M]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[y,at],[g,M]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[y,at],[g,q]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[y,"OnePlus"],[g,M]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[y,rt],[g,q]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[y,rt],[g,M]],[/(playbook);[-\w\),; ]+(rim)/i],[_,y,[g,q]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[y,un],[g,M]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[y,cn],[g,q]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[y,cn],[g,M]],[/(nexus 9)/i],[_,[y,"HTC"],[g,q]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[_,/_/g," "],[g,M]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[y,"Acer"],[g,q]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[y,"Meizu"],[g,M]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[_,[y,"Ulefone"],[g,M]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,_,[g,M]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[y,_,[g,q]],[/(surface duo)/i],[_,[y,dt],[g,q]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[y,"Fairphone"],[g,M]],[/(shield[\w ]+) b/i],[_,[y,"Nvidia"],[g,q]],[/(sprint) (\w+)/i],[y,_,[g,M]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[y,dt],[g,M]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[y,Ot],[g,q]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[y,Ot],[g,M]],[/smart-tv.+(samsung)/i],[y,[g,Q]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[y,st],[g,Q]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,$t],[g,Q]],[/(apple) ?tv/i],[y,[_,je+" TV"],[g,Q]],[/crkey/i],[[_,lt+"cast"],[y,ot],[g,Q]],[/droid.+aft(\w+)( bui|\))/i],[_,[y,rt],[g,Q]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[y,mn],[g,Q]],[/(bravia[\w ]+)( bui|\))/i],[_,[y,at],[g,Q]],[/(mitv-\w{5}) bui/i],[_,[y,Ct],[g,Q]],[/Hbbtv.*(technisat) (.*);/i],[y,_,[g,Q]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,et],[_,et],[g,Q]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,Q]],[/(ouya)/i,/(nintendo) (\w+)/i],[y,_,[g,Le]],[/droid.+; (shield) bui/i],[_,[y,"Nvidia"],[g,Le]],[/(playstation \w+)/i],[_,[y,at],[g,Le]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[y,dt],[g,Le]],[/((pebble))app/i],[y,_,[g,ft]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[_,[y,je],[g,ft]],[/droid.+; (wt63?0{2,3})\)/i],[_,[y,Ot],[g,ft]],[/droid.+; (glass) \d/i],[_,[y,ot],[g,an]],[/(quest( \d| pro)?)/i],[_,[y,wn],[g,an]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[g,Ut]],[/(aeobc)\b/i],[_,[y,rt],[g,Ut]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[_,[g,M]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[g,q]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,q]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,M]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[p,zi+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,h],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[h,yt,_n]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,yt,_n],[p,zt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"macOS"],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,h],[/\(bb(10);/i],[h,[p,un]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[p,Ve+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[p,lt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,"Chrome OS"],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,h],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,h]]},ct=function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return ue.call(t.init,[[Z,[p,h,Ze,g]],[le,[Y]],[re,[g,_,y]],[ce,[p,h]],[ee,[p,h]]]),ue.call(t.isIgnore,[[Z,[h,Ze]],[ce,[h]],[ee,[h]]]),ue.call(t.isIgnoreRgx,[[Z,/ ?browser$/i],[ee,/ ?os$/i]]),ue.call(t.toString,[[Z,[p,h]],[le,[Y]],[re,[y,_]],[ce,[p,h]],[ee,[p,h]]]),t}(),ji=function(t,e){var n=ct.init[e],i=ct.isIgnore[e]||0,r=ct.isIgnoreRgx[e]||0,o=ct.toString[e]||0;function s(){ue.call(this,n)}return s.prototype.getItem=function(){return t},s.prototype.withClientHints=function(){return me?me.getHighEntropyValues(Yn).then(function(a){return t.setCH(new Kn(a,!1)).parseCH().get()}):t.parseCH().get()},s.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=He&&(s.prototype.is=function(a){var c=!1;for(var l in this)if(this.hasOwnProperty(l)&&!Ft(i,l)&&ge(r?xe(r,this[l]):this[l])==ge(r?xe(r,a):a)){if(c=!0,a!=he)break}else if(a==he&&c){c=!c;break}return c},s.prototype.toString=function(){var a=Ue;for(var c in o)typeof this[o[c]]!==he&&(a+=(a?" ":Ue)+this[o[c]]);return a||he}),me||(s.prototype.then=function(a){var c=this,l=function(){for(var f in c)c.hasOwnProperty(f)&&(this[f]=c[f])};l.prototype={is:s.prototype.is,toString:s.prototype.toString};var d=new l;return a(d),d}),new s};function Kn(t,e){if(t=t||{},ue.call(this,Yn),e)ue.call(this,[[Wt,It(t[ve])],[Jt,It(t[Mi])],[M,/\?1/.test(t[Di])],[_,We(t[Ui])],[Ne,We(t[Xn])],[Xt,We(t[qi])],[Y,We(t[Pi])],[ke,It(t[Hi])],[St,We(t[Ni])]]);else for(var n in t)this.hasOwnProperty(n)&&typeof t[n]!==he&&(this[n]=t[n])}function vn(t,e,n,i){return this.get=function(r){return r?this.data.hasOwnProperty(r)?this.data[r]:void 0:this.data},this.set=function(r,o){return this.data[r]=o,this},this.setCH=function(r){return this.uaCH=r,this},this.detectFeature=function(){if(K&&K.userAgent==this.ua)switch(this.itemType){case Z:K.brave&&typeof K.brave.isBrave==Ht&&this.set(p,"Brave");break;case re:!this.get(g)&&me&&me[M]&&this.set(g,M),this.get(_)=="Macintosh"&&K&&typeof K.standalone!==he&&K.maxTouchPoints&&K.maxTouchPoints>2&&this.set(_,"iPad").set(g,q);break;case ee:!this.get(p)&&me&&me[Ne]&&this.set(p,me[Ne]);break;case He:var r=this.data,o=function(s){return r[s].getItem().detectFeature().get()};this.set(Z,o(Z)).set(le,o(le)).set(re,o(re)).set(ce,o(ce)).set(ee,o(ee))}return this},this.parseUA=function(){return this.itemType!=He&&gn.call(this.data,this.ua,this.rgxMap),this.itemType==Z&&this.set(Ze,Rt(this.get(h))),this},this.parseCH=function(){var r=this.uaCH,o=this.rgxMap;switch(this.itemType){case Z:var s=r[Jt]||r[Wt],a;if(s)for(var c in s){var l=xe(/(Google|Microsoft) /,s[c].brand||s[c]),d=s[c].version;!/not.a.brand/i.test(l)&&(!a||/chrom/i.test(a)&&!/chromi/i.test(l))&&(this.set(p,l).set(h,d).set(Ze,Rt(d)),a=l)}break;case le:var f=r[Y];f&&(f&&r[St]=="64"&&(f+="64"),gn.call(this.data,f+";",o));break;case re:if(r[M]&&this.set(g,M),r[_]&&this.set(_,r[_]),r[_]=="Xbox"&&this.set(g,Le).set(y,dt),r[ke]){var u;if(typeof r[ke]!="string")for(var w=0;!u&&w<r[ke].length;)u=yt(r[ke][w++],bn);else u=yt(r[ke],bn);this.set(g,u)}break;case ee:var m=r[Ne];if(m){var v=r[Xt];m==zt&&(v=parseInt(Rt(v),10)>=13?"11":"10"),this.set(p,m).set(h,v)}this.get(p)==zt&&r[_]=="Xbox"&&this.set(p,"Xbox").set(h,void 0);break;case He:var E=this.data,k=function(C){return E[C].getItem().setCH(r).parseCH().get()};this.set(Z,k(Z)).set(le,k(le)).set(re,k(re)).set(ce,k(ce)).set(ee,k(ee))}return this},ue.call(this,[["itemType",t],["ua",e],["uaCH",i],["rgxMap",n],["data",ji(this,t)]]),this}function oe(t,e,n){if(typeof t===qe?(bt(t,!0)?(typeof e===qe&&(n=e),e=t):(n=t,e=void 0),t=void 0):typeof t===Dt&&!bt(e,!0)&&(n=e,e=void 0),!(this instanceof oe))return new oe(t,e,n).getResult();var i=typeof t===Dt?t:K&&K.userAgent?K.userAgent:n&&n[ln]?n[ln]:Ue,r=new Kn(n,!0),o=e?Bi(yn,e):yn,s=function(a){return a==He?function(){return new vn(a,i,o,r).set("ua",i).set(Z,this.getBrowser()).set(le,this.getCPU()).set(re,this.getDevice()).set(ce,this.getEngine()).set(ee,this.getOS()).get()}:function(){return new vn(a,i,o[a],r).parseUA().get()}};return ue.call(this,[["getBrowser",s(Z)],["getCPU",s(le)],["getDevice",s(re)],["getEngine",s(ce)],["getOS",s(ee)],["getResult",s(He)],["getUA",function(){return i}],["setUA",function(a){return Fe(a)&&(i=a.length>qt?et(a,qt):a),this}]]).setUA(i),this}oe.VERSION=Li;oe.BROWSER=Et([p,h,Ze,g]);oe.CPU=Et([Y]);oe.DEVICE=Et([_,y,g,Le,M,Q,q,ft,Ut]);oe.ENGINE=oe.OS=Et([p,h]);function Vi(t,{delay:e=0,duration:n=400,easing:i=Te}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:o=>`opacity: ${o*r}`}}function Gi(t,{delay:e=0,duration:n=400,easing:i=Vn,x:r=0,y:o=0,opacity:s=0}={}){const a=getComputedStyle(t),c=+a.opacity,l=a.transform==="none"?"":a.transform,d=c*(1-s),[f,u]=en(r),[w,m]=en(o);return{delay:e,duration:n,easing:i,css:(v,E)=>`
			transform: ${l} translate(${(1-v)*f}${u}, ${(1-v)*w}${m});
			opacity: ${c-d*E}`}}function Wi(t,{from:e,to:n},i={}){const r=getComputedStyle(t),o=r.transform==="none"?"":r.transform,[s,a]=r.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*s/n.width-(n.left+s),l=e.top+e.height*a/n.height-(n.top+a),{delay:d=0,duration:f=w=>Math.sqrt(w)*120,easing:u=Vn}=i;return{delay:d,duration:tt(f)?f(Math.sqrt(c*c+l*l)):f,easing:u,css:(w,m)=>{const v=m*c,E=m*l,k=w+m*e.width/n.width,C=w+m*e.height/n.height;return`transform: ${o} translate(${v}px, ${E}px) scale(${k}, ${C});`}}}const Ji={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function Xi(){const{subscribe:t,update:e}=ze(new Array),n={};let i=0;function r(l){return l instanceof Object}function o(l="default",d={}){return n[l]=d,n}function s(l,d){const f={target:"default",...r(l)?l:{...d,msg:l}},u=n[f.target]||{},w={...Ji,...u,...f,theme:{...u.theme,...f.theme},classes:[...u.classes||[],...f.classes||[]],id:++i};return e(m=>w.reversed?[...m,w]:[w,...m]),i}function a(l){e(d=>{if(!d.length||l===0)return[];if(typeof l=="function")return d.filter(u=>l(u));if(r(l))return d.filter(u=>u.target!==l.target);const f=l||Math.max(...d.map(u=>u.id));return d.filter(u=>u.id!==f)})}function c(l,d){const f=r(l)?l:{...d,id:l};e(u=>{const w=u.findIndex(m=>m.id===f.id);return w>-1&&(u[w]={...u[w],...f}),u})}return{subscribe:t,push:s,pop:a,set:c,_init:o}}const J=Xi();function Yi(t){let e,n=t[0].msg+"",i;return{c(){e=new fi(!1),i=Vt(),e.a=i},m(r,o){e.m(n,r,o),L(r,i,o)},p(r,o){o&1&&n!==(n=r[0].msg+"")&&e.p(n)},i:D,o:D,d(r){r&&R(i),r&&e.d()}}}function Ki(t){let e,n,i;const r=[t[2]];var o=t[0].component.src;function s(a){let c={};for(let l=0;l<r.length;l+=1)c=pt(c,r[l]);return{props:c}}return o&&(e=mt(o,s())),{c(){e&&ie(e.$$.fragment),n=Vt()},m(a,c){e&&te(e,a,c),L(a,n,c),i=!0},p(a,c){const l=c&4?$i(r,[Ci(a[2])]):{};if(c&1&&o!==(o=a[0].component.src)){if(e){Se();const d=e;z(d.$$.fragment,1,0,()=>{ne(d,1)}),Ee()}o?(e=mt(o,s()),ie(e.$$.fragment),H(e.$$.fragment,1),te(e,n.parentNode,n)):e=null}else o&&e.$set(l)},i(a){i||(e&&H(e.$$.fragment,a),i=!0)},o(a){e&&z(e.$$.fragment,a),i=!1},d(a){a&&R(n),e&&ne(e,a)}}}function kn(t){let e,n,i;return{c(){e=A("div"),S(e,"class","_toastBtn pe svelte-95rq8t"),S(e,"role","button"),S(e,"tabindex","0")},m(r,o){L(r,e,o),n||(i=[fe(e,"click",t[4]),fe(e,"keydown",t[8])],n=!0)},p:D,d(r){r&&R(e),n=!1,se(i)}}}function Qi(t){let e,n,i,r,o,s,a,c,l,d;const f=[Ki,Yi],u=[];function w(v,E){return v[0].component?0:1}i=w(t),r=u[i]=f[i](t);let m=t[0].dismissable&&kn(t);return{c(){e=A("div"),n=A("div"),r.c(),o=P(),m&&m.c(),s=P(),a=A("progress"),S(n,"class","_toastMsg svelte-95rq8t"),it(n,"pe",t[0].component),S(a,"class","_toastBar svelte-95rq8t"),a.value=t[1],S(e,"role","status"),S(e,"class","_toastItem svelte-95rq8t"),it(e,"pe",t[0].pausable)},m(v,E){L(v,e,E),x(e,n),u[i].m(n,null),x(e,o),m&&m.m(e,null),x(e,s),x(e,a),c=!0,l||(d=[fe(e,"mouseenter",t[9]),fe(e,"mouseleave",t[6])],l=!0)},p(v,[E]){let k=i;i=w(v),i===k?u[i].p(v,E):(Se(),z(u[k],1,1,()=>{u[k]=null}),Ee(),r=u[i],r?r.p(v,E):(r=u[i]=f[i](v),r.c()),H(r,1),r.m(n,null)),(!c||E&1)&&it(n,"pe",v[0].component),v[0].dismissable?m?m.p(v,E):(m=kn(v),m.c(),m.m(e,s)):m&&(m.d(1),m=null),(!c||E&2)&&(a.value=v[1]),(!c||E&1)&&it(e,"pe",v[0].pausable)},i(v){c||(H(r),c=!0)},o(v){z(r),c=!1},d(v){v&&R(e),u[i].d(),m&&m.d(),l=!1,se(d)}}}function Lt(t,e="undefined"){return typeof t===e}function Zi(t,e,n){let i,{item:r}=e,o=r.initial,s=o,a=!1,c={},l;const d=Gn(r.initial,{duration:r.duration,easing:Te});Xe(t,d,C=>n(1,i=C));function f(){J.pop(r.id)}function u(){(i===1||i===0)&&f()}function w(){!a&&i!==o&&(d.set(i,{duration:0}),a=!0)}function m(){if(a){const C=r.duration,$=C-C*((i-s)/(o-s));d.set(o,{duration:$}).then(u),a=!1}}function v(C=document){if(Lt(C.hidden))return;const $=()=>C.hidden?w():m(),N="visibilitychange";C.addEventListener(N,$),l=()=>C.removeEventListener(N,$),$()}gi(v),_i(()=>{Lt(r.onpop,"function")&&r.onpop(r.id),l&&l()});const E=C=>{C instanceof KeyboardEvent&&["Enter"," "].includes(C.key)&&f()},k=()=>{r.pausable&&w()};return t.$$set=C=>{"item"in C&&n(0,r=C.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(Lt(r.progress)||n(0,r.next=r.progress,r)),t.$$.dirty&131&&o!==r.next&&(n(7,o=r.next),s=i,a=!1,d.set(o).then(u)),t.$$.dirty&1&&r.component){const{props:C={},sendIdTo:$}=r.component;n(2,c={...C,...$&&{[$]:r.id}})}},[r,i,c,d,f,w,m,o,E,k]}class er extends ye{constructor(e){super(),be(this,e,Zi,Qi,de,{item:0})}}function Sn(t,e,n){const i=t.slice();return i[4]=e[n],i}function En(t,e){let n,i,r,o,s,a,c,l,d=D,f;return i=new er({props:{item:e[4]}}),{key:t,first:null,c(){var u;n=A("li"),ie(i.$$.fragment),r=P(),S(n,"class",o=Zt((u=e[4].classes)==null?void 0:u.join(" "))+" svelte-1u812xz"),S(n,"style",s=xn(e[4].theme)),this.first=n},m(u,w){L(u,n,w),te(i,n,null),x(n,r),f=!0},p(u,w){var v;e=u;const m={};w&1&&(m.item=e[4]),i.$set(m),(!f||w&1&&o!==(o=Zt((v=e[4].classes)==null?void 0:v.join(" "))+" svelte-1u812xz"))&&S(n,"class",o),(!f||w&1&&s!==(s=xn(e[4].theme)))&&S(n,"style",s)},r(){l=n.getBoundingClientRect()},f(){hi(n),d(),qn(n,l)},a(){d(),d=wi(n,l,Wi,{duration:200})},i(u){f||(H(i.$$.fragment,u),De(()=>{f&&(c&&c.end(1),a=Si(n,Gi,e[4].intro),a.start())}),f=!0)},o(u){z(i.$$.fragment,u),a&&a.invalidate(),c=Ei(n,Vi,{}),f=!1},d(u){u&&R(n),ne(i),u&&c&&c.end()}}}function tr(t){let e,n=[],i=new Map,r,o=t[0];const s=a=>a[4].id;for(let a=0;a<o.length;a+=1){let c=Sn(t,o,a),l=s(c);i.set(l,n[a]=En(l,c))}return{c(){e=A("ul");for(let a=0;a<n.length;a+=1)n[a].c();S(e,"class","_toastContainer svelte-1u812xz")},m(a,c){L(a,e,c);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);r=!0},p(a,[c]){if(c&1){o=a[0],Se();for(let l=0;l<n.length;l+=1)n[l].r();n=Ai(n,c,s,1,a,o,i,e,Ti,En,null,Sn);for(let l=0;l<n.length;l+=1)n[l].a();Ee()}},i(a){if(!r){for(let c=0;c<o.length;c+=1)H(n[c]);r=!0}},o(a){for(let c=0;c<n.length;c+=1)z(n[c]);r=!1},d(a){a&&R(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function xn(t){return t?Object.keys(t).reduce((e,n)=>`${e}${n}:${t[n]};`,""):void 0}function nr(t,e,n){let i;Xe(t,J,a=>n(3,i=a));let{options:r={}}=e,{target:o="default"}=e,s=[];return t.$$set=a=>{"options"in a&&n(1,r=a.options),"target"in a&&n(2,o=a.target)},t.$$.update=()=>{t.$$.dirty&6&&J._init(o,r),t.$$.dirty&12&&n(0,s=i.filter(a=>a.target===o))},[s,r,o,i]}class ir extends ye{constructor(e){super(),be(this,e,nr,tr,de,{options:1,target:2})}}function Yt(t){if(localStorage.getItem("accessToken")==null||localStorage.getItem("refreshToken")==null)return!1;let e=localStorage.getItem("expiryTime"),n=localStorage.getItem("tokenGenerationTime");if(Date.now()-n>e*1e3){let r=new URLSearchParams;r.append("grant_type","refresh_token"),r.append("refresh_token",localStorage.getItem("refreshToken")),r.append("client_id","c32a475ce586434d9c6436b5fa71de71"),fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r}).then(o=>(o.ok||J.push("Error refreshing token"),o.json())).then(o=>{localStorage.setItem("expiryTime",o.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",o.access_token),localStorage.setItem("refreshToken",o.refresh_token),J.push("Regenerated access token")})}return localStorage.getItem("accessToken")}async function rr(t){const e=sr(128),n=await ar(e);localStorage.setItem("verifier",e),console.log(window.location.href.split(/[?#]/)[0]);const i=new URLSearchParams;i.append("client_id",t),i.append("response_type","code"),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("scope","user-read-playback-state user-modify-playback-state user-read-currently-playing streaming playlist-read-private playlist-read-collaborative user-library-modify user-library-read user-follow-read user-read-private user-read-email"),i.append("code_challenge_method","S256"),i.append("code_challenge",n),console.log(`https://accounts.spotify.com/authorize?${i.toString()}`),document.location=`https://accounts.spotify.com/authorize?${i.toString()}`}async function or(t,e){const n=localStorage.getItem("verifier"),i=new URLSearchParams;i.append("client_id",t),i.append("grant_type","authorization_code"),i.append("code",e),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("code_verifier",n),await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then(r=>(r.ok||J.push("HTTP status "+r.status),r.json())).then(r=>(localStorage.setItem("expiryTime",r.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",r.access_token),localStorage.setItem("refreshToken",r.refresh_token),J.push("Logged in!"),!0)).catch(r=>{J.push("Error:",r)})}function sr(t){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}async function ar(t){const e=new TextEncoder().encode(t),n=await window.crypto.subtle.digest("SHA-256",e);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(n)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const xt={redirectToAuthCodeFlow:rr,newAccessToken:or,getAccessToken:Yt};async function lr(){return fetch("https://api.spotify.com/v1/me/player/queue",{method:"GET",headers:{Authorization:`Bearer ${xt.getAccessToken()}`}}).then(t=>(t.ok||console.error("Couldn't get queue from api!"),t.json())).then(t=>t.queue)}async function cr(t){await fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xt.getAccessToken()}`},body:`{ "device_ids": ["${t}"], "play": false }`}).then(e=>{if(e.status==200||e.status==202)return!0;J.push("Device handoff might not have succeeded. You might have do it from another client by using Spotify connect and choosing this device")})}let Tn={track_window:{next_tracks:[]}},Bt,Qn;function ur(){const t=oe(window.navigator.userAgent);return`${t.browser.name} Â· ${t.os.name}`}async function fr(){V=new Spotify.Player({name:`cleanplayer (${ur()}) `,getOAuthToken:t=>{t(Yt())},volume:Pn(Wn).volume}),V.addListener("player_state_changed",t=>{JSON.stringify(t.track_window.next_tracks)!=JSON.stringify(Tn.track_window.next_tracks)?(Tn=t,setTimeout(async()=>{let e=await lr();Qn=e,Bt&&(console.log("Updated queue: ",e),Bt(e))},1e3)):console.log("Chose not to update queue")}),V.addListener("ready",({device_id:t})=>{Zn=t})}Ii([],function(e){Bt=e,e(Qn)});let V,Zn;function Je(t){return t.map(e=>e.height).indexOf(Math.max(...t.map(e=>e.height)))}function dr(t){let e,n,i;const r=t[1].default,o=ni(r,t,t[0],null);return{c(){e=A("div"),n=A("div"),o&&o.c(),S(n,"class","container svelte-qufn0i"),S(e,"class","background svelte-qufn0i")},m(s,a){L(s,e,a),x(e,n),o&&o.m(n,null),i=!0},p(s,[a]){o&&o.p&&(!i||a&1)&&ri(o,r,s,s[0],i?ii(r,s[0],a,null):oi(s[0]),null)},i(s){i||(H(o,s),i=!0)},o(s){z(o,s),i=!1},d(s){s&&R(e),o&&o.d(s)}}}function pr(t,e,n){let{$$slots:i={},$$scope:r}=e;return t.$$set=o=>{"$$scope"in o&&n(0,r=o.$$scope)},[r,i]}class ei extends ye{constructor(e){super(),be(this,e,pr,dr,de,{})}}const mr="/assets/Spotify-6089a3df.png";function An(t){let e,n,i,r,o,s,a,c;return{c(){e=A("button"),n=_e("Log in with Spotify"),i=A("img"),o=P(),s=A("div"),s.innerHTML=`<h1><a href="privacypolicy.txt" target="_blank" class="svelte-xagkxi">Privacy Policy</a></h1> 
        <p class="svelte-xagkxi">This application requires a Spotify Premium account</p>`,Mt(i.src,r=mr)||S(i,"src",r),S(i,"alt",""),S(i,"class","svelte-xagkxi"),S(e,"class","mainAction svelte-xagkxi"),S(s,"class","svelte-xagkxi")},m(l,d){L(l,e,d),x(e,n),x(e,i),L(l,o,d),L(l,s,d),a||(c=fe(e,"click",t[1]),a=!0)},p:D,d(l){l&&R(e),l&&R(o),l&&R(s),a=!1,c()}}}function $n(t){let e,n,i,r,o;return{c(){e=A("h1"),e.textContent="Please wait...",n=P(),i=A("button"),i.textContent="Retry",S(e,"class","mainAction svelte-xagkxi"),S(i,"class","mainAction svelte-xagkxi")},m(s,a){L(s,e,a),L(s,n,a),L(s,i,a),r||(o=fe(i,"click",t[1]),r=!0)},p:D,d(s){s&&R(e),s&&R(n),s&&R(i),r=!1,o()}}}function wr(t){let e,n,i=t[0]=="bad"&&An(t),r=t[0]=="waiting"&&$n(t);return{c(){e=A("div"),i&&i.c(),n=P(),r&&r.c(),S(e,"class","container svelte-xagkxi")},m(o,s){L(o,e,s),i&&i.m(e,null),x(e,n),r&&r.m(e,null)},p(o,s){o[0]=="bad"?i?i.p(o,s):(i=An(o),i.c(),i.m(e,n)):i&&(i.d(1),i=null),o[0]=="waiting"?r?r.p(o,s):(r=$n(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(o){o&&R(e),i&&i.d(),r&&r.d()}}}function hr(t){let e,n;return e=new ei({props:{$$slots:{default:[wr]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,[r]){const o={};r&5&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function gr(t,e,n){let{authState:i}=e;function r(){xt.redirectToAuthCodeFlow("c32a475ce586434d9c6436b5fa71de71")}return t.$$set=o=>{"authState"in o&&n(0,i=o.authState)},[i,r]}class _r extends ye{constructor(e){super(),be(this,e,gr,hr,de,{authState:0})}}function br(t){let e,n,i,r,o,s,a,c;return{c(){e=A("div"),n=A("button"),n.textContent="Enter the app",i=P(),r=A("p"),r.textContent="Clicking this button you will transfer your Spotify playback session to this app. You can select new music from your other client",o=P(),s=A("p"),s.textContent="For playback to work, you need to interact with this page before audio can start playing",S(n,"class","mainAction svelte-rtxgsv"),S(e,"class","container svelte-rtxgsv")},m(l,d){L(l,e,d),x(e,n),x(e,i),x(e,r),x(e,o),x(e,s),a||(c=fe(n,"click",t[0]),a=!0)},p:D,d(l){l&&R(e),a=!1,c()}}}function yr(t){let e,n;return e=new ei({props:{$$slots:{default:[br]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function vr(t){return[async()=>{V.activateElement(),await cr(Zn),oe(window.navigator.userAgent).device.type=="mobile"&&document.body.requestFullscreen({navigationUI:"hide"}),Jn.set(!0)}]}class kr extends ye{constructor(e){super(),be(this,e,vr,yr,de,{})}}function Sr(t=8){const e=new Uint8Array(t/2);return crypto.getRandomValues(e),Array.from(e,n=>("0"+n.toString(16)).slice(-2)).join("")}localStorage.getItem("userSocketHash")===null&&localStorage.setItem("userSocketHash",JSON.stringify(Sr()));const Er=JSON.parse(localStorage.getItem("userSocketHash"));let xr=new WebSocket(`wss://amused-consideration-production.up.railway.app/ws/webclient/${Er}`),Tr=ze(xr);function Ar(t){let e,n,i,r,o,s,a,c,l,d,f,u;return{c(){e=A("div"),n=A("div"),i=A("h1"),i.textContent="Getting started",r=P(),o=A("div"),s=A("p"),s.textContent="> wget https://cloud-catcher.squiddev.cc/cloud.lua",a=P(),c=A("p"),c.textContent=`> spotify.lua ${t[0]}`,l=P(),d=A("div"),d.innerHTML='<p class="svelte-1emd8dp">For more information, as well as source code and screenshots, see the <a href="https://github.com/SquidDev-CC/cloud-catcher" class="svelte-1emd8dp">GitHub repository</a>.</p>',f=P(),u=A("div"),u.innerHTML=`<h2 class="svelte-1emd8dp">Getting started</h2> 
    <p class="svelte-1emd8dp">You will require:</p> 
    <ul class="svelte-1emd8dp"><li class="svelte-1emd8dp">An internet connection</li> 
      <li class="svelte-1emd8dp"><a href="https://tweaked.cc" class="svelte-1emd8dp">CC: Tweaked</a></li></ul> 
    <p class="svelte-1emd8dp">Then just follow the instructions at the top!</p>`,S(i,"class","svelte-1emd8dp"),S(s,"class","svelte-1emd8dp"),S(c,"class","svelte-1emd8dp"),S(o,"class","code-block svelte-1emd8dp"),S(n,"class","getting-started svelte-1emd8dp"),S(d,"class","content"),S(u,"class","getting-started svelte-1emd8dp"),S(e,"class","container svelte-1emd8dp")},m(w,m){L(w,e,m),x(e,n),x(n,i),x(n,r),x(n,o),x(o,s),x(o,a),x(o,c),x(e,l),x(e,d),x(e,f),x(e,u)},p:D,i:D,o:D,d(w){w&&R(e)}}}function $r(t){return[JSON.parse(localStorage.getItem("userSocketHash"))]}class Cr extends ye{constructor(e){super(),be(this,e,$r,Ar,de,{})}}function Cn(t){let e,n;return e=new _r({props:{authState:t[0]}}),{c(){ie(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const o={};r&1&&(o.authState=i[0]),e.$set(o)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function On(t){let e,n;return e=new kr({}),{c(){ie(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Or(t){let e,n,i,r,o,s,a,c,l,d,f,u,w,m,v,E,k,C,$,N,F,G,b,O,j,pe,I,B,T,ae,Kt,X=t[7]&&In(t);return{c(){e=A("div"),n=A("img"),r=P(),o=A("div"),s=A("div"),a=A("span"),a.textContent="album",c=P(),l=A("a"),d=_e(t[5]),f=P(),X&&X.c(),u=P(),w=A("div"),m=A("div"),v=_e(t[3]),E=P(),k=A("div"),C=_e(t[14]),$=P(),N=A("div"),F=A("button"),G=A("span"),G.textContent="skip_previous",O=P(),j=A("button"),j.innerHTML='<span class="material-symbols-rounded svelte-18wo5m5">play_circle</span>',pe=P(),I=A("button"),B=A("span"),B.textContent="skip_next",Mt(n.src,i=t[4])||S(n,"src",i),S(n,"alt",""),S(n,"class","albumArt svelte-18wo5m5"),Re(n,"border-radius",t[11]),S(a,"class","material-symbols-rounded"),S(l,"href",t[6]),S(l,"class","clickable svelte-18wo5m5"),S(l,"target","_blank"),S(s,"class","infoText svelte-18wo5m5"),S(o,"class","albumInfo svelte-18wo5m5"),S(e,"class","albumContainer svelte-18wo5m5"),S(m,"class","title svelte-18wo5m5"),S(k,"class","artist svelte-18wo5m5"),S(w,"class","trackInfo svelte-18wo5m5"),S(G,"class","material-symbols-rounded svelte-18wo5m5"),S(F,"class","side svelte-18wo5m5"),F.disabled=b=t[10].skipping_prev,S(j,"class","play svelte-18wo5m5"),j.disabled=!0,S(B,"class","material-symbols-rounded svelte-18wo5m5"),S(I,"class","side svelte-18wo5m5"),I.disabled=T=t[10].skipping_next,S(N,"class","controls svelte-18wo5m5")},m(U,W){L(U,e,W),x(e,n),x(e,r),x(e,o),x(o,s),x(s,a),x(s,c),x(s,l),x(l,d),x(o,f),X&&X.m(o,null),L(U,u,W),L(U,w,W),x(w,m),x(m,v),x(w,E),x(w,k),x(k,C),L(U,$,W),L(U,N,W),x(N,F),x(F,G),x(N,O),x(N,j),x(N,pe),x(N,I),x(I,B),ae||(Kt=[fe(F,"click",t[16]),fe(I,"click",t[17])],ae=!0)},p(U,W){W&16&&!Mt(n.src,i=U[4])&&S(n,"src",i),W&2048&&Re(n,"border-radius",U[11]),W&32&&Ye(d,U[5]),W&64&&S(l,"href",U[6]),U[7]?X?X.p(U,W):(X=In(U),X.c(),X.m(o,null)):X&&(X.d(1),X=null),W&8&&Ye(v,U[3]),W&16384&&Ye(C,U[14]),W&1024&&b!==(b=U[10].skipping_prev)&&(F.disabled=b),W&1024&&T!==(T=U[10].skipping_next)&&(I.disabled=T)},i:D,o:D,d(U){U&&R(e),X&&X.d(),U&&R(u),U&&R(w),U&&R($),U&&R(N),ae=!1,se(Kt)}}}function Ir(t){let e,n;return e=new Cr({}),{c(){ie(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p:D,i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function In(t){let e,n,i,r,o;return{c(){e=A("div"),n=A("span"),i=_e(t[8]),r=P(),o=_e(t[7]),S(n,"class","material-symbols-rounded"),S(e,"class","infoText svelte-18wo5m5")},m(s,a){L(s,e,a),x(e,n),x(n,i),x(e,r),x(e,o)},p(s,a){a&256&&Ye(i,s[8]),a&128&&Ye(o,s[7])},d(s){s&&R(e)}}}function Rr(t){let e,n,i,r,o,s,a,c,l,d,f,u,w,m,v,E,k=(t[0]=="bad"||t[0]=="waiting")&&Cn(t),C=Lr,$=!t[12]&&t[0]=="good"&&On();o=new ir({});const N=[Ir,Or],F=[];function G(b,O){return b[1]?1:0}return m=G(t),v=F[m]=N[m](t),{c(){k&&k.c(),e=P(),n=P(),$&&$.c(),i=P(),r=P(),ie(o.$$.fragment),s=P(),a=A("div"),a.innerHTML=`<h1>This aspect ratio is not yet supported</h1> 
    <h3>Please resize the application window</h3>`,c=P(),l=A("div"),d=P(),f=A("div"),u=P(),w=A("div"),v.c(),S(a,"class","unsupportedSizeNotice svelte-18wo5m5"),S(l,"class","progress svelte-18wo5m5"),Re(l,"width",t[13]+"vw"),S(f,"class","background svelte-18wo5m5"),Re(f,"background-image","url("+t[4]+")"),S(w,"class","playerContainer svelte-18wo5m5")},m(b,O){k&&k.m(b,O),L(b,e,O),L(b,n,O),$&&$.m(b,O),L(b,i,O),L(b,r,O),te(o,b,O),L(b,s,O),L(b,a,O),L(b,c,O),L(b,l,O),L(b,d,O),L(b,f,O),L(b,u,O),L(b,w,O),F[m].m(w,null),E=!0},p(b,[O]){b[0]=="bad"||b[0]=="waiting"?k?(k.p(b,O),O&1&&H(k,1)):(k=Cn(b),k.c(),H(k,1),k.m(e.parentNode,e)):k&&(Se(),z(k,1,1,()=>{k=null}),Ee()),!b[12]&&b[0]=="good"?$?O&4097&&H($,1):($=On(),$.c(),H($,1),$.m(i.parentNode,i)):$&&(Se(),z($,1,1,()=>{$=null}),Ee()),(!E||O&8192)&&Re(l,"width",b[13]+"vw"),(!E||O&16)&&Re(f,"background-image","url("+b[4]+")");let j=m;m=G(b),m===j?F[m].p(b,O):(Se(),z(F[j],1,1,()=>{F[j]=null}),Ee(),v=F[m],v?v.p(b,O):(v=F[m]=N[m](b),v.c()),H(v,1),v.m(w,null))},i(b){E||(H(k),H(C),H($),H(o.$$.fragment,b),H(v),E=!0)},o(b){z(k),z(C),z($),z(o.$$.fragment,b),z(v),E=!1},d(b){k&&k.d(b),b&&R(e),b&&R(n),$&&$.d(b),b&&R(i),b&&R(r),ne(o,b),b&&R(s),b&&R(a),b&&R(c),b&&R(l),b&&R(d),b&&R(f),b&&R(u),b&&R(w),F[m].d()}}}let Lr=!1;function Mr(t,e,n){let i,r,o;Xe(t,Tr,I=>n(22,i=I)),Xe(t,Jn,I=>n(12,r=I));let s=i,a,c=!1;localStorage.getItem("accessToken")?a="waiting":a="bad";let l={},d="",f="",u="",w="",m="#",v="",E="",k=!1;const C=Gn(0,{duration:1e3,easing:Te});Xe(t,C,I=>n(13,o=I));let $=1e5,N=0,F={pausing:!1,peeking_next:!1,peeking_prev:!1,resuming:!1,seeking:!1,skipping_next:!1,skipping_prev:!1},G;Wn.subscribe(I=>{I.roundedCorners?n(11,G="2ch"):n(11,G=0)}),setInterval(b,1e3);function b(){k&&(N=N+1e3,C.set(N*100/$))}function O(I){const B=l;if(n(2,l=I),V.pause().then(()=>{n(9,k=!1)}),B===null||B.track_window.current_track.id!==I.track_window.current_track.id){let T=I.track_window.current_track,ae={id:T.id,artist:T.artists[0].name,name:T.name,albumName:T.album.name,albumArt:T.album.images[Je(T.album.images)].url};s.send(JSON.stringify(ae)),console.log("Error sending data through websocket:",error)}n(3,d=I.track_window.current_track.name),n(14,f=I.track_window.current_track.artists.map(T=>T.name).join(", ")),n(4,u=I.track_window.current_track.album.images[Je(I.track_window.current_track.album.images)].url),n(5,w=I.track_window.current_track.album.name),n(6,m=`https://open.spotify.com/album/${I.track_window.current_track.album.uri.slice(14)}`),n(7,v=""),n(8,E=""),I.context.uri.startsWith("spotify:playlist")&&(n(8,E="library_music"),n(7,v=I.context.metadata.context_description)),I.context.uri.startsWith("spotify:user")&&(n(8,E="favorite"),n(7,v="Liked Songs")),$=I.duration,N=I.position,I.shuffle,n(10,F=I.disallows)}return s.onmessage=function(I){let B=I.data;if(console.log("message sent from lua"+B),B==="nextSong")V.nextTrack().then(()=>{console.log("track has been skipped",error)}).catch(T=>{console.error("Error skipping tracks",T)});else if(B==="prevSong")V.previousTrack().then(()=>{console.log("going to last track",error)}).catch(T=>{console.error("Error going back",T)});else if(B==="luaConnected"){if(n(1,c=!0),n(1,c),JSON.stringify(l)!=="{}"){let T=l.track_window.current_track,ae={id:T.id,artist:T.artists[0].name,name:T.name,albumName:T.album.name,albumArt:l.track_window.current_track.album.images[Je(l.track_window.current_track.album.images)].url};s.send(JSON.stringify(ae))}}else if(B==="luaDisconnect"){console.log("caught lua disconnect"),n(1,c=!1),n(1,c);let T=l.track_window.current_track,ae={id:T.id,artist:T.artists[0].name,name:T.name,albumName:T.album.name,albumArt:l.track_window.current_track.album.images[Je(l.track_window.current_track.album.images)].url};localStorage.setItem("storedTrack",JSON.stringify(ae))}else if(B==="luaConnectedOnInit"&&(console.log("caught lua connected on init"),n(1,c=!0),n(1,c),localStorage.getItem("storedTrack"))){const T=JSON.parse(localStorage.getItem("storedTrack"));s.send(JSON.stringify(T))}},window.addEventListener("beforeunload",function(I){let B=l.track_window.current_track,T={id:B.id,artist:B.artists[0].name,name:B.name,albumName:B.album.name,albumArt:l.track_window.current_track.album.images[Je(l.track_window.current_track.album.images)].url};localStorage.setItem("storedTrack",JSON.stringify(T))}),window.onSpotifyWebPlaybackSDKReady=async function(){const I=new URLSearchParams(window.location.search).get("code");I&&(await xt.newAccessToken("c32a475ce586434d9c6436b5fa71de71",I),window.history.replaceState({},document.title,window.location.origin+window.location.pathname),n(0,a="waiting"));let B=Yt();B==!1||B==null?(console.log("Access token not found"),n(0,a="bad")):(fr(),V.addListener("ready",({device_id:T})=>{console.log("Ready with Device ID",T),J.push(`Ready with Device ID ${T}`),n(0,a="good")}),V.addListener("not_ready",({device_id:T})=>{console.log("Device ID has gone offline",T),J.push(`Device ID has gone offline ${T}`)}),V.addListener("initialization_error",({message:T})=>{console.error(T),J.push(`Spotify initialization error: ${T}`)}),V.addListener("authentication_error",({message:T})=>{console.error(T),J.push(`Spotify authentication error: ${T}`),n(0,a="bad")}),V.addListener("account_error",({message:T})=>{console.error(T),J.push(`Spotify account error: ${T}`),n(0,a="bad")}),V.connect().then(T=>{if(T){console.log("The Web Playback SDK successfully connected to Spotify!"),J.push("Successfully connected to Spotify");return}}),V.addListener("player_state_changed",T=>{O(T)}))},[a,c,l,d,u,w,m,v,E,k,F,G,r,o,f,C,()=>{V.previousTrack(),V.pause().then(()=>{n(9,k=!1)})},()=>{V.nextTrack(),V.pause().then(()=>{n(9,k=!1)})}]}class Rn extends ye{constructor(e){super(),be(this,e,Mr,Rr,de,{})}}function Pr(t){let e,n,i;var r=Rn;function o(s){return{}}return r&&(e=mt(r,o())),{c(){e&&ie(e.$$.fragment),n=Vt()},m(s,a){e&&te(e,s,a),L(s,n,a),i=!0},p(s,[a]){if(r!==(r=Rn)){if(e){Se();const c=e;z(c.$$.fragment,1,0,()=>{ne(c,1)}),Ee()}r?(e=mt(r,o()),ie(e.$$.fragment),H(e.$$.fragment,1),te(e,n.parentNode,n)):e=null}},i(s){i||(e&&H(e.$$.fragment,s),i=!0)},o(s){e&&z(e.$$.fragment,s),i=!1},d(s){s&&R(n),e&&ne(e,s)}}}class Nr extends ye{constructor(e){super(),be(this,e,null,Pr,de,{})}}new Nr({target:document.getElementById("app")});
