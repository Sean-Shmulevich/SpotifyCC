(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function U(){}const We=t=>t;function Vt(t,e){for(const n in e)t[n]=e[n];return t}function xi(t){return t()}function Un(){return Object.create(null)}function pe(t){t.forEach(xi)}function At(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Pt;function ve(t,e){return Pt||(Pt=document.createElement("a")),Pt.href=e,t===Pt.href}function Ki(t){return Object.keys(t).length===0}function Oi(t,...e){if(t==null)return U;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ii(t){let e;return Oi(t,n=>e=n)(),e}function Ge(t,e,n){t.$$.on_destroy.push(Oi(e,n))}function Qi(t,e,n,i){if(t){const s=Ri(t,e,n,i);return t[0](s)}}function Ri(t,e,n,i){return t[1]&&i?Vt(n.ctx.slice(),t[1](i(e))):n.ctx}function Zi(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],r=Math.max(e.dirty.length,s.length);for(let l=0;l<r;l+=1)o[l]=e.dirty[l]|s[l];return o}return e.dirty|s}return e.dirty}function es(t,e,n,i,s,o){if(s){const r=Ri(e,n,i,o);t.p(r,s)}}function ts(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function zn(t){return t??""}function Fn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const ji=typeof window<"u";let en=ji?()=>window.performance.now():()=>Date.now(),En=ji?t=>requestAnimationFrame(t):U;const it=new Set;function Li(t){it.forEach(e=>{e.c(t)||(it.delete(e),e.f())}),it.size!==0&&En(Li)}function tn(t){let e;return it.size===0&&En(Li),{promise:new Promise(n=>{it.add(e={c:t,f:n})}),abort(){it.delete(e)}}}function p(t,e){t.appendChild(e)}function Mi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ns(t){const e=g("style");return is(Mi(t),e),e.sheet}function is(t,e){return p(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function Pi(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function ss(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t){return document.createTextNode(t)}function I(){return ee(" ")}function $t(){return ee("")}function X(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function rs(t){return t===""?null:+t}function os(t){return Array.from(t.childNodes)}function Pe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Bn(t,e){t.value=e??""}function Ye(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function be(t,e,n){t.classList[n?"add":"remove"](e)}function ls(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}class as{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=ss(n.nodeName):this.e=g(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(E)}}function Gn(t,e){return new t(e)}const Wt=new Map;let Xt=0;function cs(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function us(t,e){const n={stylesheet:ns(e),rules:{}};return Wt.set(t,n),n}function Cn(t,e,n,i,s,o,r,l=0){const a=16.666/i;let c=`{
`;for(let y=0;y<=1;y+=a){const C=e+(n-e)*o(y);c+=y*100+`%{${r(C,1-C)}}
`}const f=c+`100% {${r(n,1-n)}}
}`,_=`__svelte_${cs(f)}_${l}`,h=Mi(t),{stylesheet:m,rules:d}=Wt.get(h)||us(h,t);d[_]||(d[_]=!0,m.insertRule(`@keyframes ${_} ${f}`,m.cssRules.length));const T=t.style.animation||"";return t.style.animation=`${T?`${T}, `:""}${_} ${i}ms linear ${s}ms 1 both`,Xt+=1,_}function Jt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),Xt-=s,Xt||fs())}function fs(){En(()=>{Xt||(Wt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&E(e)}),Wt.clear())})}function ds(t,e,n,i){if(!e)return U;const s=t.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return U;const{delay:o=0,duration:r=300,easing:l=We,start:a=en()+o,end:c=a+r,tick:f=U,css:_}=n(t,{from:e,to:s},i);let h=!0,m=!1,d;function T(){_&&(d=Cn(t,0,1,r,o,l,_)),o||(m=!0)}function y(){_&&Jt(t,d),h=!1}return tn(C=>{if(!m&&C>=a&&(m=!0),m&&C>=c&&(f(1,0),y()),!h)return!1;if(m){const x=C-a,j=0+1*l(x/r);f(j,1-j)}return!0}),T(),f(0,1),y}function ps(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:i}=e,s=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,qi(t,s)}}function qi(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),s=i.transform==="none"?"":i.transform;t.style.transform=`${s} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let kt;function vt(t){kt=t}function Ni(){if(!kt)throw new Error("Function called outside component initialization");return kt}function ms(t){Ni().$$.on_mount.push(t)}function hs(t){Ni().$$.on_destroy.push(t)}const tt=[],Vn=[];let st=[];const Wn=[],_s=Promise.resolve();let bn=!1;function gs(){bn||(bn=!0,_s.then(Hi))}function lt(t){st.push(t)}const un=new Set;let Ke=0;function Hi(){if(Ke!==0)return;const t=kt;do{try{for(;Ke<tt.length;){const e=tt[Ke];Ke++,vt(e),bs(e.$$)}}catch(e){throw tt.length=0,Ke=0,e}for(vt(null),tt.length=0,Ke=0;Vn.length;)Vn.pop()();for(let e=0;e<st.length;e+=1){const n=st[e];un.has(n)||(un.add(n),n())}st.length=0}while(tt.length);for(;Wn.length;)Wn.pop()();bn=!1,un.clear(),vt(t)}function bs(t){if(t.fragment!==null){t.update(),pe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}function ws(t){const e=[],n=[];st.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),st=e}let mt;function Di(){return mt||(mt=Promise.resolve(),mt.then(()=>{mt=null})),mt}function Yt(t,e,n){t.dispatchEvent(ls(`${e?"intro":"outro"}${n}`))}const Ft=new Set;let je;function Ae(){je={r:0,c:[],p:je}}function $e(){je.r||pe(je.c),je=je.p}function H(t,e){t&&t.i&&(Ft.delete(t),t.i(e))}function z(t,e,n,i){if(t&&t.o){if(Ft.has(t))return;Ft.add(t),je.c.push(()=>{Ft.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Ui={duration:0};function vs(t,e,n){const i={direction:"in"};let s=e(t,n,i),o=!1,r,l,a=0;function c(){r&&Jt(t,r)}function f(){const{delay:h=0,duration:m=300,easing:d=We,tick:T=U,css:y}=s||Ui;y&&(r=Cn(t,0,1,m,h,d,y,a++)),T(0,1);const C=en()+h,x=C+m;l&&l.abort(),o=!0,lt(()=>Yt(t,!0,"start")),l=tn(j=>{if(o){if(j>=x)return T(1,0),Yt(t,!0,"end"),c(),o=!1;if(j>=C){const B=d((j-C)/m);T(B,1-B)}}return o})}let _=!1;return{start(){_||(_=!0,Jt(t),At(s)?(s=s(i),Di().then(f)):f())},invalidate(){_=!1},end(){o&&(c(),o=!1)}}}function ys(t,e,n){const i={direction:"out"};let s=e(t,n,i),o=!0,r;const l=je;l.r+=1;function a(){const{delay:c=0,duration:f=300,easing:_=We,tick:h=U,css:m}=s||Ui;m&&(r=Cn(t,1,0,f,c,_,m));const d=en()+c,T=d+f;lt(()=>Yt(t,!1,"start")),tn(y=>{if(o){if(y>=T)return h(0,1),Yt(t,!1,"end"),--l.r||pe(l.c),!1;if(y>=d){const C=_((y-d)/f);h(1-C,C)}}return o})}return At(s)?Di().then(()=>{s=s(i),a()}):a(),{end(c){c&&s.tick&&s.tick(1,0),o&&(r&&Jt(t,r),o=!1)}}}function ks(t,e){z(t,1,1,()=>{e.delete(t.key)})}function Ss(t,e){t.f(),ks(t,e)}function Ts(t,e,n,i,s,o,r,l,a,c,f,_){let h=t.length,m=o.length,d=h;const T={};for(;d--;)T[t[d].key]=d;const y=[],C=new Map,x=new Map,j=[];for(d=m;d--;){const $=_(s,o,d),N=n($);let G=r.get(N);G?i&&j.push(()=>G.p($,e)):(G=c(N,$),G.c()),C.set(N,y[d]=G),N in T&&x.set(N,Math.abs(d-T[N]))}const B=new Set,L=new Set;function R($){H($,1),$.m(l,f),r.set($.key,$),f=$.first,m--}for(;h&&m;){const $=y[m-1],N=t[h-1],G=$.key,F=N.key;$===N?(f=$.first,h--,m--):C.has(F)?!r.has(G)||B.has(G)?R($):L.has(F)?h--:x.get(G)>x.get(F)?(L.add(G),R($)):(B.add(F),h--):(a(N,r),h--)}for(;h--;){const $=t[h];C.has($.key)||a($,r)}for(;m;)R(y[m-1]);return pe(j),y}function As(t,e){const n={},i={},s={$$scope:1};let o=t.length;for(;o--;){const r=t[o],l=e[o];if(l){for(const a in r)a in l||(i[a]=1);for(const a in l)s[a]||(n[a]=l[a],s[a]=1);t[o]=l}else for(const a in r)s[a]=1}for(const r in i)r in n||(n[r]=void 0);return n}function $s(t){return typeof t=="object"&&t!==null?t:{}}function ce(t){t&&t.c()}function re(t,e,n,i){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),i||lt(()=>{const r=t.$$.on_mount.map(xi).filter(At);t.$$.on_destroy?t.$$.on_destroy.push(...r):pe(r),t.$$.on_mount=[]}),o.forEach(lt)}function oe(t,e){const n=t.$$;n.fragment!==null&&(ws(n.after_update),pe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Es(t,e){t.$$.dirty[0]===-1&&(tt.push(t),gs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _e(t,e,n,i,s,o,r,l=[-1]){const a=kt;vt(t);const c=t.$$={fragment:null,ctx:[],props:o,update:U,not_equal:s,bound:Un(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Un(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(_,h,...m)=>{const d=m.length?m[0]:h;return c.ctx&&s(c.ctx[_],c.ctx[_]=d)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](d),f&&Es(t,_)),h}):[],c.update(),f=!0,pe(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const _=os(e.target);c.fragment&&c.fragment.l(_),_.forEach(E)}else c.fragment&&c.fragment.c();e.intro&&H(t.$$.fragment),re(t,e.target,e.anchor,e.customElement),Hi()}vt(a)}class ge{$destroy(){oe(this,1),this.$destroy=U}$on(e,n){if(!At(n))return U;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Ki(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qe=[];function Cs(t,e){return{subscribe:ut(t,e).subscribe}}function ut(t,e=U){let n;const i=new Set;function s(l){if(me(t,l)&&(t=l,n)){const a=!Qe.length;for(const c of i)c[1](),Qe.push(c,t);if(a){for(let c=0;c<Qe.length;c+=2)Qe[c][0](Qe[c+1]);Qe.length=0}}}function o(l){s(l(t))}function r(l,a=U){const c=[l,a];return i.add(c),i.size===1&&(n=e(s)||U),l(t),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}function zi(t){const e=t-1;return e*e*e+1}function Xn(t){return Object.prototype.toString.call(t)==="[object Date]"}function wn(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((s,o)=>wn(t[o],s));return s=>i.map(o=>o(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Xn(t)&&Xn(e)){t=t.getTime(),e=e.getTime();const o=e-t;return r=>new Date(t+r*o)}const i=Object.keys(e),s={};return i.forEach(o=>{s[o]=wn(t[o],e[o])}),o=>{const r={};return i.forEach(l=>{r[l]=s[l](o)}),r}}if(n==="number"){const i=e-t;return s=>t+s*i}throw new Error(`Cannot interpolate ${n} values`)}function Fi(t,e={}){const n=ut(t);let i,s=t;function o(r,l){if(t==null)return n.set(t=r),Promise.resolve();s=r;let a=i,c=!1,{delay:f=0,duration:_=400,easing:h=We,interpolate:m=wn}=Vt(Vt({},e),l);if(_===0)return a&&(a.abort(),a=null),n.set(t=s),Promise.resolve();const d=en()+f;let T;return i=tn(y=>{if(y<d)return!0;c||(T=m(t,r),typeof _=="function"&&(_=_(t,r)),c=!0),a&&(a.abort(),a=null);const C=y-d;return C>_?(n.set(t=r),!1):(n.set(t=T(h(C/_))),!0)}),i.promise}return{set:o,update:(r,l)=>o(r(s,t),l),subscribe:n.subscribe}}var fn={};function Jn(t){return t==="local"?localStorage:sessionStorage}function xs(t,e,n){const i=(n==null?void 0:n.serializer)??JSON,s=(n==null?void 0:n.storage)??"local",o=typeof window<"u"&&typeof document<"u";function r(l,a){o&&Jn(s).setItem(l,i.stringify(a))}if(!fn[t]){const l=ut(e,f=>{const _=o?Jn(s).getItem(t):null;if(_&&f(i.parse(_)),o){const h=m=>{m.key===t&&f(m.newValue?i.parse(m.newValue):null)};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)}}),{subscribe:a,set:c}=l;fn[t]={set(f){r(t,f),c(f)},update(f){const _=f(Ii(l));r(t,_),c(_)},subscribe:a}}return fn[t]}let ze=xs("settings",{roundedCorners:!1,volume:1,debugSettings:!1}),Bi=ut(!1);var Os="2.0.0-beta.3",at="",Yn="?",vn="function",Le="undefined",ct="object",yn="string",St="major",k="model",b="name",v="type",A="vendor",w="version",ie="architecture",nt="console",D="mobile",V="tablet",le="smarttv",Bt="wearable",Kn="xr",kn="embedded",Qn="user-agent",Sn=500,xn="brands",Fe="formFactors",On="fullVersionList",rt="platform",In="platformVersion",nn="bitness",qe="sec-ch-ua",Is=qe+"-full-version-list",Rs=qe+"-arch",js=qe+"-"+nn,Ls=qe+"-form-factors",Ms=qe+"-"+D,Ps=qe+"-"+k,Gi=qe+"-"+rt,qs=Gi+"-version",Vi=[xn,On,D,k,rt,In,ie,Fe,nn],ae="browser",ke="cpu",we="device",Se="engine",de="os",ot="result",qt="Amazon",ht="Apple",Zn="ASUS",ei="BlackBerry",Nt="Google",ti="Huawei",ni="Lenovo",dn="LG",Gt="Microsoft",ii="Motorola",Ht="Samsung",si="Sharp",Dt="Sony",pn="Xiaomi",mn="Zebra",Ze="Mobile ",et=" Browser",Ut="Chrome",Ns="Edge",_t="Firefox",gt="Opera",ri="Facebook",oi="Sogou",Tn="Windows",Hs=typeof window!==Le,se=Hs&&window.navigator?window.navigator:void 0,Re=se&&se.userAgentData?se.userAgentData:void 0,Ds=function(t,e){var n={},i=e;if(!Kt(e)){i={};for(var s in e)for(var o in e[s])i[o]=e[s][o].concat(i[o]?i[o]:[])}for(var r in t)n[r]=i[r]&&i[r].length%2===0?i[r].concat(t[r]):t[r];return n},sn=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},An=function(t,e){if(typeof t===ct&&t.length>0){for(var n in t)if(Me(t[n])==Me(e))return!0;return!1}return ft(t)?Me(e).indexOf(Me(t))!==-1:!1},Kt=function(t,e){for(var n in t)return/^(browser|cpu|device|engine|os)$/.test(n)||(e?Kt(t[n]):!1)},ft=function(t){return typeof t===yn},hn=function(t){if(t){for(var e=[],n=Ve(/\\?\"/g,t).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var s=Tt(n[i]).split(";v=");e[i]={brand:s[0],version:s[1]}}else e[i]=Tt(n[i]);return e}},Me=function(t){return ft(t)?t.toLowerCase():t},_n=function(t){return ft(t)?Ve(/[^\d\.]/g,t).split(".")[0]:void 0},Te=function(t){for(var e in t){var n=t[e];typeof n==ct&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},Ve=function(t,e){return ft(e)?e.replace(t,at):e},bt=function(t){return Ve(/\\?\"/g,t)},Tt=function(t,e){if(ft(t))return t=Ve(/^\s\s*/,t),typeof e===Le?t:t.substring(0,Sn)},li=function(t,e){if(!(!t||!e))for(var n=0,i,s,o,r,l,a;n<e.length&&!l;){var c=e[n],f=e[n+1];for(i=s=0;i<c.length&&!l&&c[i];)if(l=c[i++].exec(t),l)for(o=0;o<f.length;o++)a=l[++s],r=f[o],typeof r===ct&&r.length>0?r.length===2?typeof r[1]==vn?this[r[0]]=r[1].call(this,a):this[r[0]]=r[1]:r.length===3?typeof r[1]===vn&&!(r[1].exec&&r[1].test)?this[r[0]]=a?r[1].call(this,a,r[2]):void 0:this[r[0]]=a?a.replace(r[1],r[2]):void 0:r.length===4&&(this[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):void 0):this[r]=a||void 0;n+=2}},Qt=function(t,e){for(var n in e)if(typeof e[n]===ct&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(An(e[n][i],t))return n===Yn?void 0:n}else if(An(e[n],t))return n===Yn?void 0:n;return e.hasOwnProperty("*")?e["*"]:t},ai={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ci={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},ui={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[b,Ze+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,w],[/opios[\/ ]+([\w\.]+)/i],[w,[b,gt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[b,gt+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[b,gt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[b,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,w],[/\bddg\/([\w\.]+)/i],[w,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[b,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[b,"Smart "+ni+et]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure"+et],w],[/\bfocus\/([\w\.]+)/i],[w,[b,_t+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[b,gt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[b,gt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[b,"MIUI"+et]],[/fxios\/([\w\.-]+)/i],[w,[b,Ze+_t]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360"+et]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+et],w],[/samsungbrowser\/([\w\.]+)/i],[w,[b,Ht+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],w],[/metasr[\/ ]?([\d\.]+)/i],[w,[b,oi+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,oi+" Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[b,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,ri],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[b,Ut+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,Ut+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[b,"Android"+et]],[/chrome\/([\w\.]+) mobile/i],[w,[b,Ze+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,w],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[w,[b,Ze+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[b,Ze+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[w,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[w,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[b,w],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[b,Ze+_t],w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],w],[/(wolvic)\/([\w\.]+)/i],[b,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[b,_t+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[b,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[w,/[^\d\.]+./,at]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[ie,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[ie,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[ie,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[ie,"armhf"]],[/windows (ce|mobile); ppc;/i],[[ie,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[ie,/ower/,at,Me]],[/(sun4\w)[;\)]/i],[[ie,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[ie,Me]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[k,[A,Ht],[v,V]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[k,[A,Ht],[v,D]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[k,[A,ht],[v,D]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[k,[A,ht],[v,V]],[/(macintosh);/i],[k,[A,ht]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[k,[A,si],[v,D]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[k,[A,ti],[v,V]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[k,[A,ti],[v,D]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[k,/_/g," "],[A,pn],[v,D]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[k,/_/g," "],[A,pn],[v,V]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[k,[A,"OPPO"],[v,D]],[/\b(opd2\d{3}a?) bui/i],[k,[A,"OPPO"],[v,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[k,[A,"Vivo"],[v,D]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[k,[A,"Realme"],[v,D]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[k,[A,ii],[v,D]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[k,[A,ii],[v,V]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[k,[A,dn],[v,V]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[k,[A,dn],[v,D]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[k,[A,ni],[v,V]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[k,/_/g," "],[A,"Nokia"],[v,D]],[/(pixel c)\b/i],[k,[A,Nt],[v,V]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[k,[A,Nt],[v,D]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[k,[A,Dt],[v,D]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[k,"Xperia Tablet"],[A,Dt],[v,V]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[k,[A,"OnePlus"],[v,D]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[k,[A,qt],[v,V]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[k,/(.+)/g,"Fire Phone $1"],[A,qt],[v,D]],[/(playbook);[-\w\),; ]+(rim)/i],[k,A,[v,V]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[k,[A,ei],[v,D]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[k,[A,Zn],[v,V]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[k,[A,Zn],[v,D]],[/(nexus 9)/i],[k,[A,"HTC"],[v,V]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[A,[k,/_/g," "],[v,D]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[k,[A,"Acer"],[v,V]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[k,[A,"Meizu"],[v,D]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[k,[A,"Ulefone"],[v,D]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[A,k,[v,D]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[A,k,[v,V]],[/(surface duo)/i],[k,[A,Gt],[v,V]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[k,[A,"Fairphone"],[v,D]],[/(shield[\w ]+) b/i],[k,[A,"Nvidia"],[v,V]],[/(sprint) (\w+)/i],[A,k,[v,D]],[/(kin\.[onetw]{3})/i],[[k,/\./g," "],[A,Gt],[v,D]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[k,[A,mn],[v,V]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[k,[A,mn],[v,D]],[/smart-tv.+(samsung)/i],[A,[v,le]],[/hbbtv.+maple;(\d+)/i],[[k,/^/,"SmartTV"],[A,Ht],[v,le]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[A,dn],[v,le]],[/(apple) ?tv/i],[A,[k,ht+" TV"],[v,le]],[/crkey/i],[[k,Ut+"cast"],[A,Nt],[v,le]],[/droid.+aft(\w+)( bui|\))/i],[k,[A,qt],[v,le]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[k,[A,si],[v,le]],[/(bravia[\w ]+)( bui|\))/i],[k,[A,Dt],[v,le]],[/(mitv-\w{5}) bui/i],[k,[A,pn],[v,le]],[/Hbbtv.*(technisat) (.*);/i],[A,k,[v,le]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[A,Tt],[k,Tt],[v,le]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,le]],[/(ouya)/i,/(nintendo) (\w+)/i],[A,k,[v,nt]],[/droid.+; (shield) bui/i],[k,[A,"Nvidia"],[v,nt]],[/(playstation \w+)/i],[k,[A,Dt],[v,nt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[k,[A,Gt],[v,nt]],[/((pebble))app/i],[A,k,[v,Bt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[k,[A,ht],[v,Bt]],[/droid.+; (wt63?0{2,3})\)/i],[k,[A,mn],[v,Bt]],[/droid.+; (glass) \d/i],[k,[A,Nt],[v,Kn]],[/(quest( \d| pro)?)/i],[k,[A,ri],[v,Kn]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[A,[v,kn]],[/(aeobc)\b/i],[k,[A,qt],[v,kn]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[k,[v,D]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[k,[v,V]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,V]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,D]],[/(android[-\w\. ]{0,9});.+buil/i],[k,[A,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[b,Ns+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,w],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[b,[w,Qt,ai]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,Qt,ai],[b,Tn]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"macOS"],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,w],[/\(bb(10);/i],[w,[b,ei]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[b,_t+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[b,Ut+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,"Chrome OS"],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,w],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,w]]},zt=function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Te.call(t.init,[[ae,[b,w,St,v]],[ke,[ie]],[we,[v,k,A]],[Se,[b,w]],[de,[b,w]]]),Te.call(t.isIgnore,[[ae,[w,St]],[Se,[w]],[de,[w]]]),Te.call(t.isIgnoreRgx,[[ae,/ ?browser$/i],[de,/ ?os$/i]]),Te.call(t.toString,[[ae,[b,w]],[ke,[ie]],[we,[A,k]],[Se,[b,w]],[de,[b,w]]]),t}(),Us=function(t,e){var n=zt.init[e],i=zt.isIgnore[e]||0,s=zt.isIgnoreRgx[e]||0,o=zt.toString[e]||0;function r(){Te.call(this,n)}return r.prototype.getItem=function(){return t},r.prototype.withClientHints=function(){return Re?Re.getHighEntropyValues(Vi).then(function(l){return t.setCH(new Wi(l,!1)).parseCH().get()}):t.parseCH().get()},r.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=ot&&(r.prototype.is=function(l){var a=!1;for(var c in this)if(this.hasOwnProperty(c)&&!An(i,c)&&Me(s?Ve(s,this[c]):this[c])==Me(s?Ve(s,l):l)){if(a=!0,l!=Le)break}else if(l==Le&&a){a=!a;break}return a},r.prototype.toString=function(){var l=at;for(var a in o)typeof this[o[a]]!==Le&&(l+=(l?" ":at)+this[o[a]]);return l||Le}),Re||(r.prototype.then=function(l){var a=this,c=function(){for(var _ in a)a.hasOwnProperty(_)&&(this[_]=a[_])};c.prototype={is:r.prototype.is,toString:r.prototype.toString};var f=new c;return l(f),f}),new r};function Wi(t,e){if(t=t||{},Te.call(this,Vi),e)Te.call(this,[[xn,hn(t[qe])],[On,hn(t[Is])],[D,/\?1/.test(t[Ms])],[k,bt(t[Ps])],[rt,bt(t[Gi])],[In,bt(t[qs])],[ie,bt(t[Rs])],[Fe,hn(t[Ls])],[nn,bt(t[js])]]);else for(var n in t)this.hasOwnProperty(n)&&typeof t[n]!==Le&&(this[n]=t[n])}function fi(t,e,n,i){return this.get=function(s){return s?this.data.hasOwnProperty(s)?this.data[s]:void 0:this.data},this.set=function(s,o){return this.data[s]=o,this},this.setCH=function(s){return this.uaCH=s,this},this.detectFeature=function(){if(se&&se.userAgent==this.ua)switch(this.itemType){case ae:se.brave&&typeof se.brave.isBrave==vn&&this.set(b,"Brave");break;case we:!this.get(v)&&Re&&Re[D]&&this.set(v,D),this.get(k)=="Macintosh"&&se&&typeof se.standalone!==Le&&se.maxTouchPoints&&se.maxTouchPoints>2&&this.set(k,"iPad").set(v,V);break;case de:!this.get(b)&&Re&&Re[rt]&&this.set(b,Re[rt]);break;case ot:var s=this.data,o=function(r){return s[r].getItem().detectFeature().get()};this.set(ae,o(ae)).set(ke,o(ke)).set(we,o(we)).set(Se,o(Se)).set(de,o(de))}return this},this.parseUA=function(){return this.itemType!=ot&&li.call(this.data,this.ua,this.rgxMap),this.itemType==ae&&this.set(St,_n(this.get(w))),this},this.parseCH=function(){var s=this.uaCH,o=this.rgxMap;switch(this.itemType){case ae:var r=s[On]||s[xn],l;if(r)for(var a in r){var c=Ve(/(Google|Microsoft) /,r[a].brand||r[a]),f=r[a].version;!/not.a.brand/i.test(c)&&(!l||/chrom/i.test(l)&&!/chromi/i.test(c))&&(this.set(b,c).set(w,f).set(St,_n(f)),l=c)}break;case ke:var _=s[ie];_&&(_&&s[nn]=="64"&&(_+="64"),li.call(this.data,_+";",o));break;case we:if(s[D]&&this.set(v,D),s[k]&&this.set(k,s[k]),s[k]=="Xbox"&&this.set(v,nt).set(A,Gt),s[Fe]){var h;if(typeof s[Fe]!="string")for(var m=0;!h&&m<s[Fe].length;)h=Qt(s[Fe][m++],ci);else h=Qt(s[Fe],ci);this.set(v,h)}break;case de:var d=s[rt];if(d){var T=s[In];d==Tn&&(T=parseInt(_n(T),10)>=13?"11":"10"),this.set(b,d).set(w,T)}this.get(b)==Tn&&s[k]=="Xbox"&&this.set(b,"Xbox").set(w,void 0);break;case ot:var y=this.data,C=function(x){return y[x].getItem().setCH(s).parseCH().get()};this.set(ae,C(ae)).set(ke,C(ke)).set(we,C(we)).set(Se,C(Se)).set(de,C(de))}return this},Te.call(this,[["itemType",t],["ua",e],["uaCH",i],["rgxMap",n],["data",Us(this,t)]]),this}function ye(t,e,n){if(typeof t===ct?(Kt(t,!0)?(typeof e===ct&&(n=e),e=t):(n=t,e=void 0),t=void 0):typeof t===yn&&!Kt(e,!0)&&(n=e,e=void 0),!(this instanceof ye))return new ye(t,e,n).getResult();var i=typeof t===yn?t:se&&se.userAgent?se.userAgent:n&&n[Qn]?n[Qn]:at,s=new Wi(n,!0),o=e?Ds(ui,e):ui,r=function(l){return l==ot?function(){return new fi(l,i,o,s).set("ua",i).set(ae,this.getBrowser()).set(ke,this.getCPU()).set(we,this.getDevice()).set(Se,this.getEngine()).set(de,this.getOS()).get()}:function(){return new fi(l,i,o[l],s).parseUA().get()}};return Te.call(this,[["getBrowser",r(ae)],["getCPU",r(ke)],["getDevice",r(we)],["getEngine",r(Se)],["getOS",r(de)],["getResult",r(ot)],["getUA",function(){return i}],["setUA",function(l){return ft(l)&&(i=l.length>Sn?Tt(l,Sn):l),this}]]).setUA(i),this}ye.VERSION=Os;ye.BROWSER=sn([b,w,St,v]);ye.CPU=sn([ie]);ye.DEVICE=sn([k,A,v,nt,D,le,V,Bt,kn]);ye.ENGINE=ye.OS=sn([b,w]);function zs(t,{delay:e=0,duration:n=400,easing:i=We}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:o=>`opacity: ${o*s}`}}function Fs(t,{delay:e=0,duration:n=400,easing:i=zi,x:s=0,y:o=0,opacity:r=0}={}){const l=getComputedStyle(t),a=+l.opacity,c=l.transform==="none"?"":l.transform,f=a*(1-r),[_,h]=Fn(s),[m,d]=Fn(o);return{delay:e,duration:n,easing:i,css:(T,y)=>`
			transform: ${c} translate(${(1-T)*_}${h}, ${(1-T)*m}${d});
			opacity: ${a-f*y}`}}function Bs(t,{from:e,to:n},i={}){const s=getComputedStyle(t),o=s.transform==="none"?"":s.transform,[r,l]=s.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/n.width-(n.left+r),c=e.top+e.height*l/n.height-(n.top+l),{delay:f=0,duration:_=m=>Math.sqrt(m)*120,easing:h=zi}=i;return{delay:f,duration:At(_)?_(Math.sqrt(a*a+c*c)):_,easing:h,css:(m,d)=>{const T=d*a,y=d*c,C=m+d*e.width/n.width,x=m+d*e.height/n.height;return`transform: ${o} translate(${T}px, ${y}px) scale(${C}, ${x});`}}}const Gs={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function Vs(){const{subscribe:t,update:e}=ut(new Array),n={};let i=0;function s(c){return c instanceof Object}function o(c="default",f={}){return n[c]=f,n}function r(c,f){const _={target:"default",...s(c)?c:{...f,msg:c}},h=n[_.target]||{},m={...Gs,...h,..._,theme:{...h.theme,..._.theme},classes:[...h.classes||[],..._.classes||[]],id:++i};return e(d=>m.reversed?[...d,m]:[m,...d]),i}function l(c){e(f=>{if(!f.length||c===0)return[];if(typeof c=="function")return f.filter(h=>c(h));if(s(c))return f.filter(h=>h.target!==c.target);const _=c||Math.max(...f.map(h=>h.id));return f.filter(h=>h.id!==_)})}function a(c,f){const _=s(c)?c:{...f,id:c};e(h=>{const m=h.findIndex(d=>d.id===_.id);return m>-1&&(h[m]={...h[m],..._}),h})}return{subscribe:t,push:r,pop:l,set:a,_init:o}}const Z=Vs();function Ws(t){let e,n=t[0].msg+"",i;return{c(){e=new as(!1),i=$t(),e.a=i},m(s,o){e.m(n,s,o),O(s,i,o)},p(s,o){o&1&&n!==(n=s[0].msg+"")&&e.p(n)},i:U,o:U,d(s){s&&E(i),s&&e.d()}}}function Xs(t){let e,n,i;const s=[t[2]];var o=t[0].component.src;function r(l){let a={};for(let c=0;c<s.length;c+=1)a=Vt(a,s[c]);return{props:a}}return o&&(e=Gn(o,r())),{c(){e&&ce(e.$$.fragment),n=$t()},m(l,a){e&&re(e,l,a),O(l,n,a),i=!0},p(l,a){const c=a&4?As(s,[$s(l[2])]):{};if(a&1&&o!==(o=l[0].component.src)){if(e){Ae();const f=e;z(f.$$.fragment,1,0,()=>{oe(f,1)}),$e()}o?(e=Gn(o,r()),ce(e.$$.fragment),H(e.$$.fragment,1),re(e,n.parentNode,n)):e=null}else o&&e.$set(c)},i(l){i||(e&&H(e.$$.fragment,l),i=!0)},o(l){e&&z(e.$$.fragment,l),i=!1},d(l){l&&E(n),e&&oe(e,l)}}}function di(t){let e,n,i;return{c(){e=g("div"),u(e,"class","_toastBtn pe svelte-95rq8t"),u(e,"role","button"),u(e,"tabindex","0")},m(s,o){O(s,e,o),n||(i=[X(e,"click",t[4]),X(e,"keydown",t[8])],n=!0)},p:U,d(s){s&&E(e),n=!1,pe(i)}}}function Js(t){let e,n,i,s,o,r,l,a,c,f;const _=[Xs,Ws],h=[];function m(T,y){return T[0].component?0:1}i=m(t),s=h[i]=_[i](t);let d=t[0].dismissable&&di(t);return{c(){e=g("div"),n=g("div"),s.c(),o=I(),d&&d.c(),r=I(),l=g("progress"),u(n,"class","_toastMsg svelte-95rq8t"),be(n,"pe",t[0].component),u(l,"class","_toastBar svelte-95rq8t"),l.value=t[1],u(e,"role","status"),u(e,"class","_toastItem svelte-95rq8t"),be(e,"pe",t[0].pausable)},m(T,y){O(T,e,y),p(e,n),h[i].m(n,null),p(e,o),d&&d.m(e,null),p(e,r),p(e,l),a=!0,c||(f=[X(e,"mouseenter",t[9]),X(e,"mouseleave",t[6])],c=!0)},p(T,[y]){let C=i;i=m(T),i===C?h[i].p(T,y):(Ae(),z(h[C],1,1,()=>{h[C]=null}),$e(),s=h[i],s?s.p(T,y):(s=h[i]=_[i](T),s.c()),H(s,1),s.m(n,null)),(!a||y&1)&&be(n,"pe",T[0].component),T[0].dismissable?d?d.p(T,y):(d=di(T),d.c(),d.m(e,r)):d&&(d.d(1),d=null),(!a||y&2)&&(l.value=T[1]),(!a||y&1)&&be(e,"pe",T[0].pausable)},i(T){a||(H(s),a=!0)},o(T){z(s),a=!1},d(T){T&&E(e),h[i].d(),d&&d.d(),c=!1,pe(f)}}}function gn(t,e="undefined"){return typeof t===e}function Ys(t,e,n){let i,{item:s}=e,o=s.initial,r=o,l=!1,a={},c;const f=Fi(s.initial,{duration:s.duration,easing:We});Ge(t,f,x=>n(1,i=x));function _(){Z.pop(s.id)}function h(){(i===1||i===0)&&_()}function m(){!l&&i!==o&&(f.set(i,{duration:0}),l=!0)}function d(){if(l){const x=s.duration,j=x-x*((i-r)/(o-r));f.set(o,{duration:j}).then(h),l=!1}}function T(x=document){if(gn(x.hidden))return;const j=()=>x.hidden?m():d(),B="visibilitychange";x.addEventListener(B,j),c=()=>x.removeEventListener(B,j),j()}ms(T),hs(()=>{gn(s.onpop,"function")&&s.onpop(s.id),c&&c()});const y=x=>{x instanceof KeyboardEvent&&["Enter"," "].includes(x.key)&&_()},C=()=>{s.pausable&&m()};return t.$$set=x=>{"item"in x&&n(0,s=x.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(gn(s.progress)||n(0,s.next=s.progress,s)),t.$$.dirty&131&&o!==s.next&&(n(7,o=s.next),r=i,l=!1,f.set(o).then(h)),t.$$.dirty&1&&s.component){const{props:x={},sendIdTo:j}=s.component;n(2,a={...x,...j&&{[j]:s.id}})}},[s,i,a,f,_,m,d,o,y,C]}class Ks extends ge{constructor(e){super(),_e(this,e,Ys,Js,me,{item:0})}}function pi(t,e,n){const i=t.slice();return i[4]=e[n],i}function mi(t,e){let n,i,s,o,r,l,a,c,f=U,_;return i=new Ks({props:{item:e[4]}}),{key:t,first:null,c(){var h;n=g("li"),ce(i.$$.fragment),s=I(),u(n,"class",o=zn((h=e[4].classes)==null?void 0:h.join(" "))+" svelte-1u812xz"),u(n,"style",r=hi(e[4].theme)),this.first=n},m(h,m){O(h,n,m),re(i,n,null),p(n,s),_=!0},p(h,m){var T;e=h;const d={};m&1&&(d.item=e[4]),i.$set(d),(!_||m&1&&o!==(o=zn((T=e[4].classes)==null?void 0:T.join(" "))+" svelte-1u812xz"))&&u(n,"class",o),(!_||m&1&&r!==(r=hi(e[4].theme)))&&u(n,"style",r)},r(){c=n.getBoundingClientRect()},f(){ps(n),f(),qi(n,c)},a(){f(),f=ds(n,c,Bs,{duration:200})},i(h){_||(H(i.$$.fragment,h),lt(()=>{_&&(a&&a.end(1),l=vs(n,Fs,e[4].intro),l.start())}),_=!0)},o(h){z(i.$$.fragment,h),l&&l.invalidate(),a=ys(n,zs,{}),_=!1},d(h){h&&E(n),oe(i),h&&a&&a.end()}}}function Qs(t){let e,n=[],i=new Map,s,o=t[0];const r=l=>l[4].id;for(let l=0;l<o.length;l+=1){let a=pi(t,o,l),c=r(a);i.set(c,n[l]=mi(c,a))}return{c(){e=g("ul");for(let l=0;l<n.length;l+=1)n[l].c();u(e,"class","_toastContainer svelte-1u812xz")},m(l,a){O(l,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);s=!0},p(l,[a]){if(a&1){o=l[0],Ae();for(let c=0;c<n.length;c+=1)n[c].r();n=Ts(n,a,r,1,l,o,i,e,Ss,mi,null,pi);for(let c=0;c<n.length;c+=1)n[c].a();$e()}},i(l){if(!s){for(let a=0;a<o.length;a+=1)H(n[a]);s=!0}},o(l){for(let a=0;a<n.length;a+=1)z(n[a]);s=!1},d(l){l&&E(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function hi(t){return t?Object.keys(t).reduce((e,n)=>`${e}${n}:${t[n]};`,""):void 0}function Zs(t,e,n){let i;Ge(t,Z,l=>n(3,i=l));let{options:s={}}=e,{target:o="default"}=e,r=[];return t.$$set=l=>{"options"in l&&n(1,s=l.options),"target"in l&&n(2,o=l.target)},t.$$.update=()=>{t.$$.dirty&6&&Z._init(o,s),t.$$.dirty&12&&n(0,r=i.filter(l=>l.target===o))},[r,s,o,i]}class er extends ge{constructor(e){super(),_e(this,e,Zs,Qs,me,{options:1,target:2})}}function rn(t){if(localStorage.getItem("accessToken")==null||localStorage.getItem("refreshToken")==null)return!1;let e=localStorage.getItem("expiryTime"),n=localStorage.getItem("tokenGenerationTime");if(Date.now()-n>e*1e3){let s=new URLSearchParams;s.append("grant_type","refresh_token"),s.append("refresh_token",localStorage.getItem("refreshToken")),s.append("client_id","c32a475ce586434d9c6436b5fa71de71"),fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}).then(o=>(o.ok||Z.push("Error refreshing token"),o.json())).then(o=>{localStorage.setItem("expiryTime",o.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",o.access_token),localStorage.setItem("refreshToken",o.refresh_token),Z.push("Regenerated access token")})}return localStorage.getItem("accessToken")}async function tr(t){const e=sr(128),n=await rr(e);localStorage.setItem("verifier",e),console.log(window.location.href.split(/[?#]/)[0]);const i=new URLSearchParams;i.append("client_id",t),i.append("response_type","code"),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("scope","user-read-playback-state user-modify-playback-state user-read-currently-playing streaming playlist-read-private playlist-read-collaborative user-library-modify user-library-read user-follow-read user-read-private user-read-email"),i.append("code_challenge_method","S256"),i.append("code_challenge",n),console.log(`https://accounts.spotify.com/authorize?${i.toString()}`),document.location=`https://accounts.spotify.com/authorize?${i.toString()}`}async function nr(t,e){const n=localStorage.getItem("verifier"),i=new URLSearchParams;i.append("client_id",t),i.append("grant_type","authorization_code"),i.append("code",e),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("code_verifier",n),await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then(s=>(s.ok||Z.push("HTTP status "+s.status),s.json())).then(s=>(localStorage.setItem("expiryTime",s.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),Z.push("Logged in!"),!0)).catch(s=>{Z.push("Error:",s)})}function ir(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("expiryTime"),localStorage.removeItem("tokenGenerationTime"),localStorage.removeItem("verifier"),Z.push("Logged out!"),setTimeout(()=>{window.location.reload()},1e3)}function sr(t){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}async function rr(t){const e=new TextEncoder().encode(t),n=await window.crypto.subtle.digest("SHA-256",e);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(n)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const dt={redirectToAuthCodeFlow:tr,newAccessToken:nr,getAccessToken:rn},wt={setRepeat:or,setShuffle:lr};async function or(t,e){await fetch(`https://api.spotify.com/v1/me/player/repeat?state=${t}&device_id=${e}`,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${dt.getAccessToken()}`}}).then(()=>!0)}async function lr(t,e){await fetch(`https://api.spotify.com/v1/me/player/shuffle?state=${t}&device_id=${e}`,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${dt.getAccessToken()}`}}).then(()=>!0)}async function ar(){return fetch("https://api.spotify.com/v1/me/player/queue",{method:"GET",headers:{Authorization:`Bearer ${dt.getAccessToken()}`}}).then(t=>(t.ok||console.error("Couldn't get queue from api!"),t.json())).then(t=>t.queue)}async function cr(t){await fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dt.getAccessToken()}`},body:`{ "device_ids": ["${t}"], "play": false }`}).then(e=>{if(e.status==200||e.status==202)return!0;Z.push("Device handoff might not have succeeded. You might have do it from another client by using Spotify connect and choosing this device")})}let _i={track_window:{next_tracks:[]}},$n,Xi;function ur(){const t=ye(window.navigator.userAgent);return`${t.browser.name} · ${t.os.name}`}async function fr(){W=new Spotify.Player({name:`cleanplayer (${ur()}) `,getOAuthToken:t=>{t(rn())},volume:Ii(ze).volume}),W.addListener("player_state_changed",t=>{JSON.stringify(t.track_window.next_tracks)!=JSON.stringify(_i.track_window.next_tracks)?(_i=t,setTimeout(async()=>{let e=await ar();Xi=e,$n&&(console.log("Updated queue: ",e),$n(e))},1e3)):console.log("Chose not to update queue")}),W.addListener("ready",({device_id:t})=>{Be=t})}let dr=Cs([],function(e){$n=e,e(Xi)}),W,Be;function gi(t){let e,n,i,s,o;return{c(){e=ee(`ultra secret debug settings:
  `),n=g("div"),i=g("button"),i.textContent="access token log",u(n,"class","settingItem svelte-1j5hbpr")},m(r,l){O(r,e,l),O(r,n,l),p(n,i),s||(o=X(i,"click",t[4]),s=!0)},p:U,d(r){r&&E(e),r&&E(n),s=!1,o()}}}function pr(t){let e,n,i,s,o,r,l,a,c,f,_,h,m,d,T,y,C,x,j,B,L=t[0]&&gi(t);return{c(){e=g("div"),n=g("div"),i=ee(`Volume
    `),s=g("input"),o=I(),r=g("div"),l=ee(`Rounded album art
    `),a=g("input"),f=I(),_=g("div"),h=g("button"),h.textContent="Log out",m=I(),d=g("div"),d.innerHTML=`<p>This application is fully open source on <a href="https://github.com/jakubiakdev/cleanplayer" class="svelte-1j5hbpr">Github</a></p> 
  <p>Please consider supporting me by <a href="https://ko-fi.com/jakubiakdev" target="_blank" class="svelte-1j5hbpr">buying me a coffee</a></p> 
  <p>© jakubiakdev 2023</p>`,T=I(),y=g("div"),y.innerHTML=`<p>All metadata and audio is from Spotify</p> 
  <p><a href="privacypolicy.txt" target="_blank" rel="noopener noreferrer" class="svelte-1j5hbpr">Privacy Policy</a></p>`,C=I(),L&&L.c(),x=$t(),u(s,"type","range"),u(s,"min","0"),u(s,"max","1"),u(s,"step","0.01"),u(n,"class","settingItem svelte-1j5hbpr"),u(a,"type","checkbox"),a.checked=c=t[1].roundedCorners,u(r,"class","settingItem svelte-1j5hbpr"),u(e,"class","container"),u(h,"class","svelte-1j5hbpr"),u(_,"class","settingItem logout svelte-1j5hbpr"),u(d,"class","info svelte-1j5hbpr"),u(y,"class","info svelte-1j5hbpr")},m(R,$){O(R,e,$),p(e,n),p(n,i),p(n,s),Bn(s,t[1].volume),p(e,o),p(e,r),p(r,l),p(r,a),O(R,f,$),O(R,_,$),p(_,h),O(R,m,$),O(R,d,$),O(R,T,$),O(R,y,$),O(R,C,$),L&&L.m(R,$),O(R,x,$),j||(B=[X(s,"change",t[3]),X(s,"input",t[3]),X(a,"change",t[2]),X(h,"click",ir)],j=!0)},p(R,[$]){$&2&&Bn(s,R[1].volume),$&2&&c!==(c=R[1].roundedCorners)&&(a.checked=c),R[0]?L?L.p(R,$):(L=gi(R),L.c(),L.m(x.parentNode,x)):L&&(L.d(1),L=null)},i:U,o:U,d(R){R&&E(e),R&&E(f),R&&E(_),R&&E(m),R&&E(d),R&&E(T),R&&E(y),R&&E(C),L&&L.d(R),R&&E(x),j=!1,pe(B)}}}function mr(t,e,n){let i;Ge(t,ze,a=>n(1,i=a));let s=!1;ze.subscribe(a=>{W.setVolume(a.volume),n(0,s=a.debugSettings)});function o(a){a.target.checked?ze.update(c=>({...c,roundedCorners:!0})):ze.update(c=>({...c,roundedCorners:!1}))}function r(){i.volume=rs(this.value),ze.set(i)}return[s,i,o,r,()=>{console.log(rn())}]}class hr extends ge{constructor(e){super(),_e(this,e,mr,pr,me,{})}}function yt(t){return t.map(e=>e.height).indexOf(Math.max(...t.map(e=>e.height)))}function _r(t){let e,n,i,s,o,r,l=t[0].name+"",a,c,f,_=t[0].artists[0].name+"",h;return{c(){e=g("div"),n=g("img"),s=I(),o=g("div"),r=g("div"),a=ee(l),c=I(),f=g("div"),h=ee(_),ve(n.src,i=t[0].album.images[yt(t[0].album.images)].url)||u(n,"src",i),u(n,"alt",""),u(n,"class","svelte-1ynzq9s"),u(r,"class","name"),u(f,"class","artist svelte-1ynzq9s"),u(o,"class","info svelte-1ynzq9s"),u(e,"class","card svelte-1ynzq9s")},m(m,d){O(m,e,d),p(e,n),p(e,s),p(e,o),p(o,r),p(r,a),p(o,c),p(o,f),p(f,h)},p(m,[d]){d&1&&!ve(n.src,i=m[0].album.images[yt(m[0].album.images)].url)&&u(n,"src",i),d&1&&l!==(l=m[0].name+"")&&Pe(a,l),d&1&&_!==(_=m[0].artists[0].name+"")&&Pe(h,_)},i:U,o:U,d(m){m&&E(e)}}}function gr(t,e,n){let{song:i}=e;return t.$$set=s=>{"song"in s&&n(0,i=s.song)},[i]}class br extends ge{constructor(e){super(),_e(this,e,gr,_r,me,{song:0})}}function bi(t,e,n){const i=t.slice();return i[1]=e[n],i}function wr(t){let e;return{c(){e=g("p"),e.textContent="Nothing here yet..."},m(n,i){O(n,e,i)},p:U,i:U,o:U,d(n){n&&E(e)}}}function vr(t){let e,n,i=t[0],s=[];for(let r=0;r<i.length;r+=1)s[r]=wi(bi(t,i,r));const o=r=>z(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=$t()},m(r,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,l);O(r,e,l),n=!0},p(r,l){if(l&1){i=r[0];let a;for(a=0;a<i.length;a+=1){const c=bi(r,i,a);s[a]?(s[a].p(c,l),H(s[a],1)):(s[a]=wi(c),s[a].c(),H(s[a],1),s[a].m(e.parentNode,e))}for(Ae(),a=i.length;a<s.length;a+=1)o(a);$e()}},i(r){if(!n){for(let l=0;l<i.length;l+=1)H(s[l]);n=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)z(s[l]);n=!1},d(r){Pi(s,r),r&&E(e)}}}function wi(t){let e,n;return e=new br({props:{song:t[1]}}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},p(i,s){const o={};s&1&&(o.song=i[1]),e.$set(o)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function yr(t){let e,n,i,s;const o=[vr,wr],r=[];function l(a,c){var f;return a[0]!=null&&((f=a[0])==null?void 0:f.length)>0?0:1}return e=l(t),n=r[e]=o[e](t),{c(){n.c(),i=$t()},m(a,c){r[e].m(a,c),O(a,i,c),s=!0},p(a,[c]){let f=e;e=l(a),e===f?r[e].p(a,c):(Ae(),z(r[f],1,1,()=>{r[f]=null}),$e(),n=r[e],n?n.p(a,c):(n=r[e]=o[e](a),n.c()),H(n,1),n.m(i.parentNode,i))},i(a){s||(H(n),s=!0)},o(a){z(n),s=!1},d(a){r[e].d(a),a&&E(i)}}}function kr(t,e,n){let i=[];return dr.subscribe(s=>{n(0,i=s)}),[i]}class Sr extends ge{constructor(e){super(),_e(this,e,kr,yr,me,{})}}function Tr(t){let e,n;return e=new Sr({}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ar(t){let e,n;return e=new hr({}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function $r(t){let e,n,i,s,o,r,l,a,c,f,_,h,m,d,T,y,C;const x=[Ar,Tr],j=[];function B(L,R){return L[0]=="settings"?0:L[0]=="queue"?1:-1}return~(m=B(t))&&(d=j[m]=x[m](t)),{c(){e=g("div"),n=g("div"),i=g("ul"),s=g("li"),o=g("button"),o.innerHTML=`<span class="material-symbols-rounded svelte-lhkqae">queue_music</span>
                Queue`,r=I(),l=g("hr"),a=I(),c=g("li"),f=g("button"),f.innerHTML=`<span class="material-symbols-rounded svelte-lhkqae">tune</span>
                Settings`,_=I(),h=g("div"),d&&d.c(),u(o,"class","svelte-lhkqae"),u(l,"class","svelte-lhkqae"),u(f,"class","svelte-lhkqae"),u(i,"class","svelte-lhkqae"),u(n,"class","itemList svelte-lhkqae"),u(h,"class","main svelte-lhkqae"),u(e,"class","container svelte-lhkqae")},m(L,R){O(L,e,R),p(e,n),p(n,i),p(i,s),p(s,o),p(i,r),p(i,l),p(i,a),p(i,c),p(c,f),p(e,_),p(e,h),~m&&j[m].m(h,null),T=!0,y||(C=[X(o,"click",t[1]),X(f,"click",t[2])],y=!0)},p(L,[R]){let $=m;m=B(L),m!==$&&(d&&(Ae(),z(j[$],1,1,()=>{j[$]=null}),$e()),~m?(d=j[m],d||(d=j[m]=x[m](L),d.c()),H(d,1),d.m(h,null)):d=null)},i(L){T||(H(d),T=!0)},o(L){z(d),T=!1},d(L){L&&E(e),~m&&j[m].d(),y=!1,pe(C)}}}function Er(t,e,n){let i="queue";return[i,()=>{n(0,i="queue")},()=>{n(0,i="settings")}]}class Cr extends ge{constructor(e){super(),_e(this,e,Er,$r,me,{})}}function xr(t){let e,n,i;const s=t[1].default,o=Qi(s,t,t[0],null);return{c(){e=g("div"),n=g("div"),o&&o.c(),u(n,"class","container svelte-qufn0i"),u(e,"class","background svelte-qufn0i")},m(r,l){O(r,e,l),p(e,n),o&&o.m(n,null),i=!0},p(r,[l]){o&&o.p&&(!i||l&1)&&es(o,s,r,r[0],i?Zi(s,r[0],l,null):ts(r[0]),null)},i(r){i||(H(o,r),i=!0)},o(r){z(o,r),i=!1},d(r){r&&E(e),o&&o.d(r)}}}function Or(t,e,n){let{$$slots:i={},$$scope:s}=e;return t.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,i]}class Ji extends ge{constructor(e){super(),_e(this,e,Or,xr,me,{})}}const Zt="/assets/Spotify-6089a3df.png";function vi(t){let e,n,i,s,o,r,l,a;return{c(){e=g("button"),n=ee("Log in with Spotify"),i=g("img"),o=I(),r=g("div"),r.innerHTML=`<h1><a href="privacypolicy.txt" target="_blank" class="svelte-xagkxi">Privacy Policy</a></h1> 
        <p class="svelte-xagkxi">This application requires a Spotify Premium account</p>`,ve(i.src,s=Zt)||u(i,"src",s),u(i,"alt",""),u(i,"class","svelte-xagkxi"),u(e,"class","mainAction svelte-xagkxi"),u(r,"class","svelte-xagkxi")},m(c,f){O(c,e,f),p(e,n),p(e,i),O(c,o,f),O(c,r,f),l||(a=X(e,"click",t[1]),l=!0)},p:U,d(c){c&&E(e),c&&E(o),c&&E(r),l=!1,a()}}}function yi(t){let e,n,i,s,o;return{c(){e=g("h1"),e.textContent="Please wait...",n=I(),i=g("button"),i.textContent="Retry",u(e,"class","mainAction svelte-xagkxi"),u(i,"class","mainAction svelte-xagkxi")},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l),s||(o=X(i,"click",t[1]),s=!0)},p:U,d(r){r&&E(e),r&&E(n),r&&E(i),s=!1,o()}}}function Ir(t){let e,n,i=t[0]=="bad"&&vi(t),s=t[0]=="waiting"&&yi(t);return{c(){e=g("div"),i&&i.c(),n=I(),s&&s.c(),u(e,"class","container svelte-xagkxi")},m(o,r){O(o,e,r),i&&i.m(e,null),p(e,n),s&&s.m(e,null)},p(o,r){o[0]=="bad"?i?i.p(o,r):(i=vi(o),i.c(),i.m(e,n)):i&&(i.d(1),i=null),o[0]=="waiting"?s?s.p(o,r):(s=yi(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&E(e),i&&i.d(),s&&s.d()}}}function Rr(t){let e,n;return e=new Ji({props:{$$slots:{default:[Ir]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},p(i,[s]){const o={};s&5&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function jr(t,e,n){let{authState:i}=e;function s(){dt.redirectToAuthCodeFlow("c32a475ce586434d9c6436b5fa71de71")}return t.$$set=o=>{"authState"in o&&n(0,i=o.authState)},[i,s]}class Lr extends ge{constructor(e){super(),_e(this,e,jr,Rr,me,{authState:0})}}function Mr(t){let e,n,i,s,o,r,l,a;return{c(){e=g("div"),n=g("button"),n.textContent="Enter the app",i=I(),s=g("p"),s.textContent="Clicking this button you will transfer your Spotify playback session to this app. You can select new music from your other client",o=I(),r=g("p"),r.textContent="For playback to work, you need to interact with this page before audio can start playing",u(n,"class","mainAction svelte-rtxgsv"),u(e,"class","container svelte-rtxgsv")},m(c,f){O(c,e,f),p(e,n),p(e,i),p(e,s),p(e,o),p(e,r),l||(a=X(n,"click",t[0]),l=!0)},p:U,d(c){c&&E(e),l=!1,a()}}}function Pr(t){let e,n;return e=new Ji({props:{$$slots:{default:[Mr]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},p(i,[s]){const o={};s&2&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function qr(t){return[async()=>{W.activateElement(),await cr(Be),ye(window.navigator.userAgent).device.type=="mobile"&&document.body.requestFullscreen({navigationUI:"hide"}),Bi.set(!0)}]}class Nr extends ge{constructor(e){super(),_e(this,e,qr,Pr,me,{})}}const Hr="/assets/SpotifyBlack-72c4f97f.png";function Dr(t=8){const e=new Uint8Array(t/2);return crypto.getRandomValues(e),Array.from(e,n=>("0"+n.toString(16)).slice(-2)).join("")}localStorage.getItem("userSocketHash")===null&&localStorage.setItem("userSocketHash",JSON.stringify(Dr()));const Ur=JSON.parse(localStorage.getItem("userSocketHash"));let zr=new WebSocket(`wss://amused-consideration-production.up.railway.app/ws/webclient/${Ur}`),Yi=ut(zr);function ki(t,e,n){const i=t.slice();return i[17]=e[n],i}function Si(t){let e,n;return e=new Lr({props:{authState:t[2]}}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},p(i,s){const o={};s[0]&4&&(o.authState=i[2]),e.$set(o)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ti(t){let e,n;return e=new Cr({}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ai(t){let e,n;return e=new Nr({}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function $i(t){let e,n,i,s,o,r,l,a,c,f,_,h,m,d,T,y,C,x,j,B,L,R=t[3].track_window.current_track.artists,$=[];for(let N=0;N<R.length;N+=1)$[N]=Ei(ki(t,R,N));return{c(){e=g("div"),n=g("div"),i=g("a"),s=g("img"),r=I(),l=g("span"),l.textContent="Song",a=I(),c=g("span"),c.textContent="open_in_new",_=I();for(let N=0;N<$.length;N+=1)$[N].c();h=I(),m=g("div"),d=g("a"),T=g("img"),C=I(),x=g("span"),x.textContent="Album",j=I(),B=g("span"),B.textContent="open_in_new",ve(s.src,o=Zt)||u(s,"src",o),u(s,"alt",""),u(s,"class","svelte-1a52jeh"),u(l,"class","text svelte-1a52jeh"),u(c,"class","material-symbols-rounded svelte-1a52jeh"),u(i,"href",f="https://open.spotify.com/track/"+t[3].track_window.current_track.id),u(i,"target","_blank"),u(i,"class","svelte-1a52jeh"),u(n,"class","item svelte-1a52jeh"),ve(T.src,y=Zt)||u(T,"src",y),u(T,"alt",""),u(T,"class","svelte-1a52jeh"),u(x,"class","text svelte-1a52jeh"),u(B,"class","material-symbols-rounded svelte-1a52jeh"),u(d,"href",L="https://open.spotify.com/album/"+t[3].track_window.current_track.album.uri.slice(14)),u(d,"target","_blank"),u(d,"class","svelte-1a52jeh"),u(m,"class","item svelte-1a52jeh"),u(e,"class","attributionMenu svelte-1a52jeh")},m(N,G){O(N,e,G),p(e,n),p(n,i),p(i,s),p(i,r),p(i,l),p(i,a),p(i,c),p(e,_);for(let F=0;F<$.length;F+=1)$[F]&&$[F].m(e,null);p(e,h),p(e,m),p(m,d),p(d,T),p(d,C),p(d,x),p(d,j),p(d,B)},p(N,G){if(G[0]&8&&f!==(f="https://open.spotify.com/track/"+N[3].track_window.current_track.id)&&u(i,"href",f),G[0]&8){R=N[3].track_window.current_track.artists;let F;for(F=0;F<R.length;F+=1){const he=ki(N,R,F);$[F]?$[F].p(he,G):($[F]=Ei(he),$[F].c(),$[F].m(e,h))}for(;F<$.length;F+=1)$[F].d(1);$.length=R.length}G[0]&8&&L!==(L="https://open.spotify.com/album/"+N[3].track_window.current_track.album.uri.slice(14))&&u(d,"href",L)},d(N){N&&E(e),Pi($,N)}}}function Ei(t){let e,n,i,s,o,r,l,a=t[17].name+"",c,f,_,h;return{c(){e=g("div"),n=g("a"),i=g("img"),o=I(),r=g("span"),l=ee("Artist: "),c=ee(a),f=I(),_=g("span"),_.textContent="open_in_new",ve(i.src,s=Zt)||u(i,"src",s),u(i,"alt",""),u(i,"class","svelte-1a52jeh"),u(r,"class","text svelte-1a52jeh"),u(_,"class","material-symbols-rounded svelte-1a52jeh"),u(n,"href",h="https://open.spotify.com/artist/"+t[17].uri.slice(15)),u(n,"target","_blank"),u(n,"class","svelte-1a52jeh"),u(e,"class","item svelte-1a52jeh")},m(m,d){O(m,e,d),p(e,n),p(n,i),p(n,o),p(n,r),p(r,l),p(r,c),p(n,f),p(n,_)},p(m,d){d[0]&8&&a!==(a=m[17].name+"")&&Pe(c,a),d[0]&8&&h!==(h="https://open.spotify.com/artist/"+m[17].uri.slice(15))&&u(n,"href",h)},d(m){m&&E(e)}}}function Fr(t){let e;return{c(){e=g("span"),e.textContent="repeat_one",u(e,"class","material-symbols-rounded turnedOn svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&E(e)}}}function Br(t){let e;return{c(){e=g("span"),e.textContent="repeat",u(e,"class","material-symbols-rounded turnedOn svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&E(e)}}}function Gr(t){let e;return{c(){e=g("span"),e.textContent="repeat",u(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&E(e)}}}function Ci(t){let e,n,i,s,o;return{c(){e=g("div"),n=g("span"),i=ee(t[9]),s=I(),o=ee(t[8]),u(n,"class","material-symbols-rounded"),u(e,"class","infoText svelte-1a52jeh")},m(r,l){O(r,e,l),p(e,n),p(n,i),p(e,s),p(e,o)},p(r,l){l[0]&512&&Pe(i,r[9]),l[0]&256&&Pe(o,r[8])},d(r){r&&E(e)}}}function Vr(t){let e;return{c(){e=g("span"),e.textContent="play_circle",u(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&E(e)}}}function Wr(t){let e;return{c(){e=g("span"),e.textContent="pause_circle",u(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&E(e)}}}function Xr(t){let e,n,i,s,o,r,l,a,c,f,_,h,m,d,T,y,C,x,j,B,L,R,$,N,G,F,he,Et,Ee,ue,pt,on,Ce,Ne,q,fe,M,He,Rn,jn,Xe,Ct,ln,Ln,xt,an,Mn,xe,De,Ot,It,Pn,Je,qn,Ue,Rt,jt,J,cn,Nn,Y=(t[2]=="bad"||t[2]=="waiting")&&Si(t),K=t[0]&&Ti(),Q=!t[15]&&t[2]=="good"&&Ai(),te=t[1]&&$i(t);o=new er({});function Hn(S,P){return S[12]==0?Gr:S[12]==1?Br:Fr}let Lt=Hn(t),Oe=Lt(t),ne=t[8]&&Ci(t);function Dn(S,P){return S[10]?Wr:Vr}let Mt=Dn(t),Ie=Mt(t);return{c(){Y&&Y.c(),e=I(),K&&K.c(),n=I(),Q&&Q.c(),i=I(),te&&te.c(),s=I(),ce(o.$$.fragment),r=I(),l=g("div"),l.innerHTML=`<h1>This aspect ratio is not yet supported</h1> 
  <h3>Please resize the application window</h3>`,a=I(),c=g("div"),f=I(),_=g("div"),h=I(),m=g("div"),d=g("div"),T=g("button"),y=g("img"),x=I(),j=g("button"),B=g("span"),B.textContent="shuffle",R=I(),$=g("button"),Oe.c(),G=I(),F=g("button"),he=g("span"),he.textContent="menu",Et=I(),Ee=g("div"),ue=g("img"),on=I(),Ce=g("div"),Ne=g("div"),q=g("span"),q.textContent="album",fe=I(),M=g("a"),He=ee(t[6]),Rn=I(),ne&&ne.c(),jn=I(),Xe=g("div"),Ct=g("div"),ln=ee(t[4]),Ln=I(),xt=g("div"),an=ee(t[17]),Mn=I(),xe=g("div"),De=g("button"),Ot=g("span"),Ot.textContent="skip_previous",Pn=I(),Je=g("button"),Ie.c(),qn=I(),Ue=g("button"),Rt=g("span"),Rt.textContent="skip_next",u(l,"class","unsupportedSizeNotice svelte-1a52jeh"),u(c,"class","progress svelte-1a52jeh"),Ye(c,"width",t[16]+"vw"),u(_,"class","background svelte-1a52jeh"),Ye(_,"background-image","url("+t[5]+")"),ve(y.src,C=Hr)||u(y,"src",C),u(y,"alt","Open on Spotify"),u(y,"class","svelte-1a52jeh"),be(y,"imageTurnedOn",t[1]),u(T,"class","spotify svelte-1a52jeh"),u(B,"class","material-symbols-rounded svelte-1a52jeh"),be(B,"turnedOn",t[11]),u(j,"class","shuffle svelte-1a52jeh"),j.disabled=L=t[13].toggling_shuffle,u($,"class","repeat svelte-1a52jeh"),$.disabled=N=t[13].toggling_repeat_context||t[13].toggling_repeat_track,u(he,"class","material-symbols-rounded svelte-1a52jeh"),be(he,"turnedOn",t[0]),u(F,"class","settings svelte-1a52jeh"),u(d,"class","sideActions svelte-1a52jeh"),ve(ue.src,pt=t[5])||u(ue,"src",pt),u(ue,"alt",""),u(ue,"class","albumArt svelte-1a52jeh"),Ye(ue,"border-radius",t[14]),u(q,"class","material-symbols-rounded"),u(M,"href",t[7]),u(M,"class","clickable svelte-1a52jeh"),u(M,"target","_blank"),u(Ne,"class","infoText svelte-1a52jeh"),u(Ce,"class","albumInfo svelte-1a52jeh"),u(Ee,"class","albumContainer svelte-1a52jeh"),u(Ct,"class","title svelte-1a52jeh"),u(xt,"class","artist svelte-1a52jeh"),u(Xe,"class","trackInfo svelte-1a52jeh"),u(Ot,"class","material-symbols-rounded svelte-1a52jeh"),u(De,"class","side svelte-1a52jeh"),De.disabled=It=t[13].skipping_prev,u(Je,"class","play svelte-1a52jeh"),u(Rt,"class","material-symbols-rounded svelte-1a52jeh"),u(Ue,"class","side svelte-1a52jeh"),Ue.disabled=jt=t[13].skipping_next,u(xe,"class","controls svelte-1a52jeh"),u(m,"class","playerContainer svelte-1a52jeh")},m(S,P){Y&&Y.m(S,P),O(S,e,P),K&&K.m(S,P),O(S,n,P),Q&&Q.m(S,P),O(S,i,P),te&&te.m(S,P),O(S,s,P),re(o,S,P),O(S,r,P),O(S,l,P),O(S,a,P),O(S,c,P),O(S,f,P),O(S,_,P),O(S,h,P),O(S,m,P),p(m,d),p(d,T),p(T,y),p(d,x),p(d,j),p(j,B),p(d,R),p(d,$),Oe.m($,null),p(d,G),p(d,F),p(F,he),p(m,Et),p(m,Ee),p(Ee,ue),p(Ee,on),p(Ee,Ce),p(Ce,Ne),p(Ne,q),p(Ne,fe),p(Ne,M),p(M,He),p(Ce,Rn),ne&&ne.m(Ce,null),p(m,jn),p(m,Xe),p(Xe,Ct),p(Ct,ln),p(Xe,Ln),p(Xe,xt),p(xt,an),p(m,Mn),p(m,xe),p(xe,De),p(De,Ot),p(xe,Pn),p(xe,Je),Ie.m(Je,null),p(xe,qn),p(xe,Ue),p(Ue,Rt),J=!0,cn||(Nn=[X(y,"click",t[22]),X(j,"click",t[20]),X($,"click",t[21]),X(F,"click",t[23]),X(De,"click",t[24]),X(Je,"click",t[19]),X(Ue,"click",t[25])],cn=!0)},p(S,P){S[2]=="bad"||S[2]=="waiting"?Y?(Y.p(S,P),P[0]&4&&H(Y,1)):(Y=Si(S),Y.c(),H(Y,1),Y.m(e.parentNode,e)):Y&&(Ae(),z(Y,1,1,()=>{Y=null}),$e()),S[0]?K?P[0]&1&&H(K,1):(K=Ti(),K.c(),H(K,1),K.m(n.parentNode,n)):K&&(Ae(),z(K,1,1,()=>{K=null}),$e()),!S[15]&&S[2]=="good"?Q?P[0]&32772&&H(Q,1):(Q=Ai(),Q.c(),H(Q,1),Q.m(i.parentNode,i)):Q&&(Ae(),z(Q,1,1,()=>{Q=null}),$e()),S[1]?te?te.p(S,P):(te=$i(S),te.c(),te.m(s.parentNode,s)):te&&(te.d(1),te=null),(!J||P[0]&65536)&&Ye(c,"width",S[16]+"vw"),(!J||P[0]&32)&&Ye(_,"background-image","url("+S[5]+")"),(!J||P[0]&2)&&be(y,"imageTurnedOn",S[1]),(!J||P[0]&2048)&&be(B,"turnedOn",S[11]),(!J||P[0]&8192&&L!==(L=S[13].toggling_shuffle))&&(j.disabled=L),Lt!==(Lt=Hn(S))&&(Oe.d(1),Oe=Lt(S),Oe&&(Oe.c(),Oe.m($,null))),(!J||P[0]&8192&&N!==(N=S[13].toggling_repeat_context||S[13].toggling_repeat_track))&&($.disabled=N),(!J||P[0]&1)&&be(he,"turnedOn",S[0]),(!J||P[0]&32&&!ve(ue.src,pt=S[5]))&&u(ue,"src",pt),(!J||P[0]&16384)&&Ye(ue,"border-radius",S[14]),(!J||P[0]&64)&&Pe(He,S[6]),(!J||P[0]&128)&&u(M,"href",S[7]),S[8]?ne?ne.p(S,P):(ne=Ci(S),ne.c(),ne.m(Ce,null)):ne&&(ne.d(1),ne=null),(!J||P[0]&16)&&Pe(ln,S[4]),(!J||P[0]&131072)&&Pe(an,S[17]),(!J||P[0]&8192&&It!==(It=S[13].skipping_prev))&&(De.disabled=It),Mt!==(Mt=Dn(S))&&(Ie.d(1),Ie=Mt(S),Ie&&(Ie.c(),Ie.m(Je,null))),(!J||P[0]&8192&&jt!==(jt=S[13].skipping_next))&&(Ue.disabled=jt)},i(S){J||(H(Y),H(K),H(Q),H(o.$$.fragment,S),J=!0)},o(S){z(Y),z(K),z(Q),z(o.$$.fragment,S),J=!1},d(S){Y&&Y.d(S),S&&E(e),K&&K.d(S),S&&E(n),Q&&Q.d(S),S&&E(i),te&&te.d(S),S&&E(s),oe(o,S),S&&E(r),S&&E(l),S&&E(a),S&&E(c),S&&E(f),S&&E(_),S&&E(h),S&&E(m),Oe.d(),ne&&ne.d(),Ie.d(),cn=!1,pe(Nn)}}}function Jr(t,e,n){let i,s,o;Ge(t,Yi,q=>n(29,i=q)),Ge(t,Bi,q=>n(15,s=q));let r=i,l=!1,a=!1,c;localStorage.getItem("accessToken")?c="waiting":c="bad";let f={},_="",h="",m="",d="",T="#",y="",C="",x=!1;const j=Fi(0,{duration:1e3,easing:We});Ge(t,j,q=>n(16,o=q));let B=1e5,L=0,R=!1,$=!1,N={pausing:!1,peeking_next:!1,peeking_prev:!1,resuming:!1,seeking:!1,skipping_next:!1,skipping_prev:!1},G;ze.subscribe(q=>{q.roundedCorners?n(14,G="2ch"):n(14,G=0)});function F(){x?W.pause().then(()=>{n(10,x=!1)}):W.resume().then(()=>{n(10,x=!0)})}async function he(){R==!0?(await wt.setShuffle(!1,Be),n(11,R=!1)):(await wt.setShuffle(!0,Be),n(11,R=!0))}async function Et(){$==0?(await wt.setRepeat("context",Be),n(12,$=1)):$==1?(await wt.setRepeat("track",Be),n(12,$=2)):n(12,$=2)&&(await wt.setRepeat("off",Be),n(12,$=0))}setInterval(Ee,1e3);function Ee(){x&&(L=L+1e3,j.set(L*100/B))}function ue(q){const fe=f;if(n(3,f=q),W.pause().then(()=>{n(10,x=!1)}),q&&(fe===null||fe.track_window.current_track.id!==q.track_window.current_track.id)){let M=q.track_window.current_track;q.paused;let He={id:M.id,artist:M.artists[0].name,name:M.name,albumName:M.album.name,albumArt:q.track_window.current_track.album.images[yt(q.track_window.current_track.album.images)].url};r.send(JSON.stringify(He))}n(4,_=q.track_window.current_track.name),n(17,h=q.track_window.current_track.artists.map(M=>M.name).join(", ")),n(5,m=q.track_window.current_track.album.images[yt(q.track_window.current_track.album.images)].url),n(6,d=q.track_window.current_track.album.name),n(7,T=`https://open.spotify.com/album/${q.track_window.current_track.album.uri.slice(14)}`),n(8,y=""),n(9,C=""),q.context.uri.startsWith("spotify:playlist")&&(n(9,C="library_music"),n(8,y=q.context.metadata.context_description)),q.context.uri.startsWith("spotify:user")&&(n(9,C="favorite"),n(8,y="Liked Songs")),B=q.duration,L=q.position,n(11,R=q.shuffle),n(12,$=q.repeat_mode),n(13,N=q.disallows)}return r.onmessage=function(q){let fe=q.data;if(console.log("message sent from lua"),fe==="nextSong")W.nextTrack().then(()=>{console.log("track has been skipped",error)}).catch(M=>{console.error("Error skipping tracks",M)});else if(fe==="prevSong")W.previousTrack().then(()=>{console.log("going to last track",error)}).catch(M=>{console.error("Error going back",M)});else if(fe==="luaConnected"){let M=f.track_window.current_track,He={id:M.id,artist:M.artists[0].name,name:M.name,albumName:M.album.name,albumArt:f.track_window.current_track.album.images[yt(f.track_window.current_track.album.images)].url};r.send(JSON.stringify(He))}},window.onSpotifyWebPlaybackSDKReady=async function(){const q=new URLSearchParams(window.location.search).get("code");q&&(await dt.newAccessToken("c32a475ce586434d9c6436b5fa71de71",q),window.history.replaceState({},document.title,window.location.origin+window.location.pathname),n(2,c="waiting"));let fe=rn();fe==!1||fe==null?n(2,c="bad"):(fr(),W.addListener("ready",({device_id:M})=>{console.log("Ready with Device ID",M),Z.push(`Ready with Device ID ${M}`),n(2,c="good")}),W.addListener("not_ready",({device_id:M})=>{console.log("Device ID has gone offline",M),Z.push(`Device ID has gone offline ${M}`)}),W.addListener("initialization_error",({message:M})=>{console.error(M),Z.push(`Spotify initialization error: ${M}`)}),W.addListener("authentication_error",({message:M})=>{console.error(M),Z.push(`Spotify authentication error: ${M}`),n(2,c="bad")}),W.addListener("account_error",({message:M})=>{console.error(M),Z.push(`Spotify account error: ${M}`),n(2,c="bad")}),W.connect().then(M=>{M&&(console.log("The Web Playback SDK successfully connected to Spotify!"),Z.push("Successfully connected to Spotify"))}),W.addListener("player_state_changed",M=>{ue(M)}))},[l,a,c,f,_,m,d,T,y,C,x,R,$,N,G,s,o,h,j,F,he,Et,()=>{n(1,a=!a)},()=>{n(0,l=!l)},()=>{W.previousTrack(),W.pause().then(()=>{n(10,x=!1)})},()=>{W.nextTrack(),W.pause().then(()=>{n(10,x=!1)})}]}class Yr extends ge{constructor(e){super(),_e(this,e,Jr,Xr,me,{},null,[-1,-1])}}function Kr(t){let e,n,i,s,o,r,l,a,c,f,_,h;return{c(){e=g("div"),n=g("div"),i=g("h1"),i.textContent="Getting started",s=I(),o=g("div"),r=g("p"),r.textContent="> wget https://cloud-catcher.squiddev.cc/cloud.lua",l=I(),a=g("p"),a.textContent=`> spotify.lua ${t[0]}`,c=I(),f=g("div"),f.innerHTML='<p class="svelte-1emd8dp">For more information, as well as source code and screenshots, see the <a href="https://github.com/SquidDev-CC/cloud-catcher" class="svelte-1emd8dp">GitHub repository</a>.</p>',_=I(),h=g("div"),h.innerHTML=`<h2 class="svelte-1emd8dp">Getting started</h2> 
      <p class="svelte-1emd8dp">You will require:</p> 
      <ul class="svelte-1emd8dp"><li class="svelte-1emd8dp">An internet connection</li> 
        <li class="svelte-1emd8dp"><a href="https://tweaked.cc" class="svelte-1emd8dp">CC: Tweaked</a></li></ul> 
      <p class="svelte-1emd8dp">Then just follow the instructions at the top!</p>`,u(i,"class","svelte-1emd8dp"),u(r,"class","svelte-1emd8dp"),u(a,"class","svelte-1emd8dp"),u(o,"class","code-block svelte-1emd8dp"),u(n,"class","getting-started svelte-1emd8dp"),u(f,"class","content"),u(h,"class","getting-started svelte-1emd8dp"),u(e,"class","container svelte-1emd8dp")},m(m,d){O(m,e,d),p(e,n),p(n,i),p(n,s),p(n,o),p(o,r),p(o,l),p(o,a),p(e,c),p(e,f),p(e,_),p(e,h)},p:U,i:U,o:U,d(m){m&&E(e)}}}function Qr(t){let e,n;return e=new Yr({}),{c(){ce(e.$$.fragment)},m(i,s){re(e,i,s),n=!0},p:U,i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){z(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Zr(t){let e,n,i,s,o,r,l,a,c,f,_,h;const m=[Qr,Kr],d=[];function T(y,C){return y[1]?0:1}return e=T(t),n=d[e]=m[e](t),{c(){n.c(),i=I(),s=g("link"),o=g("link"),r=g("link"),l=g("style"),l.textContent=`body {
      padding: 0;
      margin: 0;
      font-family: "Libre Franklin", sans-serif;
      color: #fbfcfc;
      /* font-family: Arial, Helvetica, sans-serif; */
    }
  `,a=g("script"),f=g("link"),_=g("style"),_.textContent=`.material-symbols-outlined {
      font-variation-settings:
        "FILL" 0,
        "wght" 300,
        "GRAD" 0,
        "opsz" 48;
    }`,u(s,"rel","preconnect"),u(s,"href","https://fonts.googleapis.com"),u(o,"rel","preconnect"),u(o,"href","https://fonts.gstatic.com"),u(o,"crossorigin",""),u(r,"href","https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@300&display=swap"),u(r,"rel","stylesheet"),ve(a.src,c="https://sdk.scdn.co/spotify-player.js")||u(a,"src",c),u(f,"rel","stylesheet"),u(f,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,300,0,0")},m(y,C){d[e].m(y,C),O(y,i,C),p(document.head,s),p(document.head,o),p(document.head,r),p(document.head,l),p(document.head,a),p(document.head,f),p(document.head,_),h=!0},p(y,[C]){n.p(y,C)},i(y){h||(H(n),h=!0)},o(y){z(n),h=!1},d(y){d[e].d(y),y&&E(i),E(s),E(o),E(r),E(l),E(a),E(f),E(_)}}}function eo(t,e,n){let i;Ge(t,Yi,l=>n(3,i=l));let s=i;const o=JSON.parse(localStorage.getItem("userSocketHash"));localStorage.getItem("luaSocketConnected")===null&&localStorage.setItem("luaSocketConnected",JSON.stringify(!1));let r=localStorage.getItem("luaSocketConnected");return s.onmessage=function(l){let a=l.data;a=="luaConnected"?localStorage.setItem("luaSocketConnected",JSON.stringify(!0)):a=="luaDisconnect"&&localStorage.setItem("luaSocketConnected",JSON.stringify(!1))},[o,r]}class to extends ge{constructor(e){super(),_e(this,e,eo,Zr,me,{})}}new to({target:document.getElementById("app")});
