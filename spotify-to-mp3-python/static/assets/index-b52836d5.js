(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function F(){}const Je=t=>t;function Qt(t,e){for(const n in e)t[n]=e[n];return t}function Li(t){return t()}function Jn(){return Object.create(null)}function _e(t){t.forEach(Li)}function It(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let zt;function Se(t,e){return zt||(zt=document.createElement("a")),zt.href=e,t===zt.href}function ts(t){return Object.keys(t).length===0}function Ni(t,...e){if(t==null)return F;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Mi(t){let e;return Ni(t,n=>e=n)(),e}function qe(t,e,n){t.$$.on_destroy.push(Ni(e,n))}function ns(t,e,n,i){if(t){const s=Pi(t,e,n,i);return t[0](s)}}function Pi(t,e,n,i){return t[1]&&i?Qt(n.ctx.slice(),t[1](i(e))):n.ctx}function is(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)r[a]=e.dirty[a]|s[a];return r}return e.dirty|s}return e.dirty}function ss(t,e,n,i,s,r){if(s){const o=Pi(e,n,i,r);t.p(o,s)}}function os(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Xn(t){return t??""}function Yn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const qi=typeof window<"u";let ln=qi?()=>window.performance.now():()=>Date.now(),Nn=qi?t=>requestAnimationFrame(t):F;const lt=new Set;function Hi(t){lt.forEach(e=>{e.c(t)||(lt.delete(e),e.f())}),lt.size!==0&&Nn(Hi)}function an(t){let e;return lt.size===0&&Nn(Hi),{promise:new Promise(n=>{lt.add(e={c:t,f:n})}),abort(){lt.delete(e)}}}function _(t,e){t.appendChild(e)}function Di(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function rs(t){const e=g("style");return ls(Di(t),e),e.sheet}function ls(t,e){return _(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function Ui(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function as(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function se(t){return document.createTextNode(t)}function x(){return se(" ")}function ht(){return se("")}function J(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function cs(t){return t===""?null:+t}function us(t){return Array.from(t.childNodes)}function He(t,e){e=""+e,t.data!==e&&(t.data=e)}function Kn(t,e){t.value=e??""}function Ze(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function ke(t,e,n){t.classList[n?"add":"remove"](e)}function fs(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}class ds{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=as(n.nodeName):this.e=g(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(A)}}function ft(t,e){return new t(e)}const Zt=new Map;let en=0;function ps(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ms(t,e){const n={stylesheet:rs(e),rules:{}};return Zt.set(t,n),n}function Mn(t,e,n,i,s,r,o,a=0){const l=16.666/i;let c=`{
`;for(let v=0;v<=1;v+=l){const E=e+(n-e)*r(v);c+=v*100+`%{${o(E,1-E)}}
`}const d=c+`100% {${o(n,1-n)}}
}`,h=`__svelte_${ps(d)}_${a}`,u=Di(t),{stylesheet:p,rules:m}=Zt.get(u)||ms(u,t);m[h]||(m[h]=!0,p.insertRule(`@keyframes ${h} ${d}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${h} ${i}ms linear ${s}ms 1 both`,en+=1,h}function tn(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),en-=s,en||hs())}function hs(){Nn(()=>{en||(Zt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),Zt.clear())})}function _s(t,e,n,i){if(!e)return F;const s=t.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return F;const{delay:r=0,duration:o=300,easing:a=Je,start:l=ln()+r,end:c=l+o,tick:d=F,css:h}=n(t,{from:e,to:s},i);let u=!0,p=!1,m;function y(){h&&(m=Mn(t,0,1,o,r,a,h)),r||(p=!0)}function v(){h&&tn(t,m),u=!1}return an(E=>{if(!p&&E>=l&&(p=!0),p&&E>=c&&(d(1,0),v()),!u)return!1;if(p){const I=E-l,R=0+1*a(I/o);d(R,1-R)}return!0}),y(),d(0,1),v}function gs(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:i}=e,s=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,zi(t,s)}}function zi(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),s=i.transform==="none"?"":i.transform;t.style.transform=`${s} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let At;function $t(t){At=t}function Fi(){if(!At)throw new Error("Function called outside component initialization");return At}function bs(t){Fi().$$.on_mount.push(t)}function ws(t){Fi().$$.on_destroy.push(t)}const st=[],Ve=[];let at=[];const Cn=[],vs=Promise.resolve();let $n=!1;function ks(){$n||($n=!0,vs.then(Bi))}function dt(t){at.push(t)}function Tn(t){Cn.push(t)}const hn=new Set;let et=0;function Bi(){if(et!==0)return;const t=At;do{try{for(;et<st.length;){const e=st[et];et++,$t(e),ys(e.$$)}}catch(e){throw st.length=0,et=0,e}for($t(null),st.length=0,et=0;Ve.length;)Ve.pop()();for(let e=0;e<at.length;e+=1){const n=at[e];hn.has(n)||(hn.add(n),n())}at.length=0}while(st.length);for(;Cn.length;)Cn.pop()();$n=!1,hn.clear(),$t(t)}function ys(t){if(t.fragment!==null){t.update(),_e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(dt)}}function Ss(t){const e=[],n=[];at.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),at=e}let wt;function Gi(){return wt||(wt=Promise.resolve(),wt.then(()=>{wt=null})),wt}function nn(t,e,n){t.dispatchEvent(fs(`${e?"intro":"outro"}${n}`))}const Xt=new Set;let Ne;function me(){Ne={r:0,c:[],p:Ne}}function he(){Ne.r||_e(Ne.c),Ne=Ne.p}function q(t,e){t&&t.i&&(Xt.delete(t),t.i(e))}function D(t,e,n,i){if(t&&t.o){if(Xt.has(t))return;Xt.add(t),Ne.c.push(()=>{Xt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Vi={duration:0};function Cs(t,e,n){const i={direction:"in"};let s=e(t,n,i),r=!1,o,a,l=0;function c(){o&&tn(t,o)}function d(){const{delay:u=0,duration:p=300,easing:m=Je,tick:y=F,css:v}=s||Vi;v&&(o=Mn(t,0,1,p,u,m,v,l++)),y(0,1);const E=ln()+u,I=E+p;a&&a.abort(),r=!0,dt(()=>nn(t,!0,"start")),a=an(R=>{if(r){if(R>=I)return y(1,0),nn(t,!0,"end"),c(),r=!1;if(R>=E){const B=m((R-E)/p);y(B,1-B)}}return r})}let h=!1;return{start(){h||(h=!0,tn(t),It(s)?(s=s(i),Gi().then(d)):d())},invalidate(){h=!1},end(){r&&(c(),r=!1)}}}function $s(t,e,n){const i={direction:"out"};let s=e(t,n,i),r=!0,o;const a=Ne;a.r+=1;function l(){const{delay:c=0,duration:d=300,easing:h=Je,tick:u=F,css:p}=s||Vi;p&&(o=Mn(t,1,0,d,c,h,p));const m=ln()+c,y=m+d;dt(()=>nn(t,!1,"start")),an(v=>{if(r){if(v>=y)return u(0,1),nn(t,!1,"end"),--a.r||_e(a.c),!1;if(v>=m){const E=h((v-m)/d);u(1-E,E)}}return r})}return It(s)?Gi().then(()=>{s=s(i),l()}):l(),{end(c){c&&s.tick&&s.tick(1,0),r&&(o&&tn(t,o),r=!1)}}}function Ts(t,e){D(t,1,1,()=>{e.delete(t.key)})}function As(t,e){t.f(),Ts(t,e)}function Es(t,e,n,i,s,r,o,a,l,c,d,h){let u=t.length,p=r.length,m=u;const y={};for(;m--;)y[t[m].key]=m;const v=[],E=new Map,I=new Map,R=[];for(m=p;m--;){const T=h(s,r,m),L=n(T);let G=o.get(L);G?i&&R.push(()=>G.p(T,e)):(G=c(L,T),G.c()),E.set(L,v[m]=G),L in y&&I.set(L,Math.abs(m-y[L]))}const B=new Set,M=new Set;function j(T){q(T,1),T.m(a,d),o.set(T.key,T),d=T.first,p--}for(;u&&p;){const T=v[p-1],L=t[u-1],G=T.key,z=L.key;T===L?(d=T.first,u--,p--):E.has(z)?!o.has(G)||B.has(G)?j(T):M.has(z)?u--:I.get(G)>I.get(z)?(M.add(G),j(T)):(B.add(z),u--):(l(L,o),u--)}for(;u--;){const T=t[u];E.has(T.key)||l(T,o)}for(;p;)j(v[p-1]);return _e(R),v}function Os(t,e){const n={},i={},s={$$scope:1};let r=t.length;for(;r--;){const o=t[r],a=e[r];if(a){for(const l in o)l in a||(i[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[r]=a}else for(const l in o)s[l]=1}for(const o in i)o in n||(n[o]=void 0);return n}function Is(t){return typeof t=="object"&&t!==null?t:{}}function Tt(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ne(t){t&&t.c()}function Q(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||dt(()=>{const o=t.$$.on_mount.map(Li).filter(It);t.$$.on_destroy?t.$$.on_destroy.push(...o):_e(o),t.$$.on_mount=[]}),r.forEach(dt)}function Z(t,e){const n=t.$$;n.fragment!==null&&(Ss(n.after_update),_e(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xs(t,e){t.$$.dirty[0]===-1&&(st.push(t),ks(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,n,i,s,r,o,a=[-1]){const l=At;$t(t);const c=t.$$={fragment:null,ctx:[],props:r,update:F,not_equal:s,bound:Jn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Jn(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(h,u,...p)=>{const m=p.length?p[0]:u;return c.ctx&&s(c.ctx[h],c.ctx[h]=m)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](m),d&&xs(t,h)),u}):[],c.update(),d=!0,_e(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const h=us(e.target);c.fragment&&c.fragment.l(h),h.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&q(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Bi()}$t(l)}class be{$destroy(){Z(this,1),this.$destroy=F}$on(e,n){if(!It(n))return F;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!ts(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const tt=[];function Rs(t,e){return{subscribe:_t(t,e).subscribe}}function _t(t,e=F){let n;const i=new Set;function s(a){if(fe(t,a)&&(t=a,n)){const l=!tt.length;for(const c of i)c[1](),tt.push(c,t);if(l){for(let c=0;c<tt.length;c+=2)tt[c][0](tt[c+1]);tt.length=0}}}function r(a){s(a(t))}function o(a,l=F){const c=[a,l];return i.add(c),i.size===1&&(n=e(s)||F),a(t),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function Wi(t){const e=t-1;return e*e*e+1}function Qn(t){return Object.prototype.toString.call(t)==="[object Date]"}function An(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((s,r)=>An(t[r],s));return s=>i.map(r=>r(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Qn(t)&&Qn(e)){t=t.getTime(),e=e.getTime();const r=e-t;return o=>new Date(t+o*r)}const i=Object.keys(e),s={};return i.forEach(r=>{s[r]=An(t[r],e[r])}),r=>{const o={};return i.forEach(a=>{o[a]=s[a](r)}),o}}if(n==="number"){const i=e-t;return s=>t+s*i}throw new Error(`Cannot interpolate ${n} values`)}function Ji(t,e={}){const n=_t(t);let i,s=t;function r(o,a){if(t==null)return n.set(t=o),Promise.resolve();s=o;let l=i,c=!1,{delay:d=0,duration:h=400,easing:u=Je,interpolate:p=An}=Qt(Qt({},e),a);if(h===0)return l&&(l.abort(),l=null),n.set(t=s),Promise.resolve();const m=ln()+d;let y;return i=an(v=>{if(v<m)return!0;c||(y=p(t,o),typeof h=="function"&&(h=h(t,o)),c=!0),l&&(l.abort(),l=null);const E=v-m;return E>h?(n.set(t=o),!1):(n.set(t=y(u(E/h))),!0)}),i.promise}return{set:r,update:(o,a)=>r(o(s,t),a),subscribe:n.subscribe}}var _n={};function Zn(t){return t==="local"?localStorage:sessionStorage}function js(t,e,n){const i=(n==null?void 0:n.serializer)??JSON,s=(n==null?void 0:n.storage)??"local",r=typeof window<"u"&&typeof document<"u";function o(a,l){r&&Zn(s).setItem(a,i.stringify(l))}if(!_n[t]){const a=_t(e,d=>{const h=r?Zn(s).getItem(t):null;if(h&&d(i.parse(h)),r){const u=p=>{p.key===t&&d(p.newValue?i.parse(p.newValue):null)};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)}}),{subscribe:l,set:c}=a;_n[t]={set(d){o(t,d),c(d)},update(d){const h=d(Mi(a));o(t,h),c(h)},subscribe:l}}return _n[t]}let Fe=js("settings",{roundedCorners:!1,volume:1,debugSettings:!1}),Xi=_t(!1);var Ls="2.0.0-beta.3",pt="",ei="?",En="function",Me="undefined",mt="object",On="string",Et="major",S="model",b="name",k="type",$="vendor",w="version",le="architecture",ot="console",U="mobile",V="tablet",ce="smarttv",Yt="wearable",ti="xr",In="embedded",ni="user-agent",xn=500,Pn="brands",Be="formFactors",qn="fullVersionList",ct="platform",Hn="platformVersion",cn="bitness",De="sec-ch-ua",Ns=De+"-full-version-list",Ms=De+"-arch",Ps=De+"-"+cn,qs=De+"-form-factors",Hs=De+"-"+U,Ds=De+"-"+S,Yi=De+"-"+ct,Us=Yi+"-version",Ki=[Pn,qn,U,S,ct,Hn,le,Be,cn],ue="browser",Te="cpu",ye="device",Ae="engine",pe="os",ut="result",Ft="Amazon",vt="Apple",ii="ASUS",si="BlackBerry",Bt="Google",oi="Huawei",ri="Lenovo",gn="LG",Kt="Microsoft",li="Motorola",Gt="Samsung",ai="Sharp",Vt="Sony",bn="Xiaomi",wn="Zebra",nt="Mobile ",it=" Browser",Wt="Chrome",zs="Edge",kt="Firefox",yt="Opera",ci="Facebook",ui="Sogou",Rn="Windows",Fs=typeof window!==Me,ae=Fs&&window.navigator?window.navigator:void 0,Le=ae&&ae.userAgentData?ae.userAgentData:void 0,Bs=function(t,e){var n={},i=e;if(!sn(e)){i={};for(var s in e)for(var r in e[s])i[r]=e[s][r].concat(i[r]?i[r]:[])}for(var o in t)n[o]=i[o]&&i[o].length%2===0?i[o].concat(t[o]):t[o];return n},un=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},jn=function(t,e){if(typeof t===mt&&t.length>0){for(var n in t)if(Pe(t[n])==Pe(e))return!0;return!1}return gt(t)?Pe(e).indexOf(Pe(t))!==-1:!1},sn=function(t,e){for(var n in t)return/^(browser|cpu|device|engine|os)$/.test(n)||(e?sn(t[n]):!1)},gt=function(t){return typeof t===On},vn=function(t){if(t){for(var e=[],n=We(/\\?\"/g,t).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var s=Ot(n[i]).split(";v=");e[i]={brand:s[0],version:s[1]}}else e[i]=Ot(n[i]);return e}},Pe=function(t){return gt(t)?t.toLowerCase():t},kn=function(t){return gt(t)?We(/[^\d\.]/g,t).split(".")[0]:void 0},Ee=function(t){for(var e in t){var n=t[e];typeof n==mt&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},We=function(t,e){return gt(e)?e.replace(t,pt):e},St=function(t){return We(/\\?\"/g,t)},Ot=function(t,e){if(gt(t))return t=We(/^\s\s*/,t),typeof e===Me?t:t.substring(0,xn)},fi=function(t,e){if(!(!t||!e))for(var n=0,i,s,r,o,a,l;n<e.length&&!a;){var c=e[n],d=e[n+1];for(i=s=0;i<c.length&&!a&&c[i];)if(a=c[i++].exec(t),a)for(r=0;r<d.length;r++)l=a[++s],o=d[r],typeof o===mt&&o.length>0?o.length===2?typeof o[1]==En?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:o.length===3?typeof o[1]===En&&!(o[1].exec&&o[1].test)?this[o[0]]=l?o[1].call(this,l,o[2]):void 0:this[o[0]]=l?l.replace(o[1],o[2]):void 0:o.length===4&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):void 0):this[o]=l||void 0;n+=2}},on=function(t,e){for(var n in e)if(typeof e[n]===mt&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(jn(e[n][i],t))return n===ei?void 0:n}else if(jn(e[n],t))return n===ei?void 0:n;return e.hasOwnProperty("*")?e["*"]:t},di={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},pi={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},mi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[b,nt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,w],[/opios[\/ ]+([\w\.]+)/i],[w,[b,yt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[b,yt+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[b,yt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[b,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,w],[/\bddg\/([\w\.]+)/i],[w,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[b,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[b,"Smart "+ri+it]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure"+it],w],[/\bfocus\/([\w\.]+)/i],[w,[b,kt+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[b,yt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[b,yt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[b,"MIUI"+it]],[/fxios\/([\w\.-]+)/i],[w,[b,nt+kt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360"+it]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+it],w],[/samsungbrowser\/([\w\.]+)/i],[w,[b,Gt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],w],[/metasr[\/ ]?([\d\.]+)/i],[w,[b,ui+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,ui+" Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[b,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,ci],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[b,Wt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,Wt+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[b,"Android"+it]],[/chrome\/([\w\.]+) mobile/i],[w,[b,nt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,w],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[w,[b,nt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[b,nt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[w,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[w,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[b,w],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[b,nt+kt],w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],w],[/(wolvic)\/([\w\.]+)/i],[b,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[b,kt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[b,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[w,/[^\d\.]+./,pt]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[le,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[le,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[le,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[le,"armhf"]],[/windows (ce|mobile); ppc;/i],[[le,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[le,/ower/,pt,Pe]],[/(sun4\w)[;\)]/i],[[le,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[le,Pe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[S,[$,Gt],[k,V]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[S,[$,Gt],[k,U]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[S,[$,vt],[k,U]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[S,[$,vt],[k,V]],[/(macintosh);/i],[S,[$,vt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[S,[$,ai],[k,U]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[S,[$,oi],[k,V]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[S,[$,oi],[k,U]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[S,/_/g," "],[$,bn],[k,U]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[S,/_/g," "],[$,bn],[k,V]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[S,[$,"OPPO"],[k,U]],[/\b(opd2\d{3}a?) bui/i],[S,[$,"OPPO"],[k,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[S,[$,"Vivo"],[k,U]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[S,[$,"Realme"],[k,U]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[S,[$,li],[k,U]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[S,[$,li],[k,V]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[S,[$,gn],[k,V]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[S,[$,gn],[k,U]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[S,[$,ri],[k,V]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[S,/_/g," "],[$,"Nokia"],[k,U]],[/(pixel c)\b/i],[S,[$,Bt],[k,V]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[S,[$,Bt],[k,U]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[S,[$,Vt],[k,U]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[S,"Xperia Tablet"],[$,Vt],[k,V]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[S,[$,"OnePlus"],[k,U]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[S,[$,Ft],[k,V]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[S,/(.+)/g,"Fire Phone $1"],[$,Ft],[k,U]],[/(playbook);[-\w\),; ]+(rim)/i],[S,$,[k,V]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[S,[$,si],[k,U]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[S,[$,ii],[k,V]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[S,[$,ii],[k,U]],[/(nexus 9)/i],[S,[$,"HTC"],[k,V]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[$,[S,/_/g," "],[k,U]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[S,[$,"Acer"],[k,V]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[S,[$,"Meizu"],[k,U]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[S,[$,"Ulefone"],[k,U]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[$,S,[k,U]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[$,S,[k,V]],[/(surface duo)/i],[S,[$,Kt],[k,V]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[S,[$,"Fairphone"],[k,U]],[/(shield[\w ]+) b/i],[S,[$,"Nvidia"],[k,V]],[/(sprint) (\w+)/i],[$,S,[k,U]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[$,Kt],[k,U]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[S,[$,wn],[k,V]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[S,[$,wn],[k,U]],[/smart-tv.+(samsung)/i],[$,[k,ce]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[$,Gt],[k,ce]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[$,gn],[k,ce]],[/(apple) ?tv/i],[$,[S,vt+" TV"],[k,ce]],[/crkey/i],[[S,Wt+"cast"],[$,Bt],[k,ce]],[/droid.+aft(\w+)( bui|\))/i],[S,[$,Ft],[k,ce]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[S,[$,ai],[k,ce]],[/(bravia[\w ]+)( bui|\))/i],[S,[$,Vt],[k,ce]],[/(mitv-\w{5}) bui/i],[S,[$,bn],[k,ce]],[/Hbbtv.*(technisat) (.*);/i],[$,S,[k,ce]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[$,Ot],[S,Ot],[k,ce]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[k,ce]],[/(ouya)/i,/(nintendo) (\w+)/i],[$,S,[k,ot]],[/droid.+; (shield) bui/i],[S,[$,"Nvidia"],[k,ot]],[/(playstation \w+)/i],[S,[$,Vt],[k,ot]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[S,[$,Kt],[k,ot]],[/((pebble))app/i],[$,S,[k,Yt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[S,[$,vt],[k,Yt]],[/droid.+; (wt63?0{2,3})\)/i],[S,[$,wn],[k,Yt]],[/droid.+; (glass) \d/i],[S,[$,Bt],[k,ti]],[/(quest( \d| pro)?)/i],[S,[$,ci],[k,ti]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[$,[k,In]],[/(aeobc)\b/i],[S,[$,Ft],[k,In]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[S,[k,U]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[S,[k,V]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[k,V]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[k,U]],[/(android[-\w\. ]{0,9});.+buil/i],[S,[$,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[b,zs+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,w],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[b,[w,on,di]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,on,di],[b,Rn]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"macOS"],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,w],[/\(bb(10);/i],[w,[b,si]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[b,kt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[b,Wt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,"Chrome OS"],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,w],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,w]]},Jt=function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Ee.call(t.init,[[ue,[b,w,Et,k]],[Te,[le]],[ye,[k,S,$]],[Ae,[b,w]],[pe,[b,w]]]),Ee.call(t.isIgnore,[[ue,[w,Et]],[Ae,[w]],[pe,[w]]]),Ee.call(t.isIgnoreRgx,[[ue,/ ?browser$/i],[pe,/ ?os$/i]]),Ee.call(t.toString,[[ue,[b,w]],[Te,[le]],[ye,[$,S]],[Ae,[b,w]],[pe,[b,w]]]),t}(),Gs=function(t,e){var n=Jt.init[e],i=Jt.isIgnore[e]||0,s=Jt.isIgnoreRgx[e]||0,r=Jt.toString[e]||0;function o(){Ee.call(this,n)}return o.prototype.getItem=function(){return t},o.prototype.withClientHints=function(){return Le?Le.getHighEntropyValues(Ki).then(function(a){return t.setCH(new Qi(a,!1)).parseCH().get()}):t.parseCH().get()},o.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=ut&&(o.prototype.is=function(a){var l=!1;for(var c in this)if(this.hasOwnProperty(c)&&!jn(i,c)&&Pe(s?We(s,this[c]):this[c])==Pe(s?We(s,a):a)){if(l=!0,a!=Me)break}else if(a==Me&&l){l=!l;break}return l},o.prototype.toString=function(){var a=pt;for(var l in r)typeof this[r[l]]!==Me&&(a+=(a?" ":pt)+this[r[l]]);return a||Me}),Le||(o.prototype.then=function(a){var l=this,c=function(){for(var h in l)l.hasOwnProperty(h)&&(this[h]=l[h])};c.prototype={is:o.prototype.is,toString:o.prototype.toString};var d=new c;return a(d),d}),new o};function Qi(t,e){if(t=t||{},Ee.call(this,Ki),e)Ee.call(this,[[Pn,vn(t[De])],[qn,vn(t[Ns])],[U,/\?1/.test(t[Hs])],[S,St(t[Ds])],[ct,St(t[Yi])],[Hn,St(t[Us])],[le,St(t[Ms])],[Be,vn(t[qs])],[cn,St(t[Ps])]]);else for(var n in t)this.hasOwnProperty(n)&&typeof t[n]!==Me&&(this[n]=t[n])}function hi(t,e,n,i){return this.get=function(s){return s?this.data.hasOwnProperty(s)?this.data[s]:void 0:this.data},this.set=function(s,r){return this.data[s]=r,this},this.setCH=function(s){return this.uaCH=s,this},this.detectFeature=function(){if(ae&&ae.userAgent==this.ua)switch(this.itemType){case ue:ae.brave&&typeof ae.brave.isBrave==En&&this.set(b,"Brave");break;case ye:!this.get(k)&&Le&&Le[U]&&this.set(k,U),this.get(S)=="Macintosh"&&ae&&typeof ae.standalone!==Me&&ae.maxTouchPoints&&ae.maxTouchPoints>2&&this.set(S,"iPad").set(k,V);break;case pe:!this.get(b)&&Le&&Le[ct]&&this.set(b,Le[ct]);break;case ut:var s=this.data,r=function(o){return s[o].getItem().detectFeature().get()};this.set(ue,r(ue)).set(Te,r(Te)).set(ye,r(ye)).set(Ae,r(Ae)).set(pe,r(pe))}return this},this.parseUA=function(){return this.itemType!=ut&&fi.call(this.data,this.ua,this.rgxMap),this.itemType==ue&&this.set(Et,kn(this.get(w))),this},this.parseCH=function(){var s=this.uaCH,r=this.rgxMap;switch(this.itemType){case ue:var o=s[qn]||s[Pn],a;if(o)for(var l in o){var c=We(/(Google|Microsoft) /,o[l].brand||o[l]),d=o[l].version;!/not.a.brand/i.test(c)&&(!a||/chrom/i.test(a)&&!/chromi/i.test(c))&&(this.set(b,c).set(w,d).set(Et,kn(d)),a=c)}break;case Te:var h=s[le];h&&(h&&s[cn]=="64"&&(h+="64"),fi.call(this.data,h+";",r));break;case ye:if(s[U]&&this.set(k,U),s[S]&&this.set(S,s[S]),s[S]=="Xbox"&&this.set(k,ot).set($,Kt),s[Be]){var u;if(typeof s[Be]!="string")for(var p=0;!u&&p<s[Be].length;)u=on(s[Be][p++],pi);else u=on(s[Be],pi);this.set(k,u)}break;case pe:var m=s[ct];if(m){var y=s[Hn];m==Rn&&(y=parseInt(kn(y),10)>=13?"11":"10"),this.set(b,m).set(w,y)}this.get(b)==Rn&&s[S]=="Xbox"&&this.set(b,"Xbox").set(w,void 0);break;case ut:var v=this.data,E=function(I){return v[I].getItem().setCH(s).parseCH().get()};this.set(ue,E(ue)).set(Te,E(Te)).set(ye,E(ye)).set(Ae,E(Ae)).set(pe,E(pe))}return this},Ee.call(this,[["itemType",t],["ua",e],["uaCH",i],["rgxMap",n],["data",Gs(this,t)]]),this}function Ce(t,e,n){if(typeof t===mt?(sn(t,!0)?(typeof e===mt&&(n=e),e=t):(n=t,e=void 0),t=void 0):typeof t===On&&!sn(e,!0)&&(n=e,e=void 0),!(this instanceof Ce))return new Ce(t,e,n).getResult();var i=typeof t===On?t:ae&&ae.userAgent?ae.userAgent:n&&n[ni]?n[ni]:pt,s=new Qi(n,!0),r=e?Bs(mi,e):mi,o=function(a){return a==ut?function(){return new hi(a,i,r,s).set("ua",i).set(ue,this.getBrowser()).set(Te,this.getCPU()).set(ye,this.getDevice()).set(Ae,this.getEngine()).set(pe,this.getOS()).get()}:function(){return new hi(a,i,r[a],s).parseUA().get()}};return Ee.call(this,[["getBrowser",o(ue)],["getCPU",o(Te)],["getDevice",o(ye)],["getEngine",o(Ae)],["getOS",o(pe)],["getResult",o(ut)],["getUA",function(){return i}],["setUA",function(a){return gt(a)&&(i=a.length>xn?Ot(a,xn):a),this}]]).setUA(i),this}Ce.VERSION=Ls;Ce.BROWSER=un([b,w,Et,k]);Ce.CPU=un([le]);Ce.DEVICE=un([S,$,k,ot,U,ce,V,Yt,In]);Ce.ENGINE=Ce.OS=un([b,w]);function Vs(t,{delay:e=0,duration:n=400,easing:i=Je}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function Ws(t,{delay:e=0,duration:n=400,easing:i=Wi,x:s=0,y:r=0,opacity:o=0}={}){const a=getComputedStyle(t),l=+a.opacity,c=a.transform==="none"?"":a.transform,d=l*(1-o),[h,u]=Yn(s),[p,m]=Yn(r);return{delay:e,duration:n,easing:i,css:(y,v)=>`
			transform: ${c} translate(${(1-y)*h}${u}, ${(1-y)*p}${m});
			opacity: ${l-d*v}`}}function Js(t,{from:e,to:n},i={}){const s=getComputedStyle(t),r=s.transform==="none"?"":s.transform,[o,a]=s.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*o/n.width-(n.left+o),c=e.top+e.height*a/n.height-(n.top+a),{delay:d=0,duration:h=p=>Math.sqrt(p)*120,easing:u=Wi}=i;return{delay:d,duration:It(h)?h(Math.sqrt(l*l+c*c)):h,easing:u,css:(p,m)=>{const y=m*l,v=m*c,E=p+m*e.width/n.width,I=p+m*e.height/n.height;return`transform: ${r} translate(${y}px, ${v}px) scale(${E}, ${I});`}}}const Xs={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function Ys(){const{subscribe:t,update:e}=_t(new Array),n={};let i=0;function s(c){return c instanceof Object}function r(c="default",d={}){return n[c]=d,n}function o(c,d){const h={target:"default",...s(c)?c:{...d,msg:c}},u=n[h.target]||{},p={...Xs,...u,...h,theme:{...u.theme,...h.theme},classes:[...u.classes||[],...h.classes||[]],id:++i};return e(m=>p.reversed?[...m,p]:[p,...m]),i}function a(c){e(d=>{if(!d.length||c===0)return[];if(typeof c=="function")return d.filter(u=>c(u));if(s(c))return d.filter(u=>u.target!==c.target);const h=c||Math.max(...d.map(u=>u.id));return d.filter(u=>u.id!==h)})}function l(c,d){const h=s(c)?c:{...d,id:c};e(u=>{const p=u.findIndex(m=>m.id===h.id);return p>-1&&(u[p]={...u[p],...h}),u})}return{subscribe:t,push:o,pop:a,set:l,_init:r}}const ie=Ys();function Ks(t){let e,n=t[0].msg+"",i;return{c(){e=new ds(!1),i=ht(),e.a=i},m(s,r){e.m(n,s,r),O(s,i,r)},p(s,r){r&1&&n!==(n=s[0].msg+"")&&e.p(n)},i:F,o:F,d(s){s&&A(i),s&&e.d()}}}function Qs(t){let e,n,i;const s=[t[2]];var r=t[0].component.src;function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Qt(l,s[c]);return{props:l}}return r&&(e=ft(r,o())),{c(){e&&ne(e.$$.fragment),n=ht()},m(a,l){e&&Q(e,a,l),O(a,n,l),i=!0},p(a,l){const c=l&4?Os(s,[Is(a[2])]):{};if(l&1&&r!==(r=a[0].component.src)){if(e){me();const d=e;D(d.$$.fragment,1,0,()=>{Z(d,1)}),he()}r?(e=ft(r,o()),ne(e.$$.fragment),q(e.$$.fragment,1),Q(e,n.parentNode,n)):e=null}else r&&e.$set(c)},i(a){i||(e&&q(e.$$.fragment,a),i=!0)},o(a){e&&D(e.$$.fragment,a),i=!1},d(a){a&&A(n),e&&Z(e,a)}}}function _i(t){let e,n,i;return{c(){e=g("div"),f(e,"class","_toastBtn pe svelte-95rq8t"),f(e,"role","button"),f(e,"tabindex","0")},m(s,r){O(s,e,r),n||(i=[J(e,"click",t[4]),J(e,"keydown",t[8])],n=!0)},p:F,d(s){s&&A(e),n=!1,_e(i)}}}function Zs(t){let e,n,i,s,r,o,a,l,c,d;const h=[Qs,Ks],u=[];function p(y,v){return y[0].component?0:1}i=p(t),s=u[i]=h[i](t);let m=t[0].dismissable&&_i(t);return{c(){e=g("div"),n=g("div"),s.c(),r=x(),m&&m.c(),o=x(),a=g("progress"),f(n,"class","_toastMsg svelte-95rq8t"),ke(n,"pe",t[0].component),f(a,"class","_toastBar svelte-95rq8t"),a.value=t[1],f(e,"role","status"),f(e,"class","_toastItem svelte-95rq8t"),ke(e,"pe",t[0].pausable)},m(y,v){O(y,e,v),_(e,n),u[i].m(n,null),_(e,r),m&&m.m(e,null),_(e,o),_(e,a),l=!0,c||(d=[J(e,"mouseenter",t[9]),J(e,"mouseleave",t[6])],c=!0)},p(y,[v]){let E=i;i=p(y),i===E?u[i].p(y,v):(me(),D(u[E],1,1,()=>{u[E]=null}),he(),s=u[i],s?s.p(y,v):(s=u[i]=h[i](y),s.c()),q(s,1),s.m(n,null)),(!l||v&1)&&ke(n,"pe",y[0].component),y[0].dismissable?m?m.p(y,v):(m=_i(y),m.c(),m.m(e,o)):m&&(m.d(1),m=null),(!l||v&2)&&(a.value=y[1]),(!l||v&1)&&ke(e,"pe",y[0].pausable)},i(y){l||(q(s),l=!0)},o(y){D(s),l=!1},d(y){y&&A(e),u[i].d(),m&&m.d(),c=!1,_e(d)}}}function yn(t,e="undefined"){return typeof t===e}function eo(t,e,n){let i,{item:s}=e,r=s.initial,o=r,a=!1,l={},c;const d=Ji(s.initial,{duration:s.duration,easing:Je});qe(t,d,I=>n(1,i=I));function h(){ie.pop(s.id)}function u(){(i===1||i===0)&&h()}function p(){!a&&i!==r&&(d.set(i,{duration:0}),a=!0)}function m(){if(a){const I=s.duration,R=I-I*((i-o)/(r-o));d.set(r,{duration:R}).then(u),a=!1}}function y(I=document){if(yn(I.hidden))return;const R=()=>I.hidden?p():m(),B="visibilitychange";I.addEventListener(B,R),c=()=>I.removeEventListener(B,R),R()}bs(y),ws(()=>{yn(s.onpop,"function")&&s.onpop(s.id),c&&c()});const v=I=>{I instanceof KeyboardEvent&&["Enter"," "].includes(I.key)&&h()},E=()=>{s.pausable&&p()};return t.$$set=I=>{"item"in I&&n(0,s=I.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(yn(s.progress)||n(0,s.next=s.progress,s)),t.$$.dirty&131&&r!==s.next&&(n(7,r=s.next),o=i,a=!1,d.set(r).then(u)),t.$$.dirty&1&&s.component){const{props:I={},sendIdTo:R}=s.component;n(2,l={...I,...R&&{[R]:s.id}})}},[s,i,l,d,h,p,m,r,v,E]}class to extends be{constructor(e){super(),ge(this,e,eo,Zs,fe,{item:0})}}function gi(t,e,n){const i=t.slice();return i[4]=e[n],i}function bi(t,e){let n,i,s,r,o,a,l,c,d=F,h;return i=new to({props:{item:e[4]}}),{key:t,first:null,c(){var u;n=g("li"),ne(i.$$.fragment),s=x(),f(n,"class",r=Xn((u=e[4].classes)==null?void 0:u.join(" "))+" svelte-1u812xz"),f(n,"style",o=wi(e[4].theme)),this.first=n},m(u,p){O(u,n,p),Q(i,n,null),_(n,s),h=!0},p(u,p){var y;e=u;const m={};p&1&&(m.item=e[4]),i.$set(m),(!h||p&1&&r!==(r=Xn((y=e[4].classes)==null?void 0:y.join(" "))+" svelte-1u812xz"))&&f(n,"class",r),(!h||p&1&&o!==(o=wi(e[4].theme)))&&f(n,"style",o)},r(){c=n.getBoundingClientRect()},f(){gs(n),d(),zi(n,c)},a(){d(),d=_s(n,c,Js,{duration:200})},i(u){h||(q(i.$$.fragment,u),dt(()=>{h&&(l&&l.end(1),a=Cs(n,Ws,e[4].intro),a.start())}),h=!0)},o(u){D(i.$$.fragment,u),a&&a.invalidate(),l=$s(n,Vs,{}),h=!1},d(u){u&&A(n),Z(i),u&&l&&l.end()}}}function no(t){let e,n=[],i=new Map,s,r=t[0];const o=a=>a[4].id;for(let a=0;a<r.length;a+=1){let l=gi(t,r,a),c=o(l);i.set(c,n[a]=bi(c,l))}return{c(){e=g("ul");for(let a=0;a<n.length;a+=1)n[a].c();f(e,"class","_toastContainer svelte-1u812xz")},m(a,l){O(a,e,l);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);s=!0},p(a,[l]){if(l&1){r=a[0],me();for(let c=0;c<n.length;c+=1)n[c].r();n=Es(n,l,o,1,a,r,i,e,As,bi,null,gi);for(let c=0;c<n.length;c+=1)n[c].a();he()}},i(a){if(!s){for(let l=0;l<r.length;l+=1)q(n[l]);s=!0}},o(a){for(let l=0;l<n.length;l+=1)D(n[l]);s=!1},d(a){a&&A(e);for(let l=0;l<n.length;l+=1)n[l].d()}}}function wi(t){return t?Object.keys(t).reduce((e,n)=>`${e}${n}:${t[n]};`,""):void 0}function io(t,e,n){let i;qe(t,ie,a=>n(3,i=a));let{options:s={}}=e,{target:r="default"}=e,o=[];return t.$$set=a=>{"options"in a&&n(1,s=a.options),"target"in a&&n(2,r=a.target)},t.$$.update=()=>{t.$$.dirty&6&&ie._init(r,s),t.$$.dirty&12&&n(0,o=i.filter(a=>a.target===r))},[o,s,r,i]}class so extends be{constructor(e){super(),ge(this,e,io,no,fe,{options:1,target:2})}}function fn(t){if(localStorage.getItem("accessToken")==null||localStorage.getItem("refreshToken")==null)return!1;let e=localStorage.getItem("expiryTime"),n=localStorage.getItem("tokenGenerationTime");if(Date.now()-n>e*1e3){let s=new URLSearchParams;s.append("grant_type","refresh_token"),s.append("refresh_token",localStorage.getItem("refreshToken")),s.append("client_id","c32a475ce586434d9c6436b5fa71de71"),fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}).then(r=>(r.ok||ie.push("Error refreshing token"),r.json())).then(r=>{localStorage.setItem("expiryTime",r.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",r.access_token),localStorage.setItem("refreshToken",r.refresh_token),ie.push("Regenerated access token")})}return localStorage.getItem("accessToken")}async function oo(t){const e=ao(128),n=await co(e);localStorage.setItem("verifier",e),console.log(window.location.href.split(/[?#]/)[0]);const i=new URLSearchParams;i.append("client_id",t),i.append("response_type","code"),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("scope","user-read-playback-state user-modify-playback-state user-read-currently-playing streaming playlist-read-private playlist-read-collaborative user-library-modify user-library-read user-follow-read user-read-private user-read-email"),i.append("code_challenge_method","S256"),i.append("code_challenge",n),console.log(`https://accounts.spotify.com/authorize?${i.toString()}`),document.location=`https://accounts.spotify.com/authorize?${i.toString()}`}async function ro(t,e){const n=localStorage.getItem("verifier"),i=new URLSearchParams;i.append("client_id",t),i.append("grant_type","authorization_code"),i.append("code",e),i.append("redirect_uri",window.location.href.split(/[?#]/)[0]),i.append("code_verifier",n),await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then(s=>(s.ok||ie.push("HTTP status "+s.status),s.json())).then(s=>(localStorage.setItem("expiryTime",s.expires_in),localStorage.setItem("tokenGenerationTime",Date.now()),localStorage.setItem("accessToken",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),ie.push("Logged in!"),!0)).catch(s=>{ie.push("Error:",s)})}function lo(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("expiryTime"),localStorage.removeItem("tokenGenerationTime"),localStorage.removeItem("verifier"),ie.push("Logged out!"),setTimeout(()=>{window.location.reload()},1e3)}function ao(t){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}async function co(t){const e=new TextEncoder().encode(t),n=await window.crypto.subtle.digest("SHA-256",e);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(n)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const bt={redirectToAuthCodeFlow:oo,newAccessToken:ro,getAccessToken:fn},Ct={setRepeat:uo,setShuffle:fo};async function uo(t,e){await fetch(`https://api.spotify.com/v1/me/player/repeat?state=${t}&device_id=${e}`,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${bt.getAccessToken()}`}}).then(()=>!0)}async function fo(t,e){await fetch(`https://api.spotify.com/v1/me/player/shuffle?state=${t}&device_id=${e}`,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${bt.getAccessToken()}`}}).then(()=>!0)}async function po(){return fetch("https://api.spotify.com/v1/me/player/queue",{method:"GET",headers:{Authorization:`Bearer ${bt.getAccessToken()}`}}).then(t=>(t.ok||console.error("Couldn't get queue from api!"),t.json())).then(t=>t.queue)}async function mo(t){await fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${bt.getAccessToken()}`},body:`{ "device_ids": ["${t}"], "play": false }`}).then(e=>{if(e.status==200||e.status==202)return!0;ie.push("Device handoff might not have succeeded. You might have do it from another client by using Spotify connect and choosing this device")})}let vi={track_window:{next_tracks:[]}},Ln,Zi;function ho(){const t=Ce(window.navigator.userAgent);return`${t.browser.name} · ${t.os.name}`}async function _o(){W=new Spotify.Player({name:`cleanplayer (${ho()}) `,getOAuthToken:t=>{t(fn())},volume:Mi(Fe).volume}),W.addListener("player_state_changed",t=>{JSON.stringify(t.track_window.next_tracks)!=JSON.stringify(vi.track_window.next_tracks)?(vi=t,setTimeout(async()=>{let e=await po();Zi=e,Ln&&(console.log("Updated queue: ",e),Ln(e))},1e3)):console.log("Chose not to update queue")}),W.addListener("ready",({device_id:t})=>{Ge=t})}let go=Rs([],function(e){Ln=e,e(Zi)}),W,Ge;function ki(t){let e,n,i,s,r;return{c(){e=se(`ultra secret debug settings:
  `),n=g("div"),i=g("button"),i.textContent="access token log",f(n,"class","settingItem svelte-1j5hbpr")},m(o,a){O(o,e,a),O(o,n,a),_(n,i),s||(r=J(i,"click",t[4]),s=!0)},p:F,d(o){o&&A(e),o&&A(n),s=!1,r()}}}function bo(t){let e,n,i,s,r,o,a,l,c,d,h,u,p,m,y,v,E,I,R,B,M=t[0]&&ki(t);return{c(){e=g("div"),n=g("div"),i=se(`Volume
    `),s=g("input"),r=x(),o=g("div"),a=se(`Rounded album art
    `),l=g("input"),d=x(),h=g("div"),u=g("button"),u.textContent="Log out",p=x(),m=g("div"),m.innerHTML=`<p>This application is fully open source on <a href="https://github.com/jakubiakdev/cleanplayer" class="svelte-1j5hbpr">Github</a></p> 
  <p>Please consider supporting me by <a href="https://ko-fi.com/jakubiakdev" target="_blank" class="svelte-1j5hbpr">buying me a coffee</a></p> 
  <p>© jakubiakdev 2023</p>`,y=x(),v=g("div"),v.innerHTML=`<p>All metadata and audio is from Spotify</p> 
  <p><a href="privacypolicy.txt" target="_blank" rel="noopener noreferrer" class="svelte-1j5hbpr">Privacy Policy</a></p>`,E=x(),M&&M.c(),I=ht(),f(s,"type","range"),f(s,"min","0"),f(s,"max","1"),f(s,"step","0.01"),f(n,"class","settingItem svelte-1j5hbpr"),f(l,"type","checkbox"),l.checked=c=t[1].roundedCorners,f(o,"class","settingItem svelte-1j5hbpr"),f(e,"class","container"),f(u,"class","svelte-1j5hbpr"),f(h,"class","settingItem logout svelte-1j5hbpr"),f(m,"class","info svelte-1j5hbpr"),f(v,"class","info svelte-1j5hbpr")},m(j,T){O(j,e,T),_(e,n),_(n,i),_(n,s),Kn(s,t[1].volume),_(e,r),_(e,o),_(o,a),_(o,l),O(j,d,T),O(j,h,T),_(h,u),O(j,p,T),O(j,m,T),O(j,y,T),O(j,v,T),O(j,E,T),M&&M.m(j,T),O(j,I,T),R||(B=[J(s,"change",t[3]),J(s,"input",t[3]),J(l,"change",t[2]),J(u,"click",lo)],R=!0)},p(j,[T]){T&2&&Kn(s,j[1].volume),T&2&&c!==(c=j[1].roundedCorners)&&(l.checked=c),j[0]?M?M.p(j,T):(M=ki(j),M.c(),M.m(I.parentNode,I)):M&&(M.d(1),M=null)},i:F,o:F,d(j){j&&A(e),j&&A(d),j&&A(h),j&&A(p),j&&A(m),j&&A(y),j&&A(v),j&&A(E),M&&M.d(j),j&&A(I),R=!1,_e(B)}}}function wo(t,e,n){let i;qe(t,Fe,l=>n(1,i=l));let s=!1;Fe.subscribe(l=>{W.setVolume(l.volume),n(0,s=l.debugSettings)});function r(l){l.target.checked?Fe.update(c=>({...c,roundedCorners:!0})):Fe.update(c=>({...c,roundedCorners:!1}))}function o(){i.volume=cs(this.value),Fe.set(i)}return[s,i,r,o,()=>{console.log(fn())}]}class vo extends be{constructor(e){super(),ge(this,e,wo,bo,fe,{})}}function rt(t){return t.map(e=>e.height).indexOf(Math.max(...t.map(e=>e.height)))}function ko(t){let e,n,i,s,r,o,a=t[0].name+"",l,c,d,h=t[0].artists[0].name+"",u;return{c(){e=g("div"),n=g("img"),s=x(),r=g("div"),o=g("div"),l=se(a),c=x(),d=g("div"),u=se(h),Se(n.src,i=t[0].album.images[rt(t[0].album.images)].url)||f(n,"src",i),f(n,"alt",""),f(n,"class","svelte-1ynzq9s"),f(o,"class","name"),f(d,"class","artist svelte-1ynzq9s"),f(r,"class","info svelte-1ynzq9s"),f(e,"class","card svelte-1ynzq9s")},m(p,m){O(p,e,m),_(e,n),_(e,s),_(e,r),_(r,o),_(o,l),_(r,c),_(r,d),_(d,u)},p(p,[m]){m&1&&!Se(n.src,i=p[0].album.images[rt(p[0].album.images)].url)&&f(n,"src",i),m&1&&a!==(a=p[0].name+"")&&He(l,a),m&1&&h!==(h=p[0].artists[0].name+"")&&He(u,h)},i:F,o:F,d(p){p&&A(e)}}}function yo(t,e,n){let{song:i}=e;return t.$$set=s=>{"song"in s&&n(0,i=s.song)},[i]}class So extends be{constructor(e){super(),ge(this,e,yo,ko,fe,{song:0})}}function yi(t,e,n){const i=t.slice();return i[1]=e[n],i}function Co(t){let e;return{c(){e=g("p"),e.textContent="Nothing here yet..."},m(n,i){O(n,e,i)},p:F,i:F,o:F,d(n){n&&A(e)}}}function $o(t){let e,n,i=t[0],s=[];for(let o=0;o<i.length;o+=1)s[o]=Si(yi(t,i,o));const r=o=>D(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ht()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);O(o,e,a),n=!0},p(o,a){if(a&1){i=o[0];let l;for(l=0;l<i.length;l+=1){const c=yi(o,i,l);s[l]?(s[l].p(c,a),q(s[l],1)):(s[l]=Si(c),s[l].c(),q(s[l],1),s[l].m(e.parentNode,e))}for(me(),l=i.length;l<s.length;l+=1)r(l);he()}},i(o){if(!n){for(let a=0;a<i.length;a+=1)q(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)D(s[a]);n=!1},d(o){Ui(s,o),o&&A(e)}}}function Si(t){let e,n;return e=new So({props:{song:t[1]}}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},p(i,s){const r={};s&1&&(r.song=i[1]),e.$set(r)},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function To(t){let e,n,i,s;const r=[$o,Co],o=[];function a(l,c){var d;return l[0]!=null&&((d=l[0])==null?void 0:d.length)>0?0:1}return e=a(t),n=o[e]=r[e](t),{c(){n.c(),i=ht()},m(l,c){o[e].m(l,c),O(l,i,c),s=!0},p(l,[c]){let d=e;e=a(l),e===d?o[e].p(l,c):(me(),D(o[d],1,1,()=>{o[d]=null}),he(),n=o[e],n?n.p(l,c):(n=o[e]=r[e](l),n.c()),q(n,1),n.m(i.parentNode,i))},i(l){s||(q(n),s=!0)},o(l){D(n),s=!1},d(l){o[e].d(l),l&&A(i)}}}function Ao(t,e,n){let i=[];return go.subscribe(s=>{n(0,i=s)}),[i]}class Eo extends be{constructor(e){super(),ge(this,e,Ao,To,fe,{})}}function Oo(t){let e,n;return e=new Eo({}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Io(t){let e,n;return e=new vo({}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function xo(t){let e,n,i,s,r,o,a,l,c,d,h,u,p,m,y,v,E;const I=[Io,Oo],R=[];function B(M,j){return M[0]=="settings"?0:M[0]=="queue"?1:-1}return~(p=B(t))&&(m=R[p]=I[p](t)),{c(){e=g("div"),n=g("div"),i=g("ul"),s=g("li"),r=g("button"),r.innerHTML=`<span class="material-symbols-rounded svelte-lhkqae">queue_music</span>
                Queue`,o=x(),a=g("hr"),l=x(),c=g("li"),d=g("button"),d.innerHTML=`<span class="material-symbols-rounded svelte-lhkqae">tune</span>
                Settings`,h=x(),u=g("div"),m&&m.c(),f(r,"class","svelte-lhkqae"),f(a,"class","svelte-lhkqae"),f(d,"class","svelte-lhkqae"),f(i,"class","svelte-lhkqae"),f(n,"class","itemList svelte-lhkqae"),f(u,"class","main svelte-lhkqae"),f(e,"class","container svelte-lhkqae")},m(M,j){O(M,e,j),_(e,n),_(n,i),_(i,s),_(s,r),_(i,o),_(i,a),_(i,l),_(i,c),_(c,d),_(e,h),_(e,u),~p&&R[p].m(u,null),y=!0,v||(E=[J(r,"click",t[1]),J(d,"click",t[2])],v=!0)},p(M,[j]){let T=p;p=B(M),p!==T&&(m&&(me(),D(R[T],1,1,()=>{R[T]=null}),he()),~p?(m=R[p],m||(m=R[p]=I[p](M),m.c()),q(m,1),m.m(u,null)):m=null)},i(M){y||(q(m),y=!0)},o(M){D(m),y=!1},d(M){M&&A(e),~p&&R[p].d(),v=!1,_e(E)}}}function Ro(t,e,n){let i="queue";return[i,()=>{n(0,i="queue")},()=>{n(0,i="settings")}]}class jo extends be{constructor(e){super(),ge(this,e,Ro,xo,fe,{})}}function Lo(t){let e,n,i;const s=t[1].default,r=ns(s,t,t[0],null);return{c(){e=g("div"),n=g("div"),r&&r.c(),f(n,"class","container svelte-qufn0i"),f(e,"class","background svelte-qufn0i")},m(o,a){O(o,e,a),_(e,n),r&&r.m(n,null),i=!0},p(o,[a]){r&&r.p&&(!i||a&1)&&ss(r,s,o,o[0],i?is(s,o[0],a,null):os(o[0]),null)},i(o){i||(q(r,o),i=!0)},o(o){D(r,o),i=!1},d(o){o&&A(e),r&&r.d(o)}}}function No(t,e,n){let{$$slots:i={},$$scope:s}=e;return t.$$set=r=>{"$$scope"in r&&n(0,s=r.$$scope)},[s,i]}class es extends be{constructor(e){super(),ge(this,e,No,Lo,fe,{})}}const rn="/assets/Spotify-6089a3df.png";function Ci(t){let e,n,i,s,r,o,a,l;return{c(){e=g("button"),n=se("Log in with Spotify"),i=g("img"),r=x(),o=g("div"),o.innerHTML=`<h1><a href="privacypolicy.txt" target="_blank" class="svelte-xagkxi">Privacy Policy</a></h1> 
        <p class="svelte-xagkxi">This application requires a Spotify Premium account</p>`,Se(i.src,s=rn)||f(i,"src",s),f(i,"alt",""),f(i,"class","svelte-xagkxi"),f(e,"class","mainAction svelte-xagkxi"),f(o,"class","svelte-xagkxi")},m(c,d){O(c,e,d),_(e,n),_(e,i),O(c,r,d),O(c,o,d),a||(l=J(e,"click",t[1]),a=!0)},p:F,d(c){c&&A(e),c&&A(r),c&&A(o),a=!1,l()}}}function $i(t){let e,n,i,s,r;return{c(){e=g("h1"),e.textContent="Please wait...",n=x(),i=g("button"),i.textContent="Retry",f(e,"class","mainAction svelte-xagkxi"),f(i,"class","mainAction svelte-xagkxi")},m(o,a){O(o,e,a),O(o,n,a),O(o,i,a),s||(r=J(i,"click",t[1]),s=!0)},p:F,d(o){o&&A(e),o&&A(n),o&&A(i),s=!1,r()}}}function Mo(t){let e,n,i=t[0]=="bad"&&Ci(t),s=t[0]=="waiting"&&$i(t);return{c(){e=g("div"),i&&i.c(),n=x(),s&&s.c(),f(e,"class","container svelte-xagkxi")},m(r,o){O(r,e,o),i&&i.m(e,null),_(e,n),s&&s.m(e,null)},p(r,o){r[0]=="bad"?i?i.p(r,o):(i=Ci(r),i.c(),i.m(e,n)):i&&(i.d(1),i=null),r[0]=="waiting"?s?s.p(r,o):(s=$i(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(r){r&&A(e),i&&i.d(),s&&s.d()}}}function Po(t){let e,n;return e=new es({props:{$$slots:{default:[Mo]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},p(i,[s]){const r={};s&5&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function qo(t,e,n){let{authState:i}=e;function s(){bt.redirectToAuthCodeFlow("c32a475ce586434d9c6436b5fa71de71")}return t.$$set=r=>{"authState"in r&&n(0,i=r.authState)},[i,s]}class Ho extends be{constructor(e){super(),ge(this,e,qo,Po,fe,{authState:0})}}function Do(t){let e,n,i,s,r,o,a,l;return{c(){e=g("div"),n=g("button"),n.textContent="Enter the app",i=x(),s=g("p"),s.textContent="Clicking this button you will transfer your Spotify playback session to this app. You can select new music from your other client",r=x(),o=g("p"),o.textContent="For playback to work, you need to interact with this page before audio can start playing",f(n,"class","mainAction svelte-rtxgsv"),f(e,"class","container svelte-rtxgsv")},m(c,d){O(c,e,d),_(e,n),_(e,i),_(e,s),_(e,r),_(e,o),a||(l=J(n,"click",t[0]),a=!0)},p:F,d(c){c&&A(e),a=!1,l()}}}function Uo(t){let e,n;return e=new es({props:{$$slots:{default:[Do]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},p(i,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function zo(t){return[async()=>{W.activateElement(),await mo(Ge),Ce(window.navigator.userAgent).device.type=="mobile"&&document.body.requestFullscreen({navigationUI:"hide"}),Xi.set(!0)}]}class Fo extends be{constructor(e){super(),ge(this,e,zo,Uo,fe,{})}}const Bo="/assets/SpotifyBlack-72c4f97f.png";function Go(t=8){const e=new Uint8Array(t/2);return crypto.getRandomValues(e),Array.from(e,n=>("0"+n.toString(16)).slice(-2)).join("")}localStorage.getItem("userSocketHash")===null&&localStorage.setItem("userSocketHash",JSON.stringify(Go()));const Vo=JSON.parse(localStorage.getItem("userSocketHash"));let Wo=new WebSocket(`wss://amused-consideration-production.up.railway.app/ws/webclient/${Vo}`),Dn=_t(Wo);function Ti(t,e,n){const i=t.slice();return i[17]=e[n],i}function Ai(t){let e,n;return e=new Ho({props:{authState:t[2]}}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},p(i,s){const r={};s[0]&4&&(r.authState=i[2]),e.$set(r)},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Ei(t){let e,n;return e=new jo({}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Oi(t){let e,n;return e=new Fo({}),{c(){ne(e.$$.fragment)},m(i,s){Q(e,i,s),n=!0},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Ii(t){let e,n,i,s,r,o,a,l,c,d,h,u,p,m,y,v,E,I,R,B,M,j=t[3].track_window.current_track.artists,T=[];for(let L=0;L<j.length;L+=1)T[L]=xi(Ti(t,j,L));return{c(){e=g("div"),n=g("div"),i=g("a"),s=g("img"),o=x(),a=g("span"),a.textContent="Song",l=x(),c=g("span"),c.textContent="open_in_new",h=x();for(let L=0;L<T.length;L+=1)T[L].c();u=x(),p=g("div"),m=g("a"),y=g("img"),E=x(),I=g("span"),I.textContent="Album",R=x(),B=g("span"),B.textContent="open_in_new",Se(s.src,r=rn)||f(s,"src",r),f(s,"alt",""),f(s,"class","svelte-1a52jeh"),f(a,"class","text svelte-1a52jeh"),f(c,"class","material-symbols-rounded svelte-1a52jeh"),f(i,"href",d="https://open.spotify.com/track/"+t[3].track_window.current_track.id),f(i,"target","_blank"),f(i,"class","svelte-1a52jeh"),f(n,"class","item svelte-1a52jeh"),Se(y.src,v=rn)||f(y,"src",v),f(y,"alt",""),f(y,"class","svelte-1a52jeh"),f(I,"class","text svelte-1a52jeh"),f(B,"class","material-symbols-rounded svelte-1a52jeh"),f(m,"href",M="https://open.spotify.com/album/"+t[3].track_window.current_track.album.uri.slice(14)),f(m,"target","_blank"),f(m,"class","svelte-1a52jeh"),f(p,"class","item svelte-1a52jeh"),f(e,"class","attributionMenu svelte-1a52jeh")},m(L,G){O(L,e,G),_(e,n),_(n,i),_(i,s),_(i,o),_(i,a),_(i,l),_(i,c),_(e,h);for(let z=0;z<T.length;z+=1)T[z]&&T[z].m(e,null);_(e,u),_(e,p),_(p,m),_(m,y),_(m,E),_(m,I),_(m,R),_(m,B)},p(L,G){if(G[0]&8&&d!==(d="https://open.spotify.com/track/"+L[3].track_window.current_track.id)&&f(i,"href",d),G[0]&8){j=L[3].track_window.current_track.artists;let z;for(z=0;z<j.length;z+=1){const we=Ti(L,j,z);T[z]?T[z].p(we,G):(T[z]=xi(we),T[z].c(),T[z].m(e,u))}for(;z<T.length;z+=1)T[z].d(1);T.length=j.length}G[0]&8&&M!==(M="https://open.spotify.com/album/"+L[3].track_window.current_track.album.uri.slice(14))&&f(m,"href",M)},d(L){L&&A(e),Ui(T,L)}}}function xi(t){let e,n,i,s,r,o,a,l=t[17].name+"",c,d,h,u;return{c(){e=g("div"),n=g("a"),i=g("img"),r=x(),o=g("span"),a=se("Artist: "),c=se(l),d=x(),h=g("span"),h.textContent="open_in_new",Se(i.src,s=rn)||f(i,"src",s),f(i,"alt",""),f(i,"class","svelte-1a52jeh"),f(o,"class","text svelte-1a52jeh"),f(h,"class","material-symbols-rounded svelte-1a52jeh"),f(n,"href",u="https://open.spotify.com/artist/"+t[17].uri.slice(15)),f(n,"target","_blank"),f(n,"class","svelte-1a52jeh"),f(e,"class","item svelte-1a52jeh")},m(p,m){O(p,e,m),_(e,n),_(n,i),_(n,r),_(n,o),_(o,a),_(o,c),_(n,d),_(n,h)},p(p,m){m[0]&8&&l!==(l=p[17].name+"")&&He(c,l),m[0]&8&&u!==(u="https://open.spotify.com/artist/"+p[17].uri.slice(15))&&f(n,"href",u)},d(p){p&&A(e)}}}function Jo(t){let e;return{c(){e=g("span"),e.textContent="repeat_one",f(e,"class","material-symbols-rounded turnedOn svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&A(e)}}}function Xo(t){let e;return{c(){e=g("span"),e.textContent="repeat",f(e,"class","material-symbols-rounded turnedOn svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&A(e)}}}function Yo(t){let e;return{c(){e=g("span"),e.textContent="repeat",f(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&A(e)}}}function Ri(t){let e,n,i,s,r;return{c(){e=g("div"),n=g("span"),i=se(t[9]),s=x(),r=se(t[8]),f(n,"class","material-symbols-rounded"),f(e,"class","infoText svelte-1a52jeh")},m(o,a){O(o,e,a),_(e,n),_(n,i),_(e,s),_(e,r)},p(o,a){a[0]&512&&He(i,o[9]),a[0]&256&&He(r,o[8])},d(o){o&&A(e)}}}function Ko(t){let e;return{c(){e=g("span"),e.textContent="play_circle",f(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&A(e)}}}function Qo(t){let e;return{c(){e=g("span"),e.textContent="pause_circle",f(e,"class","material-symbols-rounded svelte-1a52jeh")},m(n,i){O(n,e,i)},d(n){n&&A(e)}}}function Zo(t){let e,n,i,s,r,o,a,l,c,d,h,u,p,m,y,v,E,I,R,B,M,j,T,L,G,z,we,xt,Oe,de,Xe,Rt,$e,Ie,Ye,H,X,N,ve,jt,Ke,Lt,dn,Un,Nt,pn,zn,xe,Ue,Mt,Pt,Fn,Qe,Bn,ze,qt,Ht,Y,mn,Gn,K=(t[2]=="bad"||t[2]=="waiting")&&Ai(t),ee=t[0]&&Ei(),te=!t[15]&&t[2]=="good"&&Oi(),oe=t[1]&&Ii(t);r=new so({});function Vn(C,P){return C[12]==0?Yo:C[12]==1?Xo:Jo}let Dt=Vn(t),Re=Dt(t),re=t[8]&&Ri(t);function Wn(C,P){return C[10]?Qo:Ko}let Ut=Wn(t),je=Ut(t);return{c(){K&&K.c(),e=x(),ee&&ee.c(),n=x(),te&&te.c(),i=x(),oe&&oe.c(),s=x(),ne(r.$$.fragment),o=x(),a=g("div"),a.innerHTML=`<h1>This aspect ratio is not yet supported</h1> 
  <h3>Please resize the application window</h3>`,l=x(),c=g("div"),d=x(),h=g("div"),u=x(),p=g("div"),m=g("div"),y=g("button"),v=g("img"),I=x(),R=g("button"),B=g("span"),B.textContent="shuffle",j=x(),T=g("button"),Re.c(),G=x(),z=g("button"),we=g("span"),we.textContent="menu",xt=x(),Oe=g("div"),de=g("img"),Rt=x(),$e=g("div"),Ie=g("div"),Ye=g("span"),Ye.textContent="album",H=x(),X=g("a"),N=se(t[6]),ve=x(),re&&re.c(),jt=x(),Ke=g("div"),Lt=g("div"),dn=se(t[4]),Un=x(),Nt=g("div"),pn=se(t[17]),zn=x(),xe=g("div"),Ue=g("button"),Mt=g("span"),Mt.textContent="skip_previous",Fn=x(),Qe=g("button"),je.c(),Bn=x(),ze=g("button"),qt=g("span"),qt.textContent="skip_next",f(a,"class","unsupportedSizeNotice svelte-1a52jeh"),f(c,"class","progress svelte-1a52jeh"),Ze(c,"width",t[16]+"vw"),f(h,"class","background svelte-1a52jeh"),Ze(h,"background-image","url("+t[5]+")"),Se(v.src,E=Bo)||f(v,"src",E),f(v,"alt","Open on Spotify"),f(v,"class","svelte-1a52jeh"),ke(v,"imageTurnedOn",t[1]),f(y,"class","spotify svelte-1a52jeh"),f(B,"class","material-symbols-rounded svelte-1a52jeh"),ke(B,"turnedOn",t[11]),f(R,"class","shuffle svelte-1a52jeh"),R.disabled=M=t[13].toggling_shuffle,f(T,"class","repeat svelte-1a52jeh"),T.disabled=L=t[13].toggling_repeat_context||t[13].toggling_repeat_track,f(we,"class","material-symbols-rounded svelte-1a52jeh"),ke(we,"turnedOn",t[0]),f(z,"class","settings svelte-1a52jeh"),f(m,"class","sideActions svelte-1a52jeh"),Se(de.src,Xe=t[5])||f(de,"src",Xe),f(de,"alt",""),f(de,"class","albumArt svelte-1a52jeh"),Ze(de,"border-radius",t[14]),f(Ye,"class","material-symbols-rounded"),f(X,"href",t[7]),f(X,"class","clickable svelte-1a52jeh"),f(X,"target","_blank"),f(Ie,"class","infoText svelte-1a52jeh"),f($e,"class","albumInfo svelte-1a52jeh"),f(Oe,"class","albumContainer svelte-1a52jeh"),f(Lt,"class","title svelte-1a52jeh"),f(Nt,"class","artist svelte-1a52jeh"),f(Ke,"class","trackInfo svelte-1a52jeh"),f(Mt,"class","material-symbols-rounded svelte-1a52jeh"),f(Ue,"class","side svelte-1a52jeh"),Ue.disabled=Pt=t[13].skipping_prev,f(Qe,"class","play svelte-1a52jeh"),f(qt,"class","material-symbols-rounded svelte-1a52jeh"),f(ze,"class","side svelte-1a52jeh"),ze.disabled=Ht=t[13].skipping_next,f(xe,"class","controls svelte-1a52jeh"),f(p,"class","playerContainer svelte-1a52jeh")},m(C,P){K&&K.m(C,P),O(C,e,P),ee&&ee.m(C,P),O(C,n,P),te&&te.m(C,P),O(C,i,P),oe&&oe.m(C,P),O(C,s,P),Q(r,C,P),O(C,o,P),O(C,a,P),O(C,l,P),O(C,c,P),O(C,d,P),O(C,h,P),O(C,u,P),O(C,p,P),_(p,m),_(m,y),_(y,v),_(m,I),_(m,R),_(R,B),_(m,j),_(m,T),Re.m(T,null),_(m,G),_(m,z),_(z,we),_(p,xt),_(p,Oe),_(Oe,de),_(Oe,Rt),_(Oe,$e),_($e,Ie),_(Ie,Ye),_(Ie,H),_(Ie,X),_(X,N),_($e,ve),re&&re.m($e,null),_(p,jt),_(p,Ke),_(Ke,Lt),_(Lt,dn),_(Ke,Un),_(Ke,Nt),_(Nt,pn),_(p,zn),_(p,xe),_(xe,Ue),_(Ue,Mt),_(xe,Fn),_(xe,Qe),je.m(Qe,null),_(xe,Bn),_(xe,ze),_(ze,qt),Y=!0,mn||(Gn=[J(v,"click",t[23]),J(R,"click",t[20]),J(T,"click",t[21]),J(z,"click",t[24]),J(Ue,"click",t[25]),J(Qe,"click",t[19]),J(ze,"click",t[26])],mn=!0)},p(C,P){C[2]=="bad"||C[2]=="waiting"?K?(K.p(C,P),P[0]&4&&q(K,1)):(K=Ai(C),K.c(),q(K,1),K.m(e.parentNode,e)):K&&(me(),D(K,1,1,()=>{K=null}),he()),C[0]?ee?P[0]&1&&q(ee,1):(ee=Ei(),ee.c(),q(ee,1),ee.m(n.parentNode,n)):ee&&(me(),D(ee,1,1,()=>{ee=null}),he()),!C[15]&&C[2]=="good"?te?P[0]&32772&&q(te,1):(te=Oi(),te.c(),q(te,1),te.m(i.parentNode,i)):te&&(me(),D(te,1,1,()=>{te=null}),he()),C[1]?oe?oe.p(C,P):(oe=Ii(C),oe.c(),oe.m(s.parentNode,s)):oe&&(oe.d(1),oe=null),(!Y||P[0]&65536)&&Ze(c,"width",C[16]+"vw"),(!Y||P[0]&32)&&Ze(h,"background-image","url("+C[5]+")"),(!Y||P[0]&2)&&ke(v,"imageTurnedOn",C[1]),(!Y||P[0]&2048)&&ke(B,"turnedOn",C[11]),(!Y||P[0]&8192&&M!==(M=C[13].toggling_shuffle))&&(R.disabled=M),Dt!==(Dt=Vn(C))&&(Re.d(1),Re=Dt(C),Re&&(Re.c(),Re.m(T,null))),(!Y||P[0]&8192&&L!==(L=C[13].toggling_repeat_context||C[13].toggling_repeat_track))&&(T.disabled=L),(!Y||P[0]&1)&&ke(we,"turnedOn",C[0]),(!Y||P[0]&32&&!Se(de.src,Xe=C[5]))&&f(de,"src",Xe),(!Y||P[0]&16384)&&Ze(de,"border-radius",C[14]),(!Y||P[0]&64)&&He(N,C[6]),(!Y||P[0]&128)&&f(X,"href",C[7]),C[8]?re?re.p(C,P):(re=Ri(C),re.c(),re.m($e,null)):re&&(re.d(1),re=null),(!Y||P[0]&16)&&He(dn,C[4]),(!Y||P[0]&131072)&&He(pn,C[17]),(!Y||P[0]&8192&&Pt!==(Pt=C[13].skipping_prev))&&(Ue.disabled=Pt),Ut!==(Ut=Wn(C))&&(je.d(1),je=Ut(C),je&&(je.c(),je.m(Qe,null))),(!Y||P[0]&8192&&Ht!==(Ht=C[13].skipping_next))&&(ze.disabled=Ht)},i(C){Y||(q(K),q(ee),q(te),q(r.$$.fragment,C),Y=!0)},o(C){D(K),D(ee),D(te),D(r.$$.fragment,C),Y=!1},d(C){K&&K.d(C),C&&A(e),ee&&ee.d(C),C&&A(n),te&&te.d(C),C&&A(i),oe&&oe.d(C),C&&A(s),Z(r,C),C&&A(o),C&&A(a),C&&A(l),C&&A(c),C&&A(d),C&&A(h),C&&A(u),C&&A(p),Re.d(),re&&re.d(),je.d(),mn=!1,_e(Gn)}}}function er(t,e,n){let i,s,r;qe(t,Dn,H=>n(30,i=H)),qe(t,Xi,H=>n(15,s=H));let o=i,{socketConnection:a}=e,l=!1,c=!1,d;localStorage.getItem("accessToken")?d="waiting":d="bad";let h={},u="",p="",m="",y="",v="#",E="",I="",R=!1;const B=Ji(0,{duration:1e3,easing:Je});qe(t,B,H=>n(16,r=H));let M=1e5,j=0,T=!1,L=!1,G={pausing:!1,peeking_next:!1,peeking_prev:!1,resuming:!1,seeking:!1,skipping_next:!1,skipping_prev:!1},z;Fe.subscribe(H=>{H.roundedCorners?n(14,z="2ch"):n(14,z=0)});function we(){R?W.pause().then(()=>{n(10,R=!1)}):W.resume().then(()=>{n(10,R=!0)})}async function xt(){T==!0?(await Ct.setShuffle(!1,Ge),n(11,T=!1)):(await Ct.setShuffle(!0,Ge),n(11,T=!0))}async function Oe(){L==0?(await Ct.setRepeat("context",Ge),n(12,L=1)):L==1?(await Ct.setRepeat("track",Ge),n(12,L=2)):n(12,L=2)&&(await Ct.setRepeat("off",Ge),n(12,L=0))}setInterval(de,1e3);function de(){R&&(j=j+1e3,B.set(j*100/M))}function Xe(H){const X=h;if(n(3,h=H),W.pause().then(()=>{n(10,R=!1)}),H&&(X===null||X.track_window.current_track.id!==H.track_window.current_track.id)){let N=H.track_window.current_track;H.paused;let ve={id:N.id,artist:N.artists[0].name,name:N.name,albumName:N.album.name,albumArt:H.track_window.current_track.album.images[rt(H.track_window.current_track.album.images)].url};o.send(JSON.stringify(ve))}n(4,u=H.track_window.current_track.name),n(17,p=H.track_window.current_track.artists.map(N=>N.name).join(", ")),n(5,m=H.track_window.current_track.album.images[rt(H.track_window.current_track.album.images)].url),n(6,y=H.track_window.current_track.album.name),n(7,v=`https://open.spotify.com/album/${H.track_window.current_track.album.uri.slice(14)}`),n(8,E=""),n(9,I=""),H.context.uri.startsWith("spotify:playlist")&&(n(9,I="library_music"),n(8,E=H.context.metadata.context_description)),H.context.uri.startsWith("spotify:user")&&(n(9,I="favorite"),n(8,E="Liked Songs")),M=H.duration,j=H.position,n(11,T=H.shuffle),n(12,L=H.repeat_mode),n(13,G=H.disallows)}o.onmessage=function(H){let X=H.data;if(console.log("message sent from lua"+X),X==="nextSong")W.nextTrack().then(()=>{console.log("track has been skipped",error)}).catch(N=>{console.error("Error skipping tracks",N)});else if(X==="prevSong")W.previousTrack().then(()=>{console.log("going to last track",error)}).catch(N=>{console.error("Error going back",N)});else if(X==="luaConnected"){if(JSON.stringify(h)!=="{}"){let N=h.track_window.current_track,ve={id:N.id,artist:N.artists[0].name,name:N.name,albumName:N.album.name,albumArt:h.track_window.current_track.album.images[rt(h.track_window.current_track.album.images)].url};o.send(JSON.stringify(ve))}n(22,a=!0)}else if(X=="luaDisconnect"){console.log("caught lua disconnect"),localStorage.setItem("luaSocketConnected",JSON.stringify(!1));let N=h.track_window.current_track,ve={id:N.id,artist:N.artists[0].name,name:N.name,albumName:N.album.name,albumArt:h.track_window.current_track.album.images[rt(h.track_window.current_track.album.images)].url};localStorage.setItem("storedTrack",JSON.stringify(ve)),n(22,a=!1)}},window.onSpotifyWebPlaybackSDKReady=async function(){const H=new URLSearchParams(window.location.search).get("code");H&&(await bt.newAccessToken("c32a475ce586434d9c6436b5fa71de71",H),window.history.replaceState({},document.title,window.location.origin+window.location.pathname),n(2,d="waiting"));let X=fn();X==!1||X==null?n(2,d="bad"):(_o(),W.addListener("ready",({device_id:N})=>{console.log("Ready with Device ID",N),ie.push(`Ready with Device ID ${N}`),n(2,d="good")}),W.addListener("not_ready",({device_id:N})=>{console.log("Device ID has gone offline",N),ie.push(`Device ID has gone offline ${N}`)}),W.addListener("initialization_error",({message:N})=>{console.error(N),ie.push(`Spotify initialization error: ${N}`)}),W.addListener("authentication_error",({message:N})=>{console.error(N),ie.push(`Spotify authentication error: ${N}`),n(2,d="bad")}),W.addListener("account_error",({message:N})=>{console.error(N),ie.push(`Spotify account error: ${N}`),n(2,d="bad")}),W.connect().then(N=>{if(N){console.log("The Web Playback SDK successfully connected to Spotify!"),ie.push("Successfully connected to Spotify");return}const ve=localStorage.getItem("storedTrack");if(ve){let jt=JSON.parse(ve);o.send(JSON.stringify(jt))}}),W.addListener("player_state_changed",N=>{Xe(N)}))};const Rt=()=>{n(1,c=!c)},$e=()=>{n(0,l=!l)},Ie=()=>{W.previousTrack(),W.pause().then(()=>{n(10,R=!1)})},Ye=()=>{W.nextTrack(),W.pause().then(()=>{n(10,R=!1)})};return t.$$set=H=>{"socketConnection"in H&&n(22,a=H.socketConnection)},[l,c,d,h,u,m,y,v,E,I,R,T,L,G,z,s,r,p,B,we,xt,Oe,a,Rt,$e,Ie,Ye]}class ji extends be{constructor(e){super(),ge(this,e,er,Zo,fe,{socketConnection:22},null,[-1,-1])}}function tr(t){let e,n,i,s,r,o,a,l,c,d,h,u;return{c(){e=g("div"),n=g("div"),i=g("h1"),i.textContent="Getting started",s=x(),r=g("div"),o=g("p"),o.textContent="> wget https://cloud-catcher.squiddev.cc/cloud.lua",a=x(),l=g("p"),l.textContent=`> spotify.lua ${t[0]}`,c=x(),d=g("div"),d.innerHTML='<p class="svelte-1emd8dp">For more information, as well as source code and screenshots, see the <a href="https://github.com/SquidDev-CC/cloud-catcher" class="svelte-1emd8dp">GitHub repository</a>.</p>',h=x(),u=g("div"),u.innerHTML=`<h2 class="svelte-1emd8dp">Getting started</h2> 
    <p class="svelte-1emd8dp">You will require:</p> 
    <ul class="svelte-1emd8dp"><li class="svelte-1emd8dp">An internet connection</li> 
      <li class="svelte-1emd8dp"><a href="https://tweaked.cc" class="svelte-1emd8dp">CC: Tweaked</a></li></ul> 
    <p class="svelte-1emd8dp">Then just follow the instructions at the top!</p>`,f(i,"class","svelte-1emd8dp"),f(o,"class","svelte-1emd8dp"),f(l,"class","svelte-1emd8dp"),f(r,"class","code-block svelte-1emd8dp"),f(n,"class","getting-started svelte-1emd8dp"),f(d,"class","content"),f(u,"class","getting-started svelte-1emd8dp"),f(e,"class","container svelte-1emd8dp")},m(p,m){O(p,e,m),_(e,n),_(n,i),_(n,s),_(n,r),_(r,o),_(r,a),_(r,l),_(e,c),_(e,d),_(e,h),_(e,u)},p:F,i:F,o:F,d(p){p&&A(e)}}}function nr(t,e,n){let i;qe(t,Dn,a=>n(3,i=a));let s=i;const r=JSON.parse(localStorage.getItem("userSocketHash"));let{socketConnection:o}=e;return s.onmessage=function(a){let l=a.data;!o&&l=="luaConnected"&&(localStorage.setItem("luaSocketConnected",JSON.stringify(!0)),n(1,o=!0));const c=localStorage.getItem("storedTrack");if(c){let d=JSON.parse(c);s.send(JSON.stringify(d))}},t.$$set=a=>{"socketConnection"in a&&n(1,o=a.socketConnection)},[r,o]}class Sn extends be{constructor(e){super(),ge(this,e,nr,tr,fe,{socketConnection:1})}}function ir(t){let e,n,i,s,r,o;function a(u){t[2](u)}var l=Sn;function c(u){let p={};return u[0]!==void 0&&(p.socketConnection=u[0]),{props:p}}l&&(e=ft(l,c(t)),Ve.push(()=>Tt(e,"socketConnection",a)));function d(u){t[3](u)}let h={};return t[0]!==void 0&&(h.socketConnection=t[0]),s=new Sn({props:h}),Ve.push(()=>Tt(s,"socketConnection",d)),{c(){e&&ne(e.$$.fragment),i=x(),ne(s.$$.fragment)},m(u,p){e&&Q(e,u,p),O(u,i,p),Q(s,u,p),o=!0},p(u,p){const m={};if(!n&&p&1&&(n=!0,m.socketConnection=u[0],Tn(()=>n=!1)),l!==(l=Sn)){if(e){me();const v=e;D(v.$$.fragment,1,0,()=>{Z(v,1)}),he()}l?(e=ft(l,c(u)),Ve.push(()=>Tt(e,"socketConnection",a)),ne(e.$$.fragment),q(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else l&&e.$set(m);const y={};!r&&p&1&&(r=!0,y.socketConnection=u[0],Tn(()=>r=!1)),s.$set(y)},i(u){o||(e&&q(e.$$.fragment,u),q(s.$$.fragment,u),o=!0)},o(u){e&&D(e.$$.fragment,u),D(s.$$.fragment,u),o=!1},d(u){e&&Z(e,u),u&&A(i),Z(s,u)}}}function sr(t){let e,n,i,s;function r(l){t[1](l)}var o=ji;function a(l){let c={};return l[0]!==void 0&&(c.socketConnection=l[0]),{props:c}}return o&&(e=ft(o,a(t)),Ve.push(()=>Tt(e,"socketConnection",r))),{c(){e&&ne(e.$$.fragment),i=ht()},m(l,c){e&&Q(e,l,c),O(l,i,c),s=!0},p(l,c){const d={};if(!n&&c&1&&(n=!0,d.socketConnection=l[0],Tn(()=>n=!1)),o!==(o=ji)){if(e){me();const h=e;D(h.$$.fragment,1,0,()=>{Z(h,1)}),he()}o?(e=ft(o,a(l)),Ve.push(()=>Tt(e,"socketConnection",r)),ne(e.$$.fragment),q(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else o&&e.$set(d)},i(l){s||(e&&q(e.$$.fragment,l),s=!0)},o(l){e&&D(e.$$.fragment,l),s=!1},d(l){l&&A(i),e&&Z(e,l)}}}function or(t){let e,n,i,s,r,o,a,l,c,d,h,u;const p=[sr,ir],m=[];function y(v,E){return v[0]?0:1}return e=y(t),n=m[e]=p[e](t),{c(){n.c(),i=x(),s=g("link"),r=g("link"),o=g("link"),a=g("style"),a.textContent=`body {
      padding: 0;
      margin: 0;
      font-family: "Libre Franklin", sans-serif;
      color: #fbfcfc;
      /* font-family: Arial, Helvetica, sans-serif; */
    }
  `,l=g("script"),d=g("link"),h=g("style"),h.textContent=`.material-symbols-outlined {
      font-variation-settings:
        "FILL" 0,
        "wght" 300,
        "GRAD" 0,
        "opsz" 48;
    }`,f(s,"rel","preconnect"),f(s,"href","https://fonts.googleapis.com"),f(r,"rel","preconnect"),f(r,"href","https://fonts.gstatic.com"),f(r,"crossorigin",""),f(o,"href","https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@300&display=swap"),f(o,"rel","stylesheet"),Se(l.src,c="https://sdk.scdn.co/spotify-player.js")||f(l,"src",c),f(d,"rel","stylesheet"),f(d,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,300,0,0")},m(v,E){m[e].m(v,E),O(v,i,E),_(document.head,s),_(document.head,r),_(document.head,o),_(document.head,a),_(document.head,l),_(document.head,d),_(document.head,h),u=!0},p(v,[E]){let I=e;e=y(v),e===I?m[e].p(v,E):(me(),D(m[I],1,1,()=>{m[I]=null}),he(),n=m[e],n?n.p(v,E):(n=m[e]=p[e](v),n.c()),q(n,1),n.m(i.parentNode,i))},i(v){u||(q(n),u=!0)},o(v){D(n),u=!1},d(v){m[e].d(v),v&&A(i),A(s),A(r),A(o),A(a),A(l),A(d),A(h)}}}function rr(t,e,n){let i;qe(t,Dn,c=>n(5,i=c));let s=i;JSON.parse(localStorage.getItem("userSocketHash")),localStorage.getItem("luaSocketConnected")===null&&localStorage.setItem("luaSocketConnected",JSON.stringify(!1));let r=JSON.parse(localStorage.getItem("luaSocketConnected"));s.onmessage=function(c){let d=c.data;!r&&d=="luaConnected"&&(localStorage.setItem("luaSocketConnected",JSON.stringify(!0)),n(0,r=!0))};function o(c){r=c,n(0,r)}function a(c){r=c,n(0,r)}function l(c){r=c,n(0,r)}return[r,o,a,l]}class lr extends be{constructor(e){super(),ge(this,e,rr,or,fe,{})}}new lr({target:document.getElementById("app")});
